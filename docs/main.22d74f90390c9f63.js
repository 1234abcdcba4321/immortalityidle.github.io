"use strict";(self.webpackChunkimmortalityidle=self.webpackChunkimmortalityidle||[]).push([[179],{928:()=>{function ce(n){return"function"==typeof n}function Ho(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const pa=Ho(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Sr(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class lt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(ce(i))try{i()}catch(o){t=o instanceof pa?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{eg(o)}catch(s){t=null!=t?t:[],s instanceof pa?t=[...t,...s.errors]:t.push(s)}}if(t)throw new pa(t)}}add(t){var e;if(t&&t!==this)if(this.closed)eg(t);else{if(t instanceof lt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Sr(e,t)}remove(t){const{_finalizers:e}=this;e&&Sr(e,t),t instanceof lt&&t._removeParent(this)}}lt.EMPTY=(()=>{const n=new lt;return n.closed=!0,n})();const Xp=lt.EMPTY;function Jp(n){return n instanceof lt||n&&"closed"in n&&ce(n.remove)&&ce(n.add)&&ce(n.unsubscribe)}function eg(n){ce(n)?n():n.unsubscribe()}const ji={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ga={setTimeout(n,t,...e){const{delegate:i}=ga;return(null==i?void 0:i.setTimeout)?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=ga;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function tg(n){ga.setTimeout(()=>{const{onUnhandledError:t}=ji;if(!t)throw n;t(n)})}function $c(){}const eE=qc("C",void 0,void 0);function qc(n,t,e){return{kind:n,value:t,error:e}}let Ui=null;function ma(n){if(ji.useDeprecatedSynchronousErrorHandling){const t=!Ui;if(t&&(Ui={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=Ui;if(Ui=null,e)throw i}}else n()}class zc extends lt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Jp(t)&&t.add(this)):this.destination=aE}static create(t,e,i){return new va(t,e,i)}next(t){this.isStopped?Wc(function nE(n){return qc("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Wc(function tE(n){return qc("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Wc(eE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const rE=Function.prototype.bind;function Gc(n,t){return rE.call(n,t)}class oE{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){ya(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){ya(i)}else ya(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){ya(e)}}}class va extends zc{constructor(t,e,i){let r;if(super(),ce(t)||!t)r={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=i?i:void 0};else{let o;this&&ji.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Gc(t.next,o),error:t.error&&Gc(t.error,o),complete:t.complete&&Gc(t.complete,o)}):r=t}this.destination=new oE(r)}}function ya(n){ji.useDeprecatedSynchronousErrorHandling?function iE(n){ji.useDeprecatedSynchronousErrorHandling&&Ui&&(Ui.errorThrown=!0,Ui.error=n)}(n):tg(n)}function Wc(n,t){const{onStoppedNotification:e}=ji;e&&ga.setTimeout(()=>e(n,t))}const aE={closed:!0,next:$c,error:function sE(n){throw n},complete:$c},Yc="function"==typeof Symbol&&Symbol.observable||"@@observable";function yi(n){return n}let Ie=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function cE(n){return n&&n instanceof zc||function lE(n){return n&&ce(n.next)&&ce(n.error)&&ce(n.complete)}(n)&&Jp(n)}(e)?e:new va(e,i,r);return ma(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=ig(i))((r,o)=>{const s=new va({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Yc](){return this}pipe(...e){return function ng(n){return 0===n.length?yi:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=ig(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function ig(n){var t;return null!==(t=null!=n?n:ji.Promise)&&void 0!==t?t:Promise}const uE=Ho(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ve=(()=>{class n extends Ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new rg(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new uE}next(e){ma(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){ma(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){ma(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Xp:(this.currentObservers=null,o.push(e),new lt(()=>{this.currentObservers=null,Sr(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new Ie;return e.source=this,e}}return n.create=(t,e)=>new rg(t,e),n})();class rg extends ve{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Xp}}function og(n){return ce(null==n?void 0:n.lift)}function qe(n){return t=>{if(og(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Re(n,t,e,i,r){return new dE(n,t,e,i,r)}class dE extends zc{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ae(n,t){return qe((e,i)=>{let r=0;e.subscribe(Re(i,o=>{i.next(n.call(t,o,r++))}))})}function $i(n){return this instanceof $i?(this.v=n,this):new $i(n)}function pE(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(h){i[h]&&(r[h]=function(f){return new Promise(function(p,m){o.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof $i?Promise.resolve(h.value.v).then(c,u):d(o[0][2],h)}(i[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function gE(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function lg(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const Zc=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function cg(n){return ce(null==n?void 0:n.then)}function ug(n){return ce(n[Yc])}function dg(n){return Symbol.asyncIterator&&ce(null==n?void 0:n[Symbol.asyncIterator])}function hg(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const fg=function vE(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function pg(n){return ce(null==n?void 0:n[fg])}function gg(n){return pE(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield $i(e.read());if(r)return yield $i(void 0);yield yield $i(i)}}finally{e.releaseLock()}})}function mg(n){return ce(null==n?void 0:n.getReader)}function Rt(n){if(n instanceof Ie)return n;if(null!=n){if(ug(n))return function yE(n){return new Ie(t=>{const e=n[Yc]();if(ce(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Zc(n))return function _E(n){return new Ie(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(cg(n))return function bE(n){return new Ie(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,tg)})}(n);if(dg(n))return vg(n);if(pg(n))return function CE(n){return new Ie(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(mg(n))return function SE(n){return vg(gg(n))}(n)}throw hg(n)}function vg(n){return new Ie(t=>{(function wE(n,t){var e,i,r,o;return function hE(n,t,e,i){return new(e||(e=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=gE(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Zn(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function Xe(n,t,e=1/0){return ce(t)?Xe((i,r)=>ae((o,s)=>t(i,o,r,s))(Rt(n(i,r))),e):("number"==typeof t&&(e=t),qe((i,r)=>function DE(n,t,e,i,r,o,s,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&t.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{o&&t.next(m),c++;let C=!1;Rt(e(m,u++)).subscribe(Re(t,D=>{null==r||r(D),o?f(D):t.next(D)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<i;){const D=l.shift();s?Zn(t,s,()=>p(D)):p(D)}h()}catch(D){t.error(D)}}))};return n.subscribe(Re(t,f,()=>{d=!0,h()})),()=>{null==a||a()}}(i,r,n,e)))}function jo(n=1/0){return Xe(yi,n)}const Qn=new Ie(n=>n.complete());function yg(n){return n&&ce(n.schedule)}function Qc(n){return n[n.length-1]}function _g(n){return ce(Qc(n))?n.pop():void 0}function Uo(n){return yg(Qc(n))?n.pop():void 0}function bg(n,t=0){return qe((e,i)=>{e.subscribe(Re(i,r=>Zn(i,n,()=>i.next(r),t),()=>Zn(i,n,()=>i.complete(),t),r=>Zn(i,n,()=>i.error(r),t)))})}function Cg(n,t=0){return qe((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function Sg(n,t){if(!n)throw new Error("Iterable cannot be null");return new Ie(e=>{Zn(e,t,()=>{const i=n[Symbol.asyncIterator]();Zn(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function rt(n,t){return t?function PE(n,t){if(null!=n){if(ug(n))return function xE(n,t){return Rt(n).pipe(Cg(t),bg(t))}(n,t);if(Zc(n))return function TE(n,t){return new Ie(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(cg(n))return function AE(n,t){return Rt(n).pipe(Cg(t),bg(t))}(n,t);if(dg(n))return Sg(n,t);if(pg(n))return function IE(n,t){return new Ie(e=>{let i;return Zn(e,t,()=>{i=n[fg](),Zn(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>ce(null==i?void 0:i.return)&&i.return()})}(n,t);if(mg(n))return function kE(n,t){return Sg(gg(n),t)}(n,t)}throw hg(n)}(n,t):Rt(n)}function wg(...n){const t=Uo(n),e=function ME(n,t){return"number"==typeof Qc(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Rt(i[0]):jo(e)(rt(i,t)):Qn}function In(n){return n<=0?()=>Qn:qe((t,e)=>{let i=0;t.subscribe(Re(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Dg(n={}){const{connector:t=(()=>new ve),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s=null,a=null,l=null,c=0,u=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),s=l=null,u=d=!1},p=()=>{const m=s;f(),null==m||m.unsubscribe()};return qe((m,C)=>{c++,!d&&!u&&h();const D=l=null!=l?l:t();C.add(()=>{c--,0===c&&!d&&!u&&(a=Xc(p,r))}),D.subscribe(C),s||(s=new va({next:_=>D.next(_),error:_=>{d=!0,h(),a=Xc(f,e,_),D.error(_)},complete:()=>{u=!0,h(),a=Xc(f,i),D.complete()}}),rt(m).subscribe(s))})(o)}}function Xc(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(In(1)).subscribe(()=>n())}function ye(n){for(let t in n)if(n[t]===ye)return t;throw Error("Could not find renamed property on target object.")}function Jc(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function pe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(pe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function eu(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const OE=ye({__forward_ref__:ye});function Ce(n){return n.__forward_ref__=Ce,n.toString=function(){return pe(this())},n}function Q(n){return Eg(n)?n():n}function Eg(n){return"function"==typeof n&&n.hasOwnProperty(OE)&&n.__forward_ref__===Ce}class R extends Error{constructor(t,e){super(function tu(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Y(n){return"string"==typeof n?n:null==n?"":String(n)}function St(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Y(n)}function _a(n,t){const e=t?` in ${t}`:"";throw new R(-201,`No provider for ${St(n)} found${e}`)}function Nt(n,t){null==n&&function Me(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function O(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function je(n){return{providers:n.providers||[],imports:n.imports||[]}}function nu(n){return Mg(n,ba)||Mg(n,Ag)}function Mg(n,t){return n.hasOwnProperty(t)?n[t]:null}function xg(n){return n&&(n.hasOwnProperty(iu)||n.hasOwnProperty(HE))?n[iu]:null}const ba=ye({\u0275prov:ye}),iu=ye({\u0275inj:ye}),Ag=ye({ngInjectableDef:ye}),HE=ye({ngInjectorDef:ye});var G=(()=>((G=G||{})[G.Default=0]="Default",G[G.Host=1]="Host",G[G.Self=2]="Self",G[G.SkipSelf=4]="SkipSelf",G[G.Optional=8]="Optional",G))();let ru;function _i(n){const t=ru;return ru=n,t}function Tg(n,t,e){const i=nu(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&G.Optional?null:void 0!==t?t:void _a(pe(n),"Injector")}function bi(n){return{toString:n}.toString()}var pn=(()=>((pn=pn||{})[pn.OnPush=0]="OnPush",pn[pn.Default=1]="Default",pn))(),gn=(()=>{return(n=gn||(gn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",gn;var n})();const UE="undefined"!=typeof globalThis&&globalThis,$E="undefined"!=typeof window&&window,qE="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,me=UE||"undefined"!=typeof global&&global||$E||qE,wr={},_e=[],Ca=ye({\u0275cmp:ye}),ou=ye({\u0275dir:ye}),su=ye({\u0275pipe:ye}),Ig=ye({\u0275mod:ye}),Jn=ye({\u0275fac:ye}),$o=ye({__NG_ELEMENT_ID__:ye});let zE=0;function ct(n){return bi(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===pn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||_e,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||gn.Emulated,id:"c",styles:n.styles||_e,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,o=n.features,s=n.pipes;return i.id+=zE++,i.inputs=Rg(n.inputs,e),i.outputs=Rg(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(kg):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(Pg):null,i})}function au(n,t,e){const i=n.\u0275cmp;i.directiveDefs=()=>t.map(kg),i.pipeDefs=()=>e.map(Pg)}function kg(n){return gt(n)||function Ci(n){return n[ou]||null}(n)}function Pg(n){return function qi(n){return n[su]||null}(n)}const Og={};function ze(n){return bi(()=>{const t={type:n.type,bootstrap:n.bootstrap||_e,declarations:n.declarations||_e,imports:n.imports||_e,exports:n.exports||_e,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Og[n.id]=n.type),t})}function Rg(n,t){if(null==n)return wr;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}const H=ct;function pt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function gt(n){return n[Ca]||null}function Jt(n,t){const e=n[Ig]||null;if(!e&&!0===t)throw new Error(`Type ${pe(n)} does not have '\u0275mod' property.`);return e}const X=11;function kn(n){return Array.isArray(n)&&"object"==typeof n[1]}function vn(n){return Array.isArray(n)&&!0===n[1]}function uu(n){return 0!=(8&n.flags)}function Ea(n){return 2==(2&n.flags)}function Ma(n){return 1==(1&n.flags)}function yn(n){return null!==n.template}function ZE(n){return 0!=(512&n[2])}function Yi(n,t){return n.hasOwnProperty(Jn)?n[Jn]:null}class JE{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Vt(){return Ng}function Ng(n){return n.type.prototype.ngOnChanges&&(n.setInput=tM),eM}function eM(){const n=Vg(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===wr)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function tM(n,t,e,i){const r=Vg(n)||function nM(n,t){return n[Lg]=t}(n,{previous:wr,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[e],l=s[a];o[a]=new JE(l&&l.currentValue,t,s===wr),n[i]=t}Vt.ngInherit=!0;const Lg="__ngSimpleChanges__";function Vg(n){return n[Lg]||null}let gu;function mu(){return void 0!==gu?gu:"undefined"!=typeof document?document:void 0}function Fe(n){return!!n.listen}const Bg={createRenderer:(n,t)=>mu()};function Ge(n){for(;Array.isArray(n);)n=n[0];return n}function xa(n,t){return Ge(t[n])}function nn(n,t){return Ge(t[n.index])}function vu(n,t){return n.data[t]}function Ar(n,t){return n[t]}function Bt(n,t){const e=t[n];return kn(e)?e:e[0]}function Hg(n){return 4==(4&n[2])}function yu(n){return 128==(128&n[2])}function Si(n,t){return null==t?null:n[t]}function jg(n){n[18]=0}function _u(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const W={lFrame:Kg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ug(){return W.bindingsEnabled}function E(){return W.lFrame.lView}function le(){return W.lFrame.tView}function q(n){return W.lFrame.contextLView=n,n[8]}function Je(){let n=$g();for(;null!==n&&64===n.type;)n=n.parent;return n}function $g(){return W.lFrame.currentTNode}function Pn(n,t){const e=W.lFrame;e.currentTNode=n,e.isParent=t}function bu(){return W.lFrame.isParent}function Cu(){W.lFrame.isParent=!1}function Aa(){return W.isInCheckNoChangesMode}function Ta(n){W.isInCheckNoChangesMode=n}function wt(){const n=W.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function ei(){return W.lFrame.bindingIndex}function Tr(){return W.lFrame.bindingIndex++}function ti(n){const t=W.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function _M(n,t){const e=W.lFrame;e.bindingIndex=e.bindingRootIndex=n,Su(t)}function Su(n){W.lFrame.currentDirectiveIndex=n}function wu(n){const t=W.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function Gg(){return W.lFrame.currentQueryIndex}function Du(n){W.lFrame.currentQueryIndex=n}function CM(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Wg(n,t,e){if(e&G.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&G.Host||(r=CM(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;t=r,n=o}const i=W.lFrame=Yg();return i.currentTNode=t,i.lView=n,!0}function Ia(n){const t=Yg(),e=n[1];W.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Yg(){const n=W.lFrame,t=null===n?null:n.child;return null===t?Kg(n):t}function Kg(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Zg(){const n=W.lFrame;return W.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Qg=Zg;function ka(){const n=Zg();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Dt(){return W.lFrame.selectedIndex}function wi(n){W.lFrame.selectedIndex=n}function Ne(){const n=W.lFrame;return vu(n.tView,n.selectedIndex)}function Pa(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(e,u)}}function Oa(n,t,e){Xg(n,t,3,e)}function Ra(n,t,e,i){(3&n[2])===e&&Xg(n,t,e,i)}function Eu(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Xg(n,t,e,i){const o=null!=i?i:-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(IM(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function IM(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Yo{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Fa(n,t,e){const i=Fe(n);let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const s=e[r++],a=e[r++],l=e[r++];i?n.setAttribute(t,a,l,s):t.setAttributeNS(s,a,l)}else{const s=o,a=e[++r];xu(s)?i&&n.setProperty(t,s,a):i?n.setAttribute(t,s,a):t.setAttribute(s,a),r++}}return r}function Jg(n){return 3===n||4===n||6===n}function xu(n){return 64===n.charCodeAt(0)}function Na(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||em(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function em(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function tm(n){return-1!==n}function Ir(n){return 32767&n}function kr(n,t){let e=function FM(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let Au=!0;function La(n){const t=Au;return Au=n,t}let NM=0;function Zo(n,t){const e=Iu(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,Tu(i.data,n),Tu(t,null),Tu(i.blueprint,null));const r=Va(n,t),o=n.injectorIndex;if(tm(r)){const s=Ir(r),a=kr(r,t),l=a[1].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function Tu(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Iu(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Va(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){const o=r[1],s=o.type;if(i=2===s?o.declTNode:1===s?r[6]:null,null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Ba(n,t,e){!function LM(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty($o)&&(i=e[$o]),null==i&&(i=e[$o]=NM++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function rm(n,t,e){if(e&G.Optional)return n;_a(t,"NodeInjector")}function om(n,t,e,i){if(e&G.Optional&&void 0===i&&(i=null),0==(e&(G.Self|G.Host))){const r=n[9],o=_i(void 0);try{return r?r.get(t,i,e&G.Optional):Tg(t,i,e&G.Optional)}finally{_i(o)}}return rm(i,t,e)}function sm(n,t,e,i=G.Default,r){if(null!==n){const o=function jM(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty($o)?n[$o]:void 0;return"number"==typeof t?t>=0?255&t:BM:t}(e);if("function"==typeof o){if(!Wg(t,n,i))return i&G.Host?rm(r,e,i):om(t,e,i,r);try{const s=o(i);if(null!=s||i&G.Optional)return s;_a(e)}finally{Qg()}}else if("number"==typeof o){let s=null,a=Iu(n,t),l=-1,c=i&G.Host?t[16][6]:null;for((-1===a||i&G.SkipSelf)&&(l=-1===a?Va(n,t):t[a+8],-1!==l&&cm(i,!1)?(s=t[1],a=Ir(l),t=kr(l,t)):a=-1);-1!==a;){const u=t[1];if(lm(o,a,u.data)){const d=HM(a,t,e,s,i,c);if(d!==am)return d}l=t[a+8],-1!==l&&cm(i,t[1].data[a+8]===c)&&lm(o,a,t)?(s=u,a=Ir(l),t=kr(l,t)):a=-1}}}return om(t,e,i,r)}const am={};function BM(){return new Pr(Je(),E())}function HM(n,t,e,i,r,o){const s=t[1],a=s.data[n+8],u=Ha(a,s,e,null==i?Ea(a)&&Au:i!=s&&0!=(3&a.type),r&G.Host&&o===a);return null!==u?Qo(t,s,u,a):am}function Ha(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,u=o>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=s[f];if(f<l&&e===p||f>=l&&p.type===e)return f}if(r){const f=s[l];if(f&&yn(f)&&f.type===e)return l}return null}function Qo(n,t,e,i){let r=n[e];const o=t.data;if(function kM(n){return n instanceof Yo}(r)){const s=r;s.resolving&&function RE(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new R(-200,`Circular dependency in DI detected for ${n}${e}`)}(St(o[e]));const a=La(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?_i(s.injectImpl):null;Wg(n,i,G.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function TM(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=Ng(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==l&&_i(l),La(a),s.resolving=!1,Qg()}}return r}function lm(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function cm(n,t){return!(n&G.Self||n&G.Host&&t)}class Pr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return sm(this._tNode,this._lView,t,i,e)}}function ut(n){return bi(()=>{const t=n.prototype.constructor,e=t[Jn]||ku(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Jn]||ku(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function ku(n){return Eg(n)?()=>{const t=ku(Q(n));return t&&t()}:Yi(n)}function Or(n){return function VM(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(Jg(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(Je(),n)}const Fr="__parameters__";function Lr(n,t,e){return bi(()=>{const i=function Pu(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(Fr)?l[Fr]:Object.defineProperty(l,Fr,{value:[]})[Fr];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class N{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=O({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const $M=new N("AnalyzeForEntryComponents");function rn(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),rn(i,t)):t!==n&&t.push(i)}return t}function On(n,t){n.forEach(e=>Array.isArray(e)?On(e,t):t(e))}function dm(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function ja(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function es(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function Ht(n,t,e){let i=Vr(n,t);return i>=0?n[1|i]=e:(i=~i,function GM(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Ru(n,t){const e=Vr(n,t);if(e>=0)return n[1|e]}function Vr(n,t){return function pm(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const ts={},Nu="__NG_DI_FLAG__",$a="ngTempTokenPath",JM=/\n/gm,mm="__source",tx=ye({provide:String,useValue:ye});let ns;function vm(n){const t=ns;return ns=n,t}function nx(n,t=G.Default){if(void 0===ns)throw new R(203,"");return null===ns?Tg(n,void 0,t):ns.get(n,t&G.Optional?null:void 0,t)}function g(n,t=G.Default){return(function jE(){return ru}()||nx)(Q(n),t)}const qa=g;function Lu(n){const t=[];for(let e=0;e<n.length;e++){const i=Q(n[e]);if(Array.isArray(i)){if(0===i.length)throw new R(900,"");let r,o=G.Default;for(let s=0;s<i.length;s++){const a=i[s],l=ix(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(g(r,o))}else t.push(g(i))}return t}function is(n,t){return n[Nu]=t,n.prototype[Nu]=t,n}function ix(n){return n[Nu]}const za=is(Lr("Inject",n=>({token:n})),-1),_n=is(Lr("Optional"),8),Br=is(Lr("SkipSelf"),4);let Wa,Ya;function jr(n){var t;return(null===(t=function Bu(){if(void 0===Wa&&(Wa=null,me.trustedTypes))try{Wa=me.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Wa}())||void 0===t?void 0:t.createHTML(n))||n}function wm(n){var t;return(null===(t=function Hu(){if(void 0===Ya&&(Ya=null,me.trustedTypes))try{Ya=me.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Ya}())||void 0===t?void 0:t.createHTML(n))||n}class Ki{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class mx extends Ki{getTypeName(){return"HTML"}}class vx extends Ki{getTypeName(){return"Style"}}class yx extends Ki{getTypeName(){return"Script"}}class _x extends Ki{getTypeName(){return"URL"}}class bx extends Ki{getTypeName(){return"ResourceURL"}}function jt(n){return n instanceof Ki?n.changingThisBreaksApplicationSecurity:n}function Rn(n,t){const e=Mm(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function Mm(n){return n instanceof Ki&&n.getTypeName()||null}class Mx{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(jr(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class xx{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=jr(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=jr(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const s=e.item(r).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const Tx=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ix=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function os(n){return(n=String(n)).match(Tx)||n.match(Ix)?n:"unsafe:"+n}function Fn(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function ss(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const Tm=Fn("area,br,col,hr,img,wbr"),Im=Fn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),km=Fn("rp,rt"),ju=ss(Tm,ss(Im,Fn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ss(km,Fn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ss(km,Im)),Uu=Fn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$u=Fn("srcset"),Pm=ss(Uu,$u,Fn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),kx=Fn("script,style,template");class Px{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ju.hasOwnProperty(e))return this.sanitizedSomething=!0,!kx.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!Pm.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Uu[a]&&(l=os(l)),$u[a]&&(n=l,l=(n=String(n)).split(",").map(t=>os(t.trim())).join(", ")),this.buf.push(" ",s,'="',Om(l),'"')}var n;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ju.hasOwnProperty(e)&&!Tm.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Om(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Ox=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rx=/([^\#-~ |!])/g;function Om(n){return n.replace(/&/g,"&amp;").replace(Ox,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Rx,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ka;function Rm(n,t){let e=null;try{Ka=Ka||function xm(n){const t=new xx(n);return function Ax(){try{return!!(new window.DOMParser).parseFromString(jr(""),"text/html")}catch(n){return!1}}()?new Mx(t):t}(n);let i=t?String(t):"";e=Ka.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=Ka.getInertBodyElement(i)}while(i!==o);return jr((new Px).sanitizeChildren(qu(e)||e))}finally{if(e){const i=qu(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function qu(n){return"content"in n&&function Fx(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var fe=(()=>((fe=fe||{})[fe.NONE=0]="NONE",fe[fe.HTML=1]="HTML",fe[fe.STYLE=2]="STYLE",fe[fe.SCRIPT=3]="SCRIPT",fe[fe.URL=4]="URL",fe[fe.RESOURCE_URL=5]="RESOURCE_URL",fe))();function Fm(n){const t=function as(){const n=E();return n&&n[12]}();return t?wm(t.sanitize(fe.HTML,n)||""):Rn(n,"HTML")?wm(jt(n)):Rm(mu(),Y(n))}const Vm="__ngContext__";function vt(n,t){n[Vm]=t}function Wu(n){const t=function ls(n){return n[Vm]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function Ku(n){return n.ngOriginalError}function Qx(n,...t){n.error(...t)}class Ei{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=function Zx(n){return n&&n.ngErrorLogger||Qx}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Ku(t);for(;e&&Ku(e);)e=Ku(e);return e||null}}const aA=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(me))();function $m(n){return n.ownerDocument}function Nn(n){return n instanceof Function?n():n}var Ut=(()=>((Ut=Ut||{})[Ut.Important=1]="Important",Ut[Ut.DashCase=2]="DashCase",Ut))();function Qu(n,t){return undefined(n,t)}function cs(n){const t=n[3];return vn(t)?t[3]:t}function Xu(n){return Ym(n[13])}function Ju(n){return Ym(n[4])}function Ym(n){for(;null!==n&&!vn(n);)n=n[4];return n}function $r(n,t,e,i,r){if(null!=i){let o,s=!1;vn(i)?o=i:kn(i)&&(s=!0,i=i[0]);const a=Ge(i);0===n&&null!==e?null==r?ev(t,e,a):Zi(t,e,a,r||null,!0):1===n&&null!==e?Zi(t,e,a,r||null,!0):2===n?function av(n,t,e){const i=Za(n,t);i&&function bA(n,t,e,i){Fe(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function wA(n,t,e,i,r){const o=e[7];o!==Ge(e)&&$r(t,n,i,o,r);for(let a=10;a<e.length;a++){const l=e[a];us(l[1],l,n,t,i,o)}}(t,n,o,e,r)}}function td(n,t,e){if(Fe(n))return n.createElement(t,e);{const i=null!==e?function sM(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(e):null;return null===i?n.createElement(t):n.createElementNS(i,t)}}function Zm(n,t){const e=n[9],i=e.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,_u(r,-1)),e.splice(i,1)}function nd(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&Zm(r,i),t>0&&(n[e-1][4]=i[4]);const o=ja(n,10+t);!function hA(n,t){us(n,t,t[X],2,null,null),t[0]=null,t[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Qm(n,t){if(!(256&t[2])){const e=t[X];Fe(e)&&e.destroyNode&&us(n,t,e,3,null,null),function gA(n){let t=n[13];if(!t)return id(n[1],n);for(;t;){let e=null;if(kn(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)kn(t)&&id(t[1],t),t=t[3];null===t&&(t=n),kn(t)&&id(t[1],t),e=t&&t[4]}t=e}}(t)}}function id(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function _A(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Yo)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(r)}finally{}}}}(n,t),function yA(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(t):Ge(t[s]),l=i[r=e[o+2]],c=e[o+3];"boolean"==typeof c?a.removeEventListener(e[o],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),o+=2}else{const s=i[r=e[o+1]];e[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)i[o]();t[7]=null}}(n,t),1===t[1].type&&Fe(t[X])&&t[X].destroy();const e=t[17];if(null!==e&&vn(t[3])){e!==t[3]&&Zm(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function Xm(n,t,e){return function Jm(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===gn.None||r===gn.Emulated)return null}return nn(i,e)}(n,t.parent,e)}function Zi(n,t,e,i,r){Fe(n)?n.insertBefore(t,e,i,r):t.insertBefore(e,i,r)}function ev(n,t,e){Fe(n)?n.appendChild(t,e):t.appendChild(e)}function tv(n,t,e,i,r){null!==i?Zi(n,t,e,i,r):ev(n,t,e)}function Za(n,t){return Fe(n)?n.parentNode(t):t.parentNode}function nv(n,t,e){return rv(n,t,e)}let rv=function iv(n,t,e){return 40&n.type?nn(n,e):null};function Qa(n,t,e,i){const r=Xm(n,i,t),o=t[X],a=nv(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)tv(o,r,e[l],a,!1);else tv(o,r,e,a,!1)}function Xa(n,t){if(null!==t){const e=t.type;if(3&e)return nn(t,n);if(4&e)return od(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Xa(n,i);{const r=n[t.index];return vn(r)?od(-1,r):Ge(r)}}if(32&e)return Qu(t,n)()||Ge(n[t.index]);{const i=sv(n,t);return null!==i?Array.isArray(i)?i[0]:Xa(cs(n[16]),i):Xa(n,t.next)}}return null}function sv(n,t){return null!==t?n[16][6].projection[t.projection]:null}function od(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return Xa(i,r)}return t[7]}function sd(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===t&&(a&&vt(Ge(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)sd(n,t,e.child,i,r,o,!1),$r(t,n,r,a,o);else if(32&l){const c=Qu(e,i);let u;for(;u=c();)$r(t,n,r,u,o);$r(t,n,r,a,o)}else 16&l?lv(n,t,i,e,r,o):$r(t,n,r,a,o);e=s?e.projectionNext:e.next}}function us(n,t,e,i,r,o){sd(e,i,n.firstChild,t,r,o,!1)}function lv(n,t,e,i,r,o){const s=e[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)$r(t,n,r,l[c],o);else sd(n,t,l,s[3],r,o,!0)}function cv(n,t,e){Fe(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function ad(n,t,e){Fe(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function uv(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}const dv="ng-template";function EA(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==uv(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function hv(n){return 4===n.type&&n.value!==dv}function MA(n,t,e){return t===(4!==n.type||e?n.value:dv)}function xA(n,t,e){let i=4;const r=n.attrs||[],o=function IA(n){for(let t=0;t<n.length;t++)if(Jg(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!MA(n,l,e)||""===l&&1===t.length){if(bn(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!EA(n.attrs,c,e)){if(bn(i))return!1;s=!0}continue}const d=AA(8&i?"class":l,r,hv(n),e);if(-1===d){if(bn(i))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==uv(f,c,0)||2&i&&c!==h){if(bn(i))return!1;s=!0}}}}else{if(!s&&!bn(i)&&!bn(l))return!1;if(s&&bn(l))continue;s=!1,i=l|1&i}}return bn(i)||s}function bn(n){return 0==(1&n)}function AA(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function kA(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function fv(n,t,e=!1){for(let i=0;i<t.length;i++)if(xA(n,t[i],e))return!0;return!1}function PA(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function pv(n,t){return n?":not("+t.trim()+")":t}function OA(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!bn(s)&&(t+=pv(o,r),r=""),i=s,o=o||!bn(i);e++}return""!==r&&(t+=pv(o,r)),t}const K={};function S(n){gv(le(),E(),Dt()+n,Aa())}function gv(n,t,e,i){if(!i)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&Oa(t,o,e)}else{const o=n.preOrderHooks;null!==o&&Ra(t,o,0,e)}wi(e)}function Ja(n,t){return n<<17|t<<2}function Cn(n){return n>>17&32767}function ld(n){return 2|n}function ni(n){return(131068&n)>>2}function cd(n,t){return-131069&n|t<<2}function ud(n){return 1|n}function Mv(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],o=e[i+1];if(-1!==o){const s=n.data[o];Du(r),s.contentQueries(2,t[o],o)}}}function ds(n,t,e,i,r,o,s,a,l,c){const u=t.blueprint.slice();return u[0]=r,u[2]=140|i,jg(u),u[3]=u[15]=n,u[8]=e,u[10]=s||n&&n[10],u[X]=a||n&&n[X],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=o,u[16]=2==t.type?n[16]:u,u}function qr(n,t,e,i,r){let o=n.data[t];if(null===o)o=function _d(n,t,e,i,r){const o=$g(),s=bu(),l=n.data[t]=function QA(n,t,e,i,r,o){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,t,e,i,r),function yM(){return W.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function Wo(){const n=W.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Pn(o,!0),o}function zr(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function hs(n,t,e){Ia(t);try{const i=n.viewQuery;null!==i&&Ad(1,i,e);const r=n.template;null!==r&&xv(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Mv(n,t),n.staticViewQueries&&Ad(2,n.viewQuery,e);const o=n.components;null!==o&&function YA(n,t){for(let e=0;e<t.length;e++)gT(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,ka()}}function Gr(n,t,e,i){const r=t[2];if(256==(256&r))return;Ia(t);const o=Aa();try{jg(t),function qg(n){return W.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&xv(n,t,e,2,i);const s=3==(3&r);if(!o)if(s){const c=n.preOrderCheckHooks;null!==c&&Oa(t,c,null)}else{const c=n.preOrderHooks;null!==c&&Ra(t,c,0,null),Eu(t,0)}if(function fT(n){for(let t=Xu(n);null!==t;t=Ju(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],o=r[3];0==(1024&r[2])&&_u(o,1),r[2]|=1024}}}(t),function hT(n){for(let t=Xu(n);null!==t;t=Ju(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];yu(i)&&Gr(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&Mv(n,t),!o)if(s){const c=n.contentCheckHooks;null!==c&&Oa(t,c)}else{const c=n.contentHooks;null!==c&&Ra(t,c,1),Eu(t,1)}!function GA(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)wi(~r);else{const o=r,s=e[++i],a=e[++i];_M(s,o),a(2,t[o])}}}finally{wi(-1)}}(n,t);const a=n.components;null!==a&&function WA(n,t){for(let e=0;e<t.length;e++)pT(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&Ad(2,l,i),!o)if(s){const c=n.viewCheckHooks;null!==c&&Oa(t,c)}else{const c=n.viewHooks;null!==c&&Ra(t,c,2),Eu(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,_u(t[3],-1))}finally{ka()}}function KA(n,t,e,i){const r=t[10],o=!Aa(),s=Hg(t);try{o&&!s&&r.begin&&r.begin(),s&&hs(n,t,i),Gr(n,t,e,i)}finally{o&&!s&&r.end&&r.end()}}function xv(n,t,e,i,r){const o=Dt(),s=2&i;try{wi(-1),s&&t.length>20&&gv(n,t,20,Aa()),e(i,r)}finally{wi(o)}}function Av(n,t,e){if(uu(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}function bd(n,t,e){!Ug()||(function rT(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||Zo(e,t),vt(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=yn(l);c&&cT(t,e,l);const u=Qo(t,n,a,e);vt(u,t),null!==s&&uT(0,a-r,u,l,0,s),c&&(Bt(e.index,t)[8]=u)}}(n,t,e,nn(e,t)),128==(128&e.flags)&&function oT(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,a=function bM(){return W.lFrame.currentDirectiveIndex}();try{wi(s);for(let l=i;l<r;l++){const c=n.data[l],u=t[l];Su(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Nv(c,u)}}finally{wi(-1),Su(a)}}(n,t,e))}function Cd(n,t,e=nn){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function Tv(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=nl(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function nl(n,t,e,i,r,o,s,a,l,c){const u=20+i,d=u+r,h=function ZA(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:K);return e}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function Pv(n,t,e,i){const r=Uv(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&$v(n).push(i,r.length-1))}function Ov(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function $t(n,t,e,i,r,o,s,a){const l=nn(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(Gv(n,e,u,i,r),Ea(t)&&function eT(n,t){const e=Bt(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function JA(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,Fe(o)?o.setProperty(l,i,r):xu(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function Sd(n,t,e,i){let r=!1;if(Ug()){const o=function sT(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];fv(e,s.selectors,!1)&&(r||(r=[]),Ba(Zo(e,t),n,s.type),yn(s)?(Lv(n,e),r.unshift(s)):r.push(s))}return r}(n,t,e),s=null===i?null:{"":-1};if(null!==o){r=!0,Vv(e,n.data.length,o.length);for(let u=0;u<o.length;u++){const d=o[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=zr(n,t,o.length,null);for(let u=0;u<o.length;u++){const d=o[u];e.mergedAttrs=Na(e.mergedAttrs,d.hostAttrs),Bv(n,e,t,c,d),lT(c,d,s),null!==d.contentQueries&&(e.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(e.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}!function XA(n,t){const i=t.directiveEnd,r=n.data,o=t.attrs,s=[];let a=null,l=null;for(let c=t.directiveStart;c<i;c++){const u=r[c],d=u.inputs,h=null===o||hv(t)?null:dT(d,o);s.push(h),a=Ov(d,c,a),l=Ov(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=l}(n,e)}s&&function aT(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new R(-301,!1);i.push(t[r],o)}}}(e,i,s)}return e.mergedAttrs=Na(e.mergedAttrs,e.attrs),r}function Fv(n,t,e,i,r,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function iT(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,r,s)}}function Nv(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Lv(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function lT(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;yn(t)&&(e[""]=n)}}function Vv(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Bv(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=Yi(r.type)),s=new Yo(o,yn(r),null);n.blueprint[i]=s,e[i]=s,Fv(n,t,0,i,zr(n,e,r.hostVars,K),r)}function cT(n,t,e){const i=nn(t,n),r=Tv(e),o=n[10],s=il(n,ds(n,r,null,e.onPush?64:16,i,t,o,o.createRenderer(i,e),null,null));n[t.index]=s}function Ln(n,t,e,i,r,o){const s=nn(n,t);!function wd(n,t,e,i,r,o,s){if(null==o)Fe(n)?n.removeAttribute(t,r,e):t.removeAttribute(r);else{const a=null==s?Y(o):s(o,i||"",r);Fe(n)?n.setAttribute(t,r,a,e):e?t.setAttributeNS(e,r,a):t.setAttribute(r,a)}}(t[X],s,o,n.value,e,i,r)}function uT(n,t,e,i,r,o){const s=o[t];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],d=s[l++];null!==a?i.setInput(e,d,c,u):e[u]=d}}}function dT(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function Hv(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function pT(n,t){const e=Bt(t,n);if(yu(e)){const i=e[1];80&e[2]?Gr(i,e,i.template,e[8]):e[5]>0&&Dd(e)}}function Dd(n){for(let i=Xu(n);null!==i;i=Ju(i))for(let r=10;r<i.length;r++){const o=i[r];if(1024&o[2]){const s=o[1];Gr(s,o,s.template,o[8])}else o[5]>0&&Dd(o)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=Bt(e[i],n);yu(r)&&r[5]>0&&Dd(r)}}function gT(n,t){const e=Bt(t,n),i=e[1];(function mT(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),hs(i,e,e[8])}function il(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Ed(n){for(;n;){n[2]|=64;const t=cs(n);if(ZE(n)&&!t)return n;n=t}return null}function xd(n,t,e){const i=t[10];i.begin&&i.begin();try{Gr(n,t,n.template,e)}catch(r){throw zv(t,r),r}finally{i.end&&i.end()}}function jv(n){!function Md(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=Wu(e),r=i[1];KA(r,i,r.template,e)}}(n[8])}function Ad(n,t,e){Du(0),t(n,e)}const bT=(()=>Promise.resolve(null))();function Uv(n){return n[7]||(n[7]=[])}function $v(n){return n.cleanup||(n.cleanup=[])}function qv(n,t,e){return(null===n||yn(n))&&(e=function cM(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(e[t.index])),e[X]}function zv(n,t){const e=n[9],i=e?e.get(Ei,null):null;i&&i.handleError(t)}function Gv(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],l=t[s],c=n.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function ii(n,t,e){const i=xa(t,n);!function Km(n,t,e){Fe(n)?n.setValue(t,e):t.textContent=e}(n[X],i,e)}function rl(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=eu(r,a):2==o&&(i=eu(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}const Td=new N("INJECTOR",-1);class Wv{get(t,e=ts){if(e===ts){const i=new Error(`NullInjectorError: No provider for ${pe(t)}!`);throw i.name="NullInjectorError",i}return e}}const Id=new N("Set Injector scope."),fs={},wT={};let kd;function Yv(){return void 0===kd&&(kd=new Wv),kd}function Kv(n,t=null,e=null,i){const r=Zv(n,t,e,i);return r._resolveInjectorDefTypes(),r}function Zv(n,t=null,e=null,i){return new DT(n,e,t||Yv(),i)}class DT{constructor(t,e,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&On(e,a=>this.processProvider(a,t,e)),On([t],a=>this.processInjectorType(a,[],o)),this.records.set(Td,Wr(void 0,this));const s=this.records.get(Id);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:pe(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=ts,i=G.Default){this.assertNotDestroyed();const r=vm(this),o=_i(void 0);try{if(!(i&G.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function PT(n){return"function"==typeof n||"object"==typeof n&&n instanceof N}(t)&&nu(t);a=l&&this.injectableDefInScope(l)?Wr(Pd(t),fs):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&G.Self?Yv():this.parent).get(t,e=i&G.Optional&&e===ts?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[$a]=s[$a]||[]).unshift(pe(t)),r)throw s;return function rx(n,t,e,i){const r=n[$a];throw t[mm]&&r.unshift(t[mm]),n.message=function ox(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=pe(t);if(Array.isArray(t))r=t.map(pe).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):pe(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(JM,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[$a]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{_i(o),vm(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,r)=>t.push(pe(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new R(205,!1)}processInjectorType(t,e,i){if(!(t=Q(t)))return!1;let r=xg(t);const o=null==r&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==i.indexOf(s);if(void 0!==o&&(r=xg(o)),null==r)return!1;if(null!=r.imports&&!a){let u;i.push(s);try{On(r.imports,d=>{this.processInjectorType(d,e,i)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:h,providers:f}=u[d];On(f,p=>this.processProvider(p,h,f||_e))}}this.injectorDefTypes.add(s);const l=Yi(s)||(()=>new s);this.records.set(s,Wr(l,fs));const c=r.providers;if(null!=c&&!a){const u=t;On(c,d=>this.processProvider(d,u,c))}return void 0!==o&&void 0!==t.providers}processProvider(t,e,i){let r=Yr(t=Q(t))?t:Q(t&&t.provide);const o=function MT(n,t,e){return Xv(n)?Wr(void 0,n.useValue):Wr(Qv(n),fs)}(t);if(Yr(t)||!0!==t.multi)this.records.get(r);else{let s=this.records.get(r);s||(s=Wr(void 0,fs,!0),s.factory=()=>Lu(s.multi),this.records.set(r,s)),r=t,s.multi.push(t)}this.records.set(r,o)}hydrate(t,e){return e.value===fs&&(e.value=wT,e.value=e.factory()),"object"==typeof e.value&&e.value&&function kT(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Q(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Pd(n){const t=nu(n),e=null!==t?t.factory:Yi(n);if(null!==e)return e;if(n instanceof N)throw new R(204,!1);if(n instanceof Function)return function ET(n){const t=n.length;if(t>0)throw es(t,"?"),new R(204,!1);const e=function VE(n){const t=n&&(n[ba]||n[Ag]);if(t){const e=function BE(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new R(204,!1)}function Qv(n,t,e){let i;if(Yr(n)){const r=Q(n);return Yi(r)||Pd(r)}if(Xv(n))i=()=>Q(n.useValue);else if(function AT(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Lu(n.deps||[]));else if(function xT(n){return!(!n||!n.useExisting)}(n))i=()=>g(Q(n.useExisting));else{const r=Q(n&&(n.useClass||n.provide));if(!function IT(n){return!!n.deps}(n))return Yi(r)||Pd(r);i=()=>new r(...Lu(n.deps))}return i}function Wr(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Xv(n){return null!==n&&"object"==typeof n&&tx in n}function Yr(n){return"function"==typeof n}let Le=(()=>{class n{static create(e,i){var r;if(Array.isArray(e))return Kv({name:""},i,e,"");{const o=null!==(r=e.name)&&void 0!==r?r:"";return Kv({name:o},e.parent,e.providers,o)}}}return n.THROW_IF_NOT_FOUND=ts,n.NULL=new Wv,n.\u0275prov=O({token:n,providedIn:"any",factory:()=>g(Td)}),n.__NG_ELEMENT_ID__=-1,n})();function HT(n,t){Pa(Wu(n)[1],Je())}function ue(n){let t=function uy(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(yn(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new R(903,"");r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=Fd(n.inputs),s.declaredInputs=Fd(n.declaredInputs),s.outputs=Fd(n.outputs);const a=r.hostBindings;a&&qT(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&UT(n,l),c&&$T(n,c),Jc(n.inputs,r.inputs),Jc(n.declaredInputs,r.declaredInputs),Jc(n.outputs,r.outputs),yn(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===ue&&(e=!1)}}t=Object.getPrototypeOf(t)}!function jT(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Na(r.hostAttrs,e=Na(e,r.hostAttrs))}}(i)}function Fd(n){return n===wr?{}:n===_e?[]:n}function UT(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function $T(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function qT(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let ol=null;function Kr(){if(!ol){const n=me.Symbol;if(n&&n.iterator)ol=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(ol=i)}}}return ol}function ps(n){return!!Nd(n)&&(Array.isArray(n)||!(n instanceof Map)&&Kr()in n)}function Nd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Vn(n,t,e){return n[t]=e}function yt(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Qi(n,t,e,i){const r=yt(n,t,e);return yt(n,t+1,i)||r}function sn(n,t,e,i){const r=E();return yt(r,Tr(),t)&&(le(),Ln(Ne(),r,n,t,e,i)),sn}function Qr(n,t,e,i){return yt(n,Tr(),e)?t+Y(e)+i:K}function Xr(n,t,e,i,r,o){const a=Qi(n,ei(),e,r);return ti(2),a?t+Y(e)+i+Y(r)+o:K}function Jr(n,t,e,i,r,o,s,a){const c=function sl(n,t,e,i,r){const o=Qi(n,t,e,i);return yt(n,t+2,r)||o}(n,ei(),e,r,s);return ti(3),c?t+Y(e)+i+Y(r)+o+Y(s)+a:K}function V(n,t,e,i,r,o,s,a){const l=E(),c=le(),u=n+20,d=c.firstCreatePass?function QT(n,t,e,i,r,o,s,a,l){const c=t.consts,u=qr(t,n,4,s||null,Si(c,a));Sd(t,e,u,Si(c,l)),Pa(t,u);const d=u.tViews=nl(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,o,s):c.data[u];Pn(d,!1);const h=l[X].createComment("");Qa(c,l,h,d),vt(h,l),il(l,l[u]=Hv(h,l,h,d)),Ma(d)&&bd(c,l,d),null!=s&&Cd(l,d,a)}function b(n,t=G.Default){const e=E();return null===e?g(n,t):sm(Je(),e,Q(n),t)}function ll(){throw new Error("invalid")}function x(n,t,e){const i=E();return yt(i,Tr(),t)&&$t(le(),Ne(),i,n,t,i[X],e,!1),x}function jd(n,t,e,i,r){const s=r?"class":"style";Gv(n,e,t.inputs[s],s,i)}function y(n,t,e,i){const r=E(),o=le(),s=20+n,a=r[X],l=r[s]=td(a,t,function AM(){return W.lFrame.currentNamespace}()),c=o.firstCreatePass?function _1(n,t,e,i,r,o,s){const a=t.consts,c=qr(t,n,2,r,Si(a,o));return Sd(t,e,c,Si(a,s)),null!==c.attrs&&rl(c,c.attrs,!1),null!==c.mergedAttrs&&rl(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,r,0,t,e,i):o.data[s];Pn(c,!0);const u=c.mergedAttrs;null!==u&&Fa(a,l,u);const d=c.classes;null!==d&&ad(a,l,d);const h=c.styles;return null!==h&&cv(a,l,h),64!=(64&c.flags)&&Qa(o,r,l,c),0===function hM(){return W.lFrame.elementDepthCount}()&&vt(l,r),function fM(){W.lFrame.elementDepthCount++}(),Ma(c)&&(bd(o,r,c),Av(o,c,r)),null!==i&&Cd(r,c),y}function v(){let n=Je();bu()?Cu():(n=n.parent,Pn(n,!1));const t=n;!function pM(){W.lFrame.elementDepthCount--}();const e=le();return e.firstCreatePass&&(Pa(e,n),uu(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function OM(n){return 0!=(16&n.flags)}(t)&&jd(e,t,E(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function RM(n){return 0!=(32&n.flags)}(t)&&jd(e,t,E(),t.stylesWithoutHost,!1),v}function we(n,t,e,i){return y(n,t,e,i),v(),we}function so(n,t,e){const i=E(),r=le(),o=n+20,s=r.firstCreatePass?function b1(n,t,e,i,r){const o=t.consts,s=Si(o,i),a=qr(t,n,8,"ng-container",s);return null!==s&&rl(a,s,!0),Sd(t,e,a,Si(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,e):r.data[o];Pn(s,!0);const a=i[o]=i[X].createComment("");return Qa(r,i,a,s),vt(a,i),Ma(s)&&(bd(r,i,s),Av(r,s,i)),null!=e&&Cd(i,s),so}function ao(){let n=Je();const t=le();return bu()?Cu():(n=n.parent,Pn(n,!1)),t.firstCreatePass&&(Pa(t,n),uu(n)&&t.queries.elementEnd(n)),ao}function Ud(n,t,e){return so(n,t,e),ao(),Ud}function de(){return E()}function ms(n){return!!n&&"function"==typeof n.then}const $d=function ky(n){return!!n&&"function"==typeof n.subscribe};function I(n,t,e,i){const r=E(),o=le(),s=Je();return Py(o,r,r[X],s,n,t,!!e,i),I}function qd(n,t){const e=Je(),i=E(),r=le();return Py(r,i,qv(wu(r.data),e,i),e,n,t,!1),qd}function Py(n,t,e,i,r,o,s,a){const l=Ma(i),u=n.firstCreatePass&&$v(n),d=t[8],h=Uv(t);let f=!0;if(3&i.type||a){const C=nn(i,t),D=a?a(C):C,_=h.length,T=a?L=>a(Ge(L[i.index])):i.index;if(Fe(e)){let L=null;if(!a&&l&&(L=function C1(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[7],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==L)(L.__ngLastListenerFn__||L).__ngNextListenerFn__=o,L.__ngLastListenerFn__=o,f=!1;else{o=zd(i,t,d,o,!1);const ee=e.listen(D,r,o);h.push(o,ee),u&&u.push(r,T,_,_+1)}}else o=zd(i,t,d,o,!0),D.addEventListener(r,o,s),h.push(o),u&&u.push(r,T,_,s)}else o=zd(i,t,d,o,!1);const p=i.outputs;let m;if(f&&null!==p&&(m=p[r])){const C=m.length;if(C)for(let D=0;D<C;D+=2){const Te=t[m[D]][m[D+1]].subscribe(o),Pe=h.length;h.push(o,Te),u&&u.push(r,i.index,Pe,-(Pe+1))}}}function Oy(n,t,e,i){try{return!1!==e(i)}catch(r){return zv(n,r),!1}}function zd(n,t,e,i,r){return function o(s){if(s===Function)return i;const a=2&n.flags?Bt(n.index,t):t;0==(32&t[2])&&Ed(a);let l=Oy(t,0,i,s),c=o.__ngNextListenerFn__;for(;c;)l=Oy(t,0,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function M(n=1){return function SM(n){return(W.lFrame.contextLView=function wM(n,t){for(;n>0;)t=t[15],n--;return t}(n,W.lFrame.contextLView))[8]}(n)}function S1(n,t){let e=null;const i=function TA(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?fv(n,o,!0):PA(i,o))return r}else e=r}return e}function Ve(n,t,e){return Ai(n,"",t,"",e),Ve}function Ai(n,t,e,i,r){const o=E(),s=Qr(o,t,e,i);return s!==K&&$t(le(),Ne(),o,n,s,o[X],r,!1),Ai}function vs(n,t,e,i,r,o,s){const a=E(),l=Xr(a,t,e,i,r,o);return l!==K&&$t(le(),Ne(),a,n,l,a[X],s,!1),vs}function Gd(n,t,e,i,r,o,s,a,l){const c=E(),u=Jr(c,t,e,i,r,o,s,a);return u!==K&&$t(le(),Ne(),c,n,u,c[X],l,!1),Gd}function Uy(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?Cn(o):ni(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];E1(n[a],t)&&(l=!0,n[a+1]=i?ud(u):ld(u)),a=i?Cn(u):ni(u)}l&&(n[e+1]=i?ld(o):ud(o))}function E1(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Vr(n,t)>=0}function Wd(n,t,e){return wn(n,t,e,!1),Wd}function co(n,t){return wn(n,t,null,!0),co}function wn(n,t,e,i){const r=E(),o=le(),s=ti(2);o.firstUpdatePass&&function Zy(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Dt()],s=function Ky(n,t){return t>=n.expandoStartIndex}(n,e);(function e_(n,t){return 0!=(n.flags&(t?16:32))})(o,i)&&null===t&&!s&&(t=!1),t=function R1(n,t,e,i){const r=wu(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=ys(e=Yd(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=Yd(r,n,t,e,i),null===o){let l=function F1(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==ni(i))return n[Cn(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=Yd(null,n,t,l[1],i),l=ys(l,t.attrs,i),function N1(n,t,e,i){n[Cn(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function L1(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=ys(i,n[o].hostAttrs,e);return ys(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function w1(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Cn(s),l=ni(s);n[i]=e;let u,c=!1;if(Array.isArray(e)){const d=e;u=d[1],(null===u||Vr(d,u)>0)&&(c=!0)}else u=e;if(r)if(0!==l){const h=Cn(n[a+1]);n[i+1]=Ja(h,a),0!==h&&(n[h+1]=cd(n[h+1],i)),n[a+1]=function NA(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=Ja(a,0),0!==a&&(n[a+1]=cd(n[a+1],i)),a=i;else n[i+1]=Ja(l,0),0===a?a=i:n[l+1]=cd(n[l+1],i),l=i;c&&(n[i+1]=ld(n[i+1])),Uy(n,u,i,!0),Uy(n,u,i,!1),function D1(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Vr(o,t)>=0&&(e[i+1]=ud(e[i+1]))}(t,u,n,i,o),s=Ja(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}(o,n,s,i),t!==K&&yt(r,s,t)&&function Xy(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1];cl(function yv(n){return 1==(1&n)}(c)?Jy(l,t,e,r,ni(c),s):void 0)||(cl(o)||function vv(n){return 2==(2&n)}(c)&&(o=Jy(l,null,e,r,a,s)),function DA(n,t,e,i,r){const o=Fe(n);if(t)r?o?n.addClass(e,i):e.classList.add(i):o?n.removeClass(e,i):e.classList.remove(i);else{let s=-1===i.indexOf("-")?void 0:Ut.DashCase;if(null==r)o?n.removeStyle(e,i,s):e.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),s|=Ut.Important),o?n.setStyle(e,i,r,s):e.style.setProperty(i,r,a?"important":"")}}}(i,s,xa(Dt(),e),r,o))}(o,o.data[Dt()],r,r[X],n,r[s+1]=function H1(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=pe(jt(n)))),n}(t,e),i,s)}function Yd(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=ys(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function ys(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ht(n,s,!!e||t[++o]))}return void 0===n?null:n}function Jy(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=e[r+1];h===K&&(h=d?_e:void 0);let f=d?Ru(h,i):u===i?h:void 0;if(c&&!cl(f)&&(f=Ru(l,i)),cl(f)&&(a=f,s))return a;const p=n[r+1];r=s?Cn(p):ni(p)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=Ru(l,i))}return a}function cl(n){return void 0!==n}function w(n,t=""){const e=E(),i=le(),r=n+20,o=i.firstCreatePass?qr(i,r,1,t,null):i.data[r],s=e[r]=function ed(n,t){return Fe(n)?n.createText(t):n.createTextNode(t)}(e[X],t);Qa(i,e,s,o),Pn(o,!1)}function Mt(n){return We("",n,""),Mt}function We(n,t,e){const i=E(),r=Qr(i,n,t,e);return r!==K&&ii(i,Dt(),r),We}function Xi(n,t,e,i,r){const o=E(),s=Xr(o,n,t,e,i,r);return s!==K&&ii(o,Dt(),s),Xi}function ul(n,t,e,i,r,o,s){const a=E(),l=Jr(a,n,t,e,i,r,o,s);return l!==K&&ii(a,Dt(),l),ul}function Kd(n,t,e){const i=E();return yt(i,Tr(),t)&&$t(le(),Ne(),i,n,t,i[X],e,!0),Kd}function Zd(n,t,e){const i=E();if(yt(i,Tr(),t)){const o=le(),s=Ne();$t(o,s,i,n,t,qv(wu(o.data),s,i),e,!0)}return Zd}const Ji=void 0;var sI=["en",[["a","p"],["AM","PM"],Ji],[["AM","PM"],Ji,Ji],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ji,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ji,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ji,"{1} 'at' {0}",Ji],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function oI(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let uo={};function xt(n){const t=function aI(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=v_(t);if(e)return e;const i=t.split("-")[0];if(e=v_(i),e)return e;if("en"===i)return sI;throw new Error(`Missing locale data for the locale "${n}".`)}function v_(n){return n in uo||(uo[n]=me.ng&&me.ng.common&&me.ng.common.locales&&me.ng.common.locales[n]),uo[n]}var P=(()=>((P=P||{})[P.LocaleId=0]="LocaleId",P[P.DayPeriodsFormat=1]="DayPeriodsFormat",P[P.DayPeriodsStandalone=2]="DayPeriodsStandalone",P[P.DaysFormat=3]="DaysFormat",P[P.DaysStandalone=4]="DaysStandalone",P[P.MonthsFormat=5]="MonthsFormat",P[P.MonthsStandalone=6]="MonthsStandalone",P[P.Eras=7]="Eras",P[P.FirstDayOfWeek=8]="FirstDayOfWeek",P[P.WeekendRange=9]="WeekendRange",P[P.DateFormat=10]="DateFormat",P[P.TimeFormat=11]="TimeFormat",P[P.DateTimeFormat=12]="DateTimeFormat",P[P.NumberSymbols=13]="NumberSymbols",P[P.NumberFormats=14]="NumberFormats",P[P.CurrencyCode=15]="CurrencyCode",P[P.CurrencySymbol=16]="CurrencySymbol",P[P.CurrencyName=17]="CurrencyName",P[P.Currencies=18]="Currencies",P[P.Directionality=19]="Directionality",P[P.PluralCase=20]="PluralCase",P[P.ExtraData=21]="ExtraData",P))();const dl="en-US";let y_=dl;function Jd(n,t,e,i,r){if(n=Q(n),Array.isArray(n))for(let o=0;o<n.length;o++)Jd(n[o],t,e,i,r);else{const o=le(),s=E();let a=Yr(n)?n:Q(n.provide),l=Qv(n);const c=Je(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Yr(n)||!n.multi){const f=new Yo(l,r,b),p=th(a,t,r?u:u+h,d);-1===p?(Ba(Zo(c,s),o,a),eh(o,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(f),s.push(f)):(e[p]=f,s[p]=f)}else{const f=th(a,t,u+h,d),p=th(a,t,u,u+h),m=f>=0&&e[f],C=p>=0&&e[p];if(r&&!C||!r&&!m){Ba(Zo(c,s),o,a);const D=function ok(n,t,e,i,r){const o=new Yo(n,e,b);return o.multi=[],o.index=t,o.componentProviders=0,U_(o,r,i&&!e),o}(r?rk:ik,e.length,r,i,l);!r&&C&&(e[p].providerFactory=D),eh(o,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(D),s.push(D)}else eh(o,n,f>-1?f:p,U_(e[r?p:f],l,!r&&i));!r&&i&&C&&e[p].componentProviders++}}}function eh(n,t,e,i){const r=Yr(t),o=function TT(n){return!!n.useClass}(t);if(r||o){const l=(o?Q(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function U_(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function th(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function ik(n,t,e,i){return nh(this.multi,[])}function rk(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Qo(e,e[1],this.providerFactory.index,i);o=a.slice(0,s),nh(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],nh(r,o);return o}function nh(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Ae(n,t=[]){return e=>{e.providersResolver=(i,r)=>function nk(n,t,e){const i=le();if(i.firstCreatePass){const r=yn(n);Jd(e,i.data,i.blueprint,r,!0),Jd(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class $_{}class lk{resolveComponentFactory(t){throw function ak(n){const t=Error(`No component factory found for ${pe(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Ti=(()=>{class n{}return n.NULL=new lk,n})();function ck(){return fo(Je(),E())}function fo(n,t){return new Ye(nn(n,t))}let Ye=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=ck,n})();function uk(n){return n instanceof Ye?n.nativeElement:n}class ws{}let jn=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function hk(){const n=E(),e=Bt(Je().index,n);return function dk(n){return n[X]}(kn(e)?e:n)}(),n})(),fk=(()=>{class n{}return n.\u0275prov=O({token:n,providedIn:"root",factory:()=>null}),n})();class er{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const pk=new er("13.3.3"),ih={};function ml(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&i.push(Ge(o)),vn(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&ml(l[1],l,c,i)}const s=e.type;if(8&s)ml(n,t,e.child,i);else if(32&s){const a=Qu(e,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=sv(t,e);if(Array.isArray(a))i.push(...a);else{const l=cs(t[16]);ml(l[1],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class Ds{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ml(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(vn(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(nd(t,i),ja(e,i))}this._attachedToViewContainer=!1}Qm(this._lView[1],this._lView)}onDestroy(t){Pv(this._lView[1],this._lView,null,t)}markForCheck(){Ed(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){xd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function yT(n,t,e){Ta(!0);try{xd(n,t,e)}finally{Ta(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new R(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function pA(n,t){us(n,t,t[X],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new R(902,"");this._appRef=t}}class gk extends Ds{constructor(t){super(t),this._view=t}detectChanges(){jv(this._view)}checkNoChanges(){!function _T(n){Ta(!0);try{jv(n)}finally{Ta(!1)}}(this._view)}get context(){return null}}class z_ extends Ti{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=gt(t);return new rh(e,this.ngModule)}}function G_(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class rh extends $_{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function RA(n){return n.map(OA).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return G_(this.componentDef.inputs)}get outputs(){return G_(this.componentDef.outputs)}create(t,e,i,r){const o=(r=r||this.ngModule)?function vk(n,t){return{get:(e,i,r)=>{const o=n.get(e,ih,r);return o!==ih||i===ih?o:t.get(e,i,r)}}}(t,r.injector):t,s=o.get(ws,Bg),a=o.get(fk,null),l=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=i?function kv(n,t,e){if(Fe(n))return n.selectRootElement(t,e===gn.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):td(s.createRenderer(null,this.componentDef),c,function mk(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(c)),d=this.componentDef.onPush?576:528,h=function cy(n,t){return{components:[],scheduler:n||aA,clean:bT,playerHandler:t||null,flags:0}}(),f=nl(0,null,null,1,0,null,null,null,null,null),p=ds(null,f,h,d,null,null,s,l,a,o);let m,C;Ia(p);try{const D=function ay(n,t,e,i,r,o){const s=e[1];e[20]=n;const l=qr(s,20,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(rl(l,c,!0),null!==n&&(Fa(r,n,c),null!==l.classes&&ad(r,n,l.classes),null!==l.styles&&cv(r,n,l.styles)));const u=i.createRenderer(n,t),d=ds(e,Tv(t),null,t.onPush?64:16,e[20],l,i,u,o||null,null);return s.firstCreatePass&&(Ba(Zo(l,e),s,t.type),Lv(s,l),Vv(l,e.length,1)),il(e,d),e[20]=d}(u,this.componentDef,p,s,l);if(u)if(i)Fa(l,u,["ng-version",pk.full]);else{const{attrs:_,classes:T}=function FA(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!bn(r))break;r=o}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);_&&Fa(l,u,_),T&&T.length>0&&ad(l,u,T.join(" "))}if(C=vu(f,20),void 0!==e){const _=C.projection=[];for(let T=0;T<this.ngContentSelectors.length;T++){const L=e[T];_.push(null!=L?Array.from(L):null)}}m=function ly(n,t,e,i,r){const o=e[1],s=function nT(n,t,e){const i=Je();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Bv(n,i,t,zr(n,t,1,null),e));const r=Qo(t,n,i.directiveStart,i);vt(r,t);const o=nn(i,t);return o&&vt(o,t),r}(o,e,t);if(i.components.push(s),n[8]=s,r&&r.forEach(l=>l(s,t)),t.contentQueries){const l=Je();t.contentQueries(1,s,l.directiveStart)}const a=Je();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(wi(a.index),Fv(e[1],a,0,a.directiveStart,a.directiveEnd,t),Nv(t,s)),s}(D,this.componentDef,p,h,[HT]),hs(f,p,null)}finally{ka()}return new _k(this.componentType,m,fo(C,p),p,C)}}class _k extends class sk{}{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new gk(r),this.componentType=t}get injector(){return new Pr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class ri{}class W_{}const po=new Map;class Z_ extends ri{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new z_(this);const i=Jt(t);this._bootstrapComponents=Nn(i.bootstrap),this._r3Injector=Zv(t,e,[{provide:ri,useValue:this},{provide:Ti,useValue:this.componentFactoryResolver}],pe(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Le.THROW_IF_NOT_FOUND,i=G.Default){return t===Le||t===ri||t===Td?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class oh extends W_{constructor(t){super(),this.moduleType=t,null!==Jt(t)&&function Ck(n){const t=new Set;!function e(i){const r=Jt(i,!0),o=r.id;null!==o&&(function Y_(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${pe(t)} vs ${pe(t.name)}`)}(o,po.get(o),i),po.set(o,i));const s=Nn(r.imports);for(const a of s)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new Z_(this.moduleType,t)}}function qt(n,t,e,i){return Q_(E(),wt(),n,t,e,i)}function sh(n,t,e,i,r){return X_(E(),wt(),n,t,e,i,r)}function Es(n,t){const e=n[t];return e===K?void 0:e}function Q_(n,t,e,i,r,o){const s=t+e;return yt(n,s,r)?Vn(n,s+1,o?i.call(o,r):i(r)):Es(n,s+1)}function X_(n,t,e,i,r,o,s){const a=t+e;return Qi(n,a,r,o)?Vn(n,a+2,s?i.call(s,r,o):i(r,o)):Es(n,a+2)}function De(n,t){const e=le();let i;const r=n+20;e.firstCreatePass?(i=function Ik(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=Yi(i.type)),s=_i(b);try{const a=La(!1),l=o();return La(a),function XT(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,E(),r,l),l}finally{_i(s)}}function dt(n,t,e){const i=n+20,r=E(),o=Ar(r,i);return Ms(r,i)?Q_(r,wt(),t,o.transform,e,o):o.transform(e)}function Un(n,t,e,i){const r=n+20,o=E(),s=Ar(o,r);return Ms(o,r)?X_(o,wt(),t,s.transform,e,i,s):s.transform(e,i)}function Ms(n,t){return n[1].data[t].pure}function ah(n){return t=>{setTimeout(n,void 0,t)}}const be=class Rk extends ve{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var r,o,s;let a=t,l=e||(()=>null),c=i;if(t&&"object"==typeof t){const d=t;a=null===(r=d.next)||void 0===r?void 0:r.bind(d),l=null===(o=d.error)||void 0===o?void 0:o.bind(d),c=null===(s=d.complete)||void 0===s?void 0:s.bind(d)}this.__isAsync&&(l=ah(l),a&&(a=ah(a)),c&&(c=ah(c)));const u=super.subscribe({next:a,error:l,complete:c});return t instanceof lt&&t.add(u),u}};function Fk(){return this._results[Kr()]()}class lh{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Kr(),i=lh.prototype;i[e]||(i[e]=Fk)}get changes(){return this._changes||(this._changes=new be)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=rn(t);(this._changesDetected=!function qM(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let $n=(()=>{class n{}return n.__NG_ELEMENT_ID__=Vk,n})();const Nk=$n,Lk=class extends Nk{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=ds(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(e)),hs(e,i,t),new Ds(i)}};function Vk(){return vl(Je(),E())}function vl(n,t){return 4&n.type?new Lk(t,n,fo(n,t)):null}let an=(()=>{class n{}return n.__NG_ELEMENT_ID__=Bk,n})();function Bk(){return rb(Je(),E())}const Hk=an,nb=class extends Hk{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return fo(this._hostTNode,this._hostLView)}get injector(){return new Pr(this._hostTNode,this._hostLView)}get parentInjector(){const t=Va(this._hostTNode,this._hostLView);if(tm(t)){const e=kr(t,this._hostLView),i=Ir(t);return new Pr(e[1].data[i+8],e)}return new Pr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ib(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const r=t.createEmbeddedView(e||{});return this.insert(r,i),r}createComponent(t,e,i,r,o){const s=t&&!function Jo(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const d=e||{};a=d.index,i=d.injector,r=d.projectableNodes,o=d.ngModuleRef}const l=s?t:new rh(gt(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const h=(s?c:this.parentInjector).get(ri,null);h&&(o=h)}const u=l.create(c,r,void 0,o);return this.insert(u.hostView,a),u}insert(t,e){const i=t._lView,r=i[1];if(function dM(n){return vn(n[3])}(i)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const d=i[3],h=new nb(d,d[6],d[3]);h.detach(h.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;!function mA(n,t,e,i){const r=10+i,o=e.length;i>0&&(e[r-1][4]=t),i<o-10?(t[4]=e[r],dm(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function vA(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(r,i,s,o);const a=od(o,s),l=i[X],c=Za(l,s[7]);return null!==c&&function fA(n,t,e,i,r,o){i[0]=r,i[6]=t,us(n,i,e,1,r,o)}(r,s[6],l,i,c,a),t.attachToViewContainerRef(),dm(ch(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ib(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=nd(this._lContainer,e);i&&(ja(ch(this._lContainer),e),Qm(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=nd(this._lContainer,e);return i&&null!=ja(ch(this._lContainer),e)?new Ds(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ib(n){return n[8]}function ch(n){return n[8]||(n[8]=[])}function rb(n,t){let e;const i=t[n.index];if(vn(i))e=i;else{let r;if(8&n.type)r=Ge(i);else{const o=t[X];r=o.createComment("");const s=nn(n,t);Zi(o,Za(o,s),r,function CA(n,t){return Fe(n)?n.nextSibling(t):t.nextSibling}(o,s),!1)}t[n.index]=e=Hv(i,t,r,n),il(t,e)}return new nb(e,n,t)}class uh{constructor(t){this.queryList=t,this.matches=null}clone(){return new uh(this.queryList)}setDirty(){this.queryList.setDirty()}}class dh{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new dh(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==ub(t,e).matches&&this.queries[e].setDirty()}}class ob{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class hh{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new hh(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class fh{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new fh(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,$k(e,o)),this.matchTNodeWithReadOption(t,e,Ha(e,t,o,!1,!1))}else i===$n?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ha(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Ye||r===an||r===$n&&4&e.type)this.addMatch(e.index,-2);else{const o=Ha(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function $k(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function zk(n,t,e,i){return-1===e?function qk(n,t){return 11&n.type?fo(n,t):4&n.type?vl(n,t):null}(t,n):-2===e?function Gk(n,t,e){return e===Ye?fo(t,n):e===$n?vl(t,n):e===an?rb(t,n):void 0}(n,t,i):Qo(n,n[1],e,t)}function sb(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:zk(t,o[c],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function ph(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=sb(n,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&ph(h[1],h,c,i)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];ph(f[1],f,c,i)}}}}}return i}function yl(n){const t=E(),e=le(),i=Gg();Du(i+1);const r=ub(e,i);if(n.dirty&&Hg(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?ph(e,t,i,[]):sb(e,t,r,i);n.reset(o,uk),n.notifyOnChanges()}return!0}return!1}function ab(n,t,e){const i=le();i.firstCreatePass&&(function cb(n,t,e){null===n.queries&&(n.queries=new hh),n.queries.track(new fh(t,e))}(i,new ob(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),function lb(n,t,e){const i=new lh(4==(4&e));Pv(n,t,i,i.destroy),null===t[19]&&(t[19]=new dh),t[19].queries.push(new uh(i))}(i,E(),t)}function ub(n,t){return n.queries.getByIndex(t)}function db(n,t){return vl(n,t)}function Sl(...n){}const Ch=new N("Application Initializer");let Sh=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Sl,this.reject=Sl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(ms(o))e.push(o);else if($d(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(g(Ch,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const As=new N("AppId",{providedIn:"root",factory:function Ab(){return`${wh()}${wh()}${wh()}`}});function wh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Tb=new N("Platform Initializer"),Dh=new N("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ib=new N("appBootstrapListener");let dP=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const oi=new N("LocaleId",{providedIn:"root",factory:()=>qa(oi,G.Optional|G.SkipSelf)||function hP(){return"undefined"!=typeof $localize&&$localize.locale||dl}()});class pP{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let kb=(()=>{class n{compileModuleSync(e){return new oh(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=Nn(Jt(e).declarations).reduce((s,a)=>{const l=gt(a);return l&&s.push(new rh(l)),s},[]);return new pP(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mP=(()=>Promise.resolve(0))();function Eh(n){"undefined"==typeof Zone?mP.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ge{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new be(!1),this.onMicrotaskEmpty=new be(!1),this.onStable=new be(!1),this.onError=new be(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function vP(){let n=me.requestAnimationFrame,t=me.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function bP(n){const t=()=>{!function _P(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(me,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,xh(n),n.isCheckStableRunning=!0,Mh(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),xh(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{try{return Pb(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),Ob(n)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return Pb(n),e.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),Ob(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,xh(n),Mh(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ge.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ge.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,yP,Sl,Sl);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const yP={};function Mh(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function xh(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Pb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Ob(n){n._nesting--,Mh(n)}class CP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new be,this.onMicrotaskEmpty=new be,this.onStable=new be,this.onError=new be}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}let Ah=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ge.assertNotInAngularZone(),Eh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Eh(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(g(ge))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),SP=(()=>{class n{constructor(){this._applications=new Map,Th.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Th.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class wP{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let En,Th=new wP;const Rb=new N("AllowMultipleToken");class Fb{constructor(t,e){this.name=t,this.token=e}}function Nb(n,t,e=[]){const i=`Platform: ${t}`,r=new N(i);return(o=[])=>{let s=Lb();if(!s||s.injector.get(Rb,!1))if(n)n(e.concat(o).concat({provide:r,useValue:!0}));else{const a=e.concat(o).concat({provide:r,useValue:!0},{provide:Id,useValue:"platform"});!function xP(n){if(En&&!En.destroyed&&!En.injector.get(Rb,!1))throw new R(400,"");En=n.get(TP);const t=n.get(Tb,null);t&&t.forEach(e=>e())}(Le.create({providers:a,name:i}))}return function AP(n){const t=Lb();if(!t)throw new R(401,"");return t}()}}function Lb(){return En&&!En.destroyed?En:null}let TP=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function IP(n,t){let e;return e="noop"===n?new CP:("zone.js"===n?void 0:n)||new ge({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:ge,useValue:a}];return a.run(()=>{const c=Le.create({providers:l,parent:this.injector,name:e.moduleType.name}),u=e.create(c),d=u.injector.get(Ei,null);if(!d)throw new R(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});u.onDestroy(()=>{Ih(this._modules,u),h.unsubscribe()})}),function kP(n,t,e){try{const i=e();return ms(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(d,a,()=>{const h=u.injector.get(Sh);return h.runInitializers(),h.donePromise.then(()=>(function dI(n){Nt(n,"Expected localeId to be defined"),"string"==typeof n&&(y_=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get(oi,dl)||dl),this._moduleDoBootstrap(u),u))})})}bootstrapModule(e,i=[]){const r=Vb({},i);return function EP(n,t,e){const i=new oh(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(Ts);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new R(403,"");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new R(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(g(Le))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function Vb(n,t){return Array.isArray(t)?t.reduce(Vb,n):Object.assign(Object.assign({},n),t)}let Ts=(()=>{class n{constructor(e,i,r,o){this._zone=e,this._injector=i,this._exceptionHandler=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Ie(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new Ie(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{ge.assertNotInAngularZone(),Eh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{ge.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),u.unsubscribe()}});this.isStable=wg(s,a.pipe(Dg()))}bootstrap(e,i){if(!this._initStatus.done)throw new R(405,"");let r;r=e instanceof $_?e:this._injector.get(Ti).resolveComponentFactory(e),this.componentTypes.push(r.componentType);const o=function MP(n){return n.isBoundToModule}(r)?void 0:this._injector.get(ri),a=r.create(Le.NULL,[],i||r.selector,o),l=a.location.nativeElement,c=a.injector.get(Ah,null),u=c&&a.injector.get(SP);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),Ih(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new R(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Ih(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Ib,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(g(ge),g(Le),g(Ei),g(Sh))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ih(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let Hb=!0,Is=(()=>{class n{}return n.__NG_ELEMENT_ID__=RP,n})();function RP(n){return function FP(n,t,e){if(Ea(n)&&!e){const i=Bt(n.index,t);return new Ds(i,i)}return 47&n.type?new Ds(t[16],t):null}(Je(),E(),16==(16&n))}class zb{constructor(){}supports(t){return ps(t)}create(t){return new jP(t)}}const HP=(n,t)=>t;class jP{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||HP}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<Wb(i,r,o)?e:i,a=Wb(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}o[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ps(t))throw new R(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function ZT(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Kr()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new UP(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Gb),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gb),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class UP{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $P{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class Gb{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new $P,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Wb(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class Yb{constructor(){}supports(t){return t instanceof Map||Nd(t)}create(){return new qP}}class qP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Nd(t)))throw new R(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new zP(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class zP{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Kb(){return new El([new zb])}let El=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||Kb()),deps:[[n,new Br,new _n]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new R(901,"")}}return n.\u0275prov=O({token:n,providedIn:"root",factory:Kb}),n})();function Zb(){return new ks([new Yb])}let ks=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||Zb()),deps:[[n,new Br,new _n]]}}find(e){const i=this.factories.find(o=>o.supports(e));if(i)return i;throw new R(901,"")}}return n.\u0275prov=O({token:n,providedIn:"root",factory:Zb}),n})();const YP=Nb(null,"core",[]);let KP=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(g(Ts))},n.\u0275mod=ze({type:n}),n.\u0275inj=je({}),n})(),Ml=null;function qn(){return Ml}const re=new N("DocumentToken");let nr=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:function(){return function JP(){return g(Qb)}()},providedIn:"platform"}),n})();const eO=new N("Location Initialized");let Qb=(()=>{class n extends nr{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qn().getBaseHref(this._doc)}onPopState(e){const i=qn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=qn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){Xb()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){Xb()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(g(re))},n.\u0275prov=O({token:n,factory:function(){return function tO(){return new Qb(g(re))}()},providedIn:"platform"}),n})();function Xb(){return!!window.history.pushState}function Fh(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Jb(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function si(n){return n&&"?"!==n[0]?"?"+n:n}let mo=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:function(){return function nO(n){const t=g(re).location;return new eC(g(nr),t&&t.origin||"")}()},providedIn:"root"}),n})();const Nh=new N("appBaseHref");let eC=(()=>{class n extends mo{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Fh(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+si(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+si(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+si(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(g(nr),g(Nh,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),iO=(()=>{class n extends mo{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Fh(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+si(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+si(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(g(nr),g(Nh,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),Ps=(()=>{class n{constructor(e,i){this._subject=new be,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Jb(tC(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+si(i))}normalize(e){return n.stripTrailingSlash(function oO(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,tC(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+si(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+si(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=si,n.joinWithSlash=Fh,n.stripTrailingSlash=Jb,n.\u0275fac=function(e){return new(e||n)(g(mo),g(nr))},n.\u0275prov=O({token:n,factory:function(){return function rO(){return new Ps(g(mo),g(nr))}()},providedIn:"root"}),n})();function tC(n){return n.replace(/\/index.html$/,"")}var Ot=(()=>((Ot=Ot||{})[Ot.Decimal=0]="Decimal",Ot[Ot.Percent=1]="Percent",Ot[Ot.Currency=2]="Currency",Ot[Ot.Scientific=3]="Scientific",Ot))(),j=(()=>((j=j||{})[j.Decimal=0]="Decimal",j[j.Group=1]="Group",j[j.List=2]="List",j[j.PercentSign=3]="PercentSign",j[j.PlusSign=4]="PlusSign",j[j.MinusSign=5]="MinusSign",j[j.Exponential=6]="Exponential",j[j.SuperscriptingExponent=7]="SuperscriptingExponent",j[j.PerMille=8]="PerMille",j[j.Infinity=9]="Infinity",j[j.NaN=10]="NaN",j[j.TimeSeparator=11]="TimeSeparator",j[j.CurrencyDecimal=12]="CurrencyDecimal",j[j.CurrencyGroup=13]="CurrencyGroup",j))();function ln(n,t){const e=xt(n),i=e[P.NumberSymbols][t];if(void 0===i){if(t===j.CurrencyDecimal)return e[P.NumberSymbols][j.Decimal];if(t===j.CurrencyGroup)return e[P.NumberSymbols][j.Group]}return i}const kO=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function qh(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}let vo=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(ps(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${pe(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(b(El),b(ks),b(Ye),b(jn))},n.\u0275dir=H({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class qO{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let li=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new qO(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),uC(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{uC(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(b(an),b($n),b(El))},n.\u0275dir=H({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function uC(n,t){n.context.$implicit=t.item}let xn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new zO,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){dC("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){dC("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(b(an),b($n))},n.\u0275dir=H({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class zO{constructor(){this.$implicit=null,this.ngIf=null}}function dC(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${pe(t)}'.`)}let fC=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(b(an))},n.\u0275dir=H({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Vt]}),n})();function An(n,t){return new R(2100,"")}const nR=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let yo=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw An();return e.replace(nR,i=>i[0].toUpperCase()+i.substr(1).toLowerCase())}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=pt({name:"titlecase",type:n,pure:!0}),n})(),pC=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=gC}transform(e,i=gC){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const r=this.differ.diff(e),o=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(s=>{this.keyValues.push(function uR(n,t){return{key:n,value:t}}(s.key,s.currentValue))})),(r||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(b(ks,16))},n.\u0275pipe=pt({name:"keyvalue",type:n,pure:!1}),n})();function gC(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const r=String(e),o=String(i);return r==o?0:r<o?-1:1}let _o=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!function Yh(n){return!(null==n||""===n||n!=n)}(e))return null;r=r||this._locale;try{return function LO(n,t,e){return function Uh(n,t,e,i,r,o,s=!1){let a="",l=!1;if(isFinite(n)){let c=function BO(n){let i,r,o,s,a,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;"0"===t.charAt(o);o++);if(o===(a=t.length))i=[0],r=1;else{for(a--;"0"===t.charAt(a);)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(t.charAt(o))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);s&&(c=function VO(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(c));let u=t.minInt,d=t.minFrac,h=t.maxFrac;if(o){const _=o.match(kO);if(null===_)throw new Error(`${o} is not a valid digit info`);const T=_[1],L=_[3],ee=_[5];null!=T&&(u=qh(T)),null!=L&&(d=qh(L)),null!=ee?h=qh(ee):null!=L&&d>h&&(h=d)}!function HO(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let s=o+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let d=s;d<i.length;d++)i[d]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let d=1;d<s;d++)i[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=0!==o;const c=t+n.integerLen,u=i.reduceRight(function(d,h,f,p){return p[f]=(h+=d)<10?h:h-10,l&&(0===p[f]&&f>=c?p.pop():l=!1),h>=10?1:0},0);u&&(i.unshift(u),n.integerLen++)}(c,d,h);let f=c.digits,p=c.integerLen;const m=c.exponent;let C=[];for(l=f.every(_=>!_);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?C=f.splice(p,f.length):(C=f,f=[0]);const D=[];for(f.length>=t.lgSize&&D.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)D.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&D.unshift(f.join("")),a=D.join(ln(e,i)),C.length&&(a+=ln(e,r)+C.join("")),m&&(a+=ln(e,j.Exponential)+"+"+m)}else a=ln(e,j.Infinity);return a=n<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}(n,function $h(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],s=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";e.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const d=l.charAt(u);"0"===d?e.minFrac=e.maxFrac=u+1:"#"===d?e.maxFrac=u+1:e.posSuf+=d}const c=a.split(",");if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const u=r.length-e.posPre.length-e.posSuf.length,d=o.indexOf("#");e.negPre=o.substr(0,d).replace(/'/g,""),e.negSuf=o.substr(d+u).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function Lh(n,t){return xt(n)[P.NumberFormats][t]}(t,Ot.Decimal),ln(t,j.MinusSign)),t,j.Group,j.Decimal,e)}(function Kh(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),r,i)}catch(o){throw An()}}}return n.\u0275fac=function(e){return new(e||n)(b(oi,16))},n.\u0275pipe=pt({name:"number",type:n,pure:!0}),n})();let Zh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=je({}),n})();const mC="browser";let yR=(()=>{class n{}return n.\u0275prov=O({token:n,providedIn:"root",factory:()=>new _R(g(re),window)}),n})();class _R{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function bR(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=vC(this.window.history)||vC(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function vC(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Qh extends class SR extends class XP{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function QP(n){Ml||(Ml=n)}(new Qh)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function wR(){return Fs=Fs||document.querySelector("base"),Fs?Fs.getAttribute("href"):null}();return null==e?null:function DR(n){Nl=Nl||document.createElement("a"),Nl.setAttribute("href",n);const t=Nl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Fs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function UO(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Nl,Fs=null;const yC=new N("TRANSITION_ID"),MR=[{provide:Ch,useFactory:function ER(n,t,e){return()=>{e.get(Sh).donePromise.then(()=>{const i=qn(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[yC,re,Le],multi:!0}];class Xh{static init(){!function DP(n){Th=n}(new Xh)}addToWindow(t){me.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},me.getAllAngularTestabilities=()=>t.getAllTestabilities(),me.getAllAngularRootElements=()=>t.getAllRootElements(),me.frameworkStabilizers||(me.frameworkStabilizers=[]),me.frameworkStabilizers.push(i=>{const r=me.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?qn().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let xR=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const Ll=new N("EventManagerPlugins");let Vl=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(g(Ll),g(ge))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();class _C{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=qn().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let bC=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),Ns=(()=>{class n extends bC{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(CC),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(CC))}}return n.\u0275fac=function(e){return new(e||n)(g(re))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();function CC(n){qn().remove(n)}const Jh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ef=/%COMP%/g;function Bl(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Bl(n,r,e):(r=r.replace(ef,n),e.push(r))}return e}function DC(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Hl=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new tf(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case gn.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new OR(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case gn.ShadowDom:return new RR(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Bl(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(g(Vl),g(Ns),g(As))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();class tf{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Jh[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=Jh[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Jh[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Ut.DashCase|Ut.Important)?t.style.setProperty(e,i,r&Ut.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Ut.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,DC(i)):this.eventManager.addEventListener(t,e,DC(i))}}class OR extends tf{constructor(t,e,i,r){super(t),this.component=i;const o=Bl(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function IR(n){return"_ngcontent-%COMP%".replace(ef,n)}(r+"-"+i.id),this.hostAttr=function kR(n){return"_nghost-%COMP%".replace(ef,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class RR extends tf{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Bl(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let FR=(()=>{class n extends _C{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(g(re))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const MC=["alt","control","meta","shift"],LR={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xC={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},VR={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let BR=(()=>{class n extends _C{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qn().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="";if(MC.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const a={};return a.domEventName=r,a.fullKey=s,a}static getEventFullKey(e){let i="",r=function HR(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&xC.hasOwnProperty(t)&&(t=xC[t]))}return LR[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),MC.forEach(o=>{o!=r&&VR[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(g(re))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const qR=Nb(YP,"browser",[{provide:Dh,useValue:mC},{provide:Tb,useValue:function jR(){Qh.makeCurrent(),Xh.init()},multi:!0},{provide:re,useFactory:function $R(){return function aM(n){gu=n}(document),document},deps:[]}]),zR=[{provide:Id,useValue:"root"},{provide:Ei,useFactory:function UR(){return new Ei},deps:[]},{provide:Ll,useClass:FR,multi:!0,deps:[re,ge,Dh]},{provide:Ll,useClass:BR,multi:!0,deps:[re]},{provide:Hl,useClass:Hl,deps:[Vl,Ns,As]},{provide:ws,useExisting:Hl},{provide:bC,useExisting:Ns},{provide:Ns,useClass:Ns,deps:[re]},{provide:Ah,useClass:Ah,deps:[ge]},{provide:Vl,useClass:Vl,deps:[Ll,ge]},{provide:class CR{},useClass:xR,deps:[]}];let AC=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:As,useValue:e.appId},{provide:yC,useExisting:As},MR]}}}return n.\u0275fac=function(e){return new(e||n)(g(n,12))},n.\u0275mod=ze({type:n}),n.\u0275inj=je({providers:zR,imports:[Zh,KP]}),n})();"undefined"!=typeof window&&window;let rf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:function(e){let i=null;return i=e?new(e||n):g(kC),i},providedIn:"root"}),n})(),kC=(()=>{class n extends rf{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case fe.NONE:return i;case fe.HTML:return Rn(i,"HTML")?jt(i):Rm(this._doc,String(i)).toString();case fe.STYLE:return Rn(i,"Style")?jt(i):i;case fe.SCRIPT:if(Rn(i,"Script"))return jt(i);throw new Error("unsafe value used in a script context");case fe.URL:return Mm(i),Rn(i,"URL")?jt(i):os(String(i));case fe.RESOURCE_URL:if(Rn(i,"ResourceURL"))return jt(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function Cx(n){return new mx(n)}(e)}bypassSecurityTrustStyle(e){return function Sx(n){return new vx(n)}(e)}bypassSecurityTrustScript(e){return function wx(n){return new yx(n)}(e)}bypassSecurityTrustUrl(e){return function Dx(n){return new _x(n)}(e)}bypassSecurityTrustResourceUrl(e){return function Ex(n){return new bx(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(g(re))},n.\u0275prov=O({token:n,factory:function(e){let i=null;return i=e?new e:function tF(n){return new kC(n.get(re))}(g(Le)),i},providedIn:"root"}),n})();function U(...n){return rt(n,Uo(n))}class un extends ve{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:nF}=Array,{getPrototypeOf:iF,prototype:rF,keys:oF}=Object;function PC(n){if(1===n.length){const t=n[0];if(nF(t))return{args:t,keys:null};if(function sF(n){return n&&"object"==typeof n&&iF(n)===rF}(t)){const e=oF(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:aF}=Array;function sf(n){return ae(t=>function lF(n,t){return aF(t)?n(...t):n(t)}(n,t))}function OC(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function RC(n,t,e){n?Zn(e,n,t):t()}function Ls(n,t){const e=ce(n)?n:()=>n,i=r=>r.error(e());return new Ie(t?r=>t.schedule(i,0,r):i)}const jl=Ho(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function af(...n){return function dF(){return jo(1)}()(rt(n,Uo(n)))}function lf(n){return new Ie(t=>{Rt(n()).subscribe(t)})}function FC(){return qe((n,t)=>{let e=null;n._refCount++;const i=Re(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class hF extends Ie{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,og(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new lt;const e=this.getSubject();t.add(this.source.subscribe(Re(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=lt.EMPTY)}return t}refCount(){return FC()(this)}}function ir(n,t){return qe((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(Re(i,l=>{null==r||r.unsubscribe();let c=0;const u=o++;Rt(n(l,u)).subscribe(r=Re(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function NC(...n){const t=Uo(n);return qe((e,i)=>{(t?af(n,e,t):af(n,e)).subscribe(i)})}function fF(n,t,e,i,r){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(Re(s,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function LC(n,t){return qe(fF(n,t,arguments.length>=2,!0))}function zt(n,t){return qe((e,i)=>{let r=0;e.subscribe(Re(i,o=>n.call(t,o,r++)&&i.next(o)))})}function ci(n){return qe((t,e)=>{let o,i=null,r=!1;i=t.subscribe(Re(e,void 0,void 0,s=>{o=Rt(n(s,ci(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function bo(n,t){return ce(t)?Xe(n,t,1):Xe(n,1)}function cf(n){return n<=0?()=>Qn:qe((t,e)=>{let i=[];t.subscribe(Re(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function VC(n=pF){return qe((t,e)=>{let i=!1;t.subscribe(Re(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function pF(){return new jl}function BC(n){return qe((t,e)=>{let i=!1;t.subscribe(Re(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Co(n,t){const e=arguments.length>=2;return i=>i.pipe(n?zt((r,o)=>n(r,o,i)):yi,In(1),e?BC(t):VC(()=>new jl))}function _t(n,t,e){const i=ce(n)||t||e?{next:n,error:t,complete:e}:n;return i?qe((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(Re(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):yi}function HC(n){return qe((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class ui{constructor(t,e){this.id=t,this.url=e}}class uf extends ui{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vs extends ui{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jC extends ui{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mF extends ui{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vF extends ui{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yF extends ui{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _F extends ui{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class bF extends ui{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CF extends ui{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UC{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $C{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class SF{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wF{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DF{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EF{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qC{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ne="primary";class MF{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function So(n){return new MF(n)}const zC="ngNavigationCancelingError";function df(n){const t=Error("NavigationCancelingError: "+n);return t[zC]=!0,t}function AF(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function zn(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!GC(n[r],t[r]))return!1;return!0}function GC(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function WC(n){return Array.prototype.concat.apply([],n)}function YC(n){return n.length>0?n[n.length-1]:null}function ht(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Gn(n){return $d(n)?n:ms(n)?rt(Promise.resolve(n)):U(n)}const kF={exact:function QC(n,t,e){if(!or(n.segments,t.segments)||!Ul(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!QC(n.children[i],t.children[i],e))return!1;return!0},subset:XC},KC={exact:function PF(n,t){return zn(n,t)},subset:function OF(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>GC(n[e],t[e]))},ignored:()=>!0};function ZC(n,t,e){return kF[e.paths](n.root,t.root,e.matrixParams)&&KC[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function XC(n,t,e){return JC(n,t,t.segments,e)}function JC(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!or(r,e)||t.hasChildren()||!Ul(r,e,i))}if(n.segments.length===e.length){if(!or(n.segments,e)||!Ul(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!XC(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(or(n.segments,r)&&Ul(n.segments,r,i)&&n.children[ne])&&JC(n.children[ne],t,o,i)}}function Ul(n,t,e){return t.every((i,r)=>KC[e](n[r].parameters,i.parameters))}class rr{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=So(this.queryParams)),this._queryParamMap}toString(){return NF.serialize(this)}}class oe{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ht(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $l(this)}}class Bs{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=So(this.parameters)),this._parameterMap}toString(){return rS(this)}}function or(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class eS{}class tS{parse(t){const e=new zF(t);return new rr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Hs(t.root,!0)}`,i=function BF(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${ql(e)}=${ql(r)}`).join("&"):`${ql(e)}=${ql(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function LF(n){return encodeURI(n)}(t.fragment)}`:""}`}}const NF=new tS;function $l(n){return n.segments.map(t=>rS(t)).join("/")}function Hs(n,t){if(!n.hasChildren())return $l(n);if(t){const e=n.children[ne]?Hs(n.children[ne],!1):"",i=[];return ht(n.children,(r,o)=>{o!==ne&&i.push(`${o}:${Hs(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function FF(n,t){let e=[];return ht(n.children,(i,r)=>{r===ne&&(e=e.concat(t(i,r)))}),ht(n.children,(i,r)=>{r!==ne&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===ne?[Hs(n.children[ne],!1)]:[`${r}:${Hs(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ne]?`${$l(n)}/${e[0]}`:`${$l(n)}/(${e.join("//")})`}}function nS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ql(n){return nS(n).replace(/%3B/gi,";")}function hf(n){return nS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zl(n){return decodeURIComponent(n)}function iS(n){return zl(n.replace(/\+/g,"%20"))}function rS(n){return`${hf(n.path)}${function VF(n){return Object.keys(n).map(t=>`;${hf(t)}=${hf(n[t])}`).join("")}(n.parameters)}`}const HF=/^[^\/()?;=#]+/;function Gl(n){const t=n.match(HF);return t?t[0]:""}const jF=/^[^=?&#]+/,$F=/^[^&#]+/;class zF{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new oe([],{}):new oe([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[ne]=new oe(t,e)),i}parseSegment(){const t=Gl(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Bs(zl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Gl(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Gl(this.remaining);r&&(i=r,this.capture(i))}t[zl(e)]=zl(i)}parseQueryParam(t){const e=function UF(n){const t=n.match(jF);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function qF(n){const t=n.match($F);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=iS(e),o=iS(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Gl(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ne);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[ne]:new oe([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class oS{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ff(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=ff(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=pf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return pf(t,this._root).map(e=>e.value)}}function ff(n,t){if(n===t.value)return t;for(const e of t.children){const i=ff(n,e);if(i)return i}return null}function pf(n,t){if(n===t.value)return[t];for(const e of t.children){const i=pf(n,e);if(i.length)return i.unshift(t),i}return[]}class di{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function wo(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class sS extends oS{constructor(t,e){super(t),this.snapshot=e,gf(this,t)}toString(){return this.snapshot.toString()}}function aS(n,t){const e=function GF(n,t){const s=new Wl([],{},{},"",{},ne,t,null,n.root,-1,{});return new cS("",new di(s,[]))}(n,t),i=new un([new Bs("",{})]),r=new un({}),o=new un({}),s=new un({}),a=new un(""),l=new Do(i,r,s,a,o,ne,t,e.root);return l.snapshot=e.root,new sS(new di(l,[]),e)}class Do{constructor(t,e,i,r,o,s,a,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ae(t=>So(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ae(t=>So(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lS(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function WF(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Wl{constructor(t,e,i,r,o,s,a,l,c,u,d){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=So(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=So(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class cS extends oS{constructor(t,e){super(e),this.url=t,gf(this,e)}toString(){return uS(this._root)}}function gf(n,t){t.value._routerState=n,t.children.forEach(e=>gf(n,e))}function uS(n){const t=n.children.length>0?` { ${n.children.map(uS).join(", ")} } `:"";return`${n.value}${t}`}function mf(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,zn(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),zn(t.params,e.params)||n.params.next(e.params),function TF(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!zn(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),zn(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function vf(n,t){const e=zn(n.params,t.params)&&function RF(n,t){return or(n,t)&&n.every((e,i)=>zn(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||vf(n.parent,t.parent))}function js(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function KF(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return js(n,i,r);return js(n,i)})}(n,t,e);return new di(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>js(n,a)),s}}const i=function ZF(n){return new Do(new un(n.url),new un(n.params),new un(n.queryParams),new un(n.fragment),new un(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>js(n,o));return new di(i,r)}}function Yl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Us(n){return"object"==typeof n&&null!=n&&n.outlets}function yf(n,t,e,i,r){let o={};if(i&&ht(i,(a,l)=>{o[l]=Array.isArray(a)?a.map(c=>`${c}`):`${a}`}),n===t)return new rr(e,o,r);const s=dS(n,t,e);return new rr(s,o,r)}function dS(n,t,e){const i={};return ht(n.children,(r,o)=>{i[o]=r===t?e:dS(r,t,e)}),new oe(n.segments,i)}class hS{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Yl(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Us);if(r&&r!==YC(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _f{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function fS(n,t,e){if(n||(n=new oe([],{})),0===n.segments.length&&n.hasChildren())return Kl(n,t,e);const i=function nN(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(Us(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!gS(l,c,s))return o;i+=2}else{if(!gS(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new oe(n.segments.slice(0,i.pathIndex),{});return o.children[ne]=new oe(n.segments.slice(i.pathIndex),n.children),Kl(o,0,r)}return i.match&&0===r.length?new oe(n.segments,{}):i.match&&!n.hasChildren()?bf(n,t,e):i.match?Kl(n,0,r):bf(n,t,e)}function Kl(n,t,e){if(0===e.length)return new oe(n.segments,{});{const i=function tN(n){return Us(n[0])?n[0].outlets:{[ne]:n}}(e),r={};return ht(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=fS(n.children[s],t,o))}),ht(n.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new oe(n.segments,r)}}function bf(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Us(o)){const l=iN(o.outlets);return new oe(i,l)}if(0===r&&Yl(e[0])){i.push(new Bs(n.segments[t].path,pS(e[0]))),r++;continue}const s=Us(o)?o.outlets[ne]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&Yl(a)?(i.push(new Bs(s,pS(a))),r+=2):(i.push(new Bs(s,{})),r++)}return new oe(i,{})}function iN(n){const t={};return ht(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=bf(new oe([],{}),0,e))}),t}function pS(n){const t={};return ht(n,(e,i)=>t[i]=`${e}`),t}function gS(n,t,e){return n==e.path&&zn(t,e.parameters)}class oN{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),mf(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=wo(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),ht(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=wo(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=wo(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=wo(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new EF(o.value.snapshot))}),t.children.length&&this.forwardEvent(new wF(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(mf(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),mf(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=function sN(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=l,s.outlet&&s.outlet.activateWith(r,l),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class Cf{constructor(t,e){this.routes=t,this.module=e}}function ki(n){return"function"==typeof n}function sr(n){return n instanceof rr}const $s=Symbol("INITIAL_VALUE");function qs(){return ir(n=>function cF(...n){const t=Uo(n),e=_g(n),{args:i,keys:r}=PC(n);if(0===i.length)return rt([],t);const o=new Ie(function uF(n,t,e=yi){return i=>{RC(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)RC(t,()=>{const c=rt(n[l],t);let u=!1;c.subscribe(Re(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>OC(r,s):yi));return e?o.pipe(sf(e)):o}(n.map(t=>t.pipe(In(1),NC($s)))).pipe(LC((t,e)=>{let i=!1;return e.reduce((r,o,s)=>r!==$s?r:(o===$s&&(i=!0),i||!1!==o&&s!==e.length-1&&!sr(o)?r:o),t)},$s),zt(t=>t!==$s),ae(t=>sr(t)?t:!0===t),In(1)))}class hN{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new zs,this.attachRef=null}}class zs{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new hN,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let mS=(()=>{class n{constructor(e,i,r,o,s){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new be,this.deactivateEvents=new be,this.attachEvents=new be,this.detachEvents=new be,this.name=o||ne,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const s=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new fN(e,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(b(zs),b(an),b(Ti),Or("name"),b(Is))},n.\u0275dir=H({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class fN{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Do?this.route:t===zs?this.childContexts:this.parent.get(t,e)}}let vS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ct({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&we(0,"router-outlet")},directives:[mS],encapsulation:2}),n})();function yS(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];pN(i,gN(t,i))}}function pN(n,t){n.children&&yS(n.children,t)}function gN(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Sf(n){const t=n.children&&n.children.map(Sf),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ne&&(e.component=vS),e}function dn(n){return n.outlet||ne}function _S(n,t){const e=n.filter(i=>dn(i)===t);return e.push(...n.filter(i=>dn(i)!==t)),e}const bS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zl(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},bS):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||AF)(e,n,t);if(!o)return Object.assign({},bS);const s={};ht(o.posParams,(l,c)=>{s[c]=l.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function Ql(n,t,e,i,r="corrected"){if(e.length>0&&function yN(n,t,e){return e.some(i=>Xl(n,t,i)&&dn(i)!==ne)}(n,e,i)){const s=new oe(t,function vN(n,t,e,i){const r={};r[ne]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&dn(o)!==ne){const s=new oe([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,r[dn(o)]=s}return r}(n,t,i,new oe(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function _N(n,t,e){return e.some(i=>Xl(n,t,i))}(n,e,i)){const s=new oe(n.segments,function mN(n,t,e,i,r,o){const s={};for(const a of i)if(Xl(n,e,a)&&!r[dn(a)]){const l=new oe([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:t.length,s[dn(a)]=l}return Object.assign(Object.assign({},r),s)}(n,t,e,i,n.children,r));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const o=new oe(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function Xl(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function CS(n,t,e,i){return!!(dn(n)===i||i!==ne&&Xl(t,e,n))&&("**"===n.path||Zl(t,n,e).matched)}function SS(n,t,e){return 0===t.length&&!n.children[e]}class Jl{constructor(t){this.segmentGroup=t||null}}class wS{constructor(t){this.urlTree=t}}function Gs(n){return Ls(new Jl(n))}function DS(n){return Ls(new wS(n))}class wN{constructor(t,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(ri)}apply(){const t=Ql(this.urlTree.root,[],[],this.config).segmentGroup,e=new oe(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ne).pipe(ae(o=>this.createUrlTree(wf(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ci(o=>{if(o instanceof wS)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Jl?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ne).pipe(ae(r=>this.createUrlTree(wf(r),t.queryParams,t.fragment))).pipe(ci(r=>{throw r instanceof Jl?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new oe([],{[ne]:t}):t;return new rr(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(ae(o=>new oe([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return rt(r).pipe(bo(o=>{const s=i.children[o],a=_S(e,o);return this.expandSegmentGroup(t,a,s,o).pipe(ae(l=>({segment:l,outlet:o})))}),LC((o,s)=>(o[s.outlet]=s.segment,o),{}),function gF(n,t){const e=arguments.length>=2;return i=>i.pipe(n?zt((r,o)=>n(r,o,i)):yi,cf(1),e?BC(t):VC(()=>new jl))}())}expandSegment(t,e,i,r,o,s){return rt(i).pipe(bo(a=>this.expandSegmentAgainstRoute(t,e,i,a,r,o,s).pipe(ci(c=>{if(c instanceof Jl)return U(null);throw c}))),Co(a=>!!a),ci((a,l)=>{if(a instanceof jl||"EmptyError"===a.name)return SS(e,r,o)?U(new oe([],{})):Gs(e);throw a}))}expandSegmentAgainstRoute(t,e,i,r,o,s,a){return CS(r,e,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s):Gs(e):Gs(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?DS(o):this.lineralizeSegments(i,o).pipe(Xe(s=>{const a=new oe(s,{});return this.expandSegment(t,a,e,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=Zl(e,r,o);if(!a)return Gs(e);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?DS(d):this.lineralizeSegments(r,d).pipe(Xe(h=>this.expandSegment(t,e,i,h.concat(c),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?U(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(ae(d=>(i._loadedConfig=d,new oe(r,{})))):U(new oe(r,{}));const{matched:s,consumedSegments:a,remainingSegments:l}=Zl(e,i,r);return s?this.getChildConfig(t,i,r).pipe(Xe(u=>{const d=u.module,h=u.routes,{segmentGroup:f,slicedSegments:p}=Ql(e,a,l,h),m=new oe(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(ae(T=>new oe(a,T)));if(0===h.length&&0===p.length)return U(new oe(a,{}));const C=dn(i)===o;return this.expandSegment(d,m,h,p,C?ne:o,!0).pipe(ae(_=>new oe(a.concat(_.segments),_.children)))})):Gs(e)}getChildConfig(t,e,i){return e.children?U(new Cf(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?U(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe(Xe(r=>r?this.configLoader.load(t.injector,e).pipe(ae(o=>(e._loadedConfig=o,o))):function CN(n){return Ls(df(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):U(new Cf([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?U(r.map(s=>{const a=t.get(s);let l;if(function lN(n){return n&&ki(n.canLoad)}(a))l=a.canLoad(e,i);else{if(!ki(a))throw new Error("Invalid CanLoad guard");l=a(e,i)}return Gn(l)})).pipe(qs(),_t(s=>{if(!sr(s))return;const a=df(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),ae(s=>!0===s)):U(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return U(i);if(r.numberOfChildren>1||!r.children[ne])return Ls(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[ne]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new rr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ht(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=e[a]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return ht(e.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,i,r)}),new oe(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function wf(n){const t={};for(const i of Object.keys(n.children)){const o=wf(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function DN(n){if(1===n.numberOfChildren&&n.children[ne]){const t=n.children[ne];return new oe(n.segments.concat(t.segments),t.children)}return n}(new oe(n.segments,t))}class ES{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ec{constructor(t,e){this.component=t,this.route=e}}function MN(n,t,e){const i=n._root;return Ws(i,t?t._root:null,e,[i.value])}function tc(n,t,e){const i=function AN(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function Ws(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=wo(t);return n.children.forEach(s=>{(function TN(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function IN(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!or(n.url,t.url);case"pathParamsOrQueryParamsChange":return!or(n.url,t.url)||!zn(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vf(n,t)||!zn(n.queryParams,t.queryParams);default:return!vf(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new ES(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Ws(n,t,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ec(a.outlet.component,s))}else s&&Ys(t,a,r),r.canActivateChecks.push(new ES(i)),Ws(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),ht(o,(s,a)=>Ys(s,e.getContext(a),r)),r}function Ys(n,t,e){const i=wo(n),r=n.value;ht(i,(o,s)=>{Ys(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new ec(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class BN{}function MS(n){return new Ie(t=>t.error(n))}class jN{constructor(t,e,i,r,o,s){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const t=Ql(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ne);if(null===e)return null;const i=new Wl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ne,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new di(i,e),o=new cS(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=lS(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const s=e.children[o],a=_S(t,o),l=this.processSegmentGroup(a,s,o);if(null===l)return null;i.push(...l)}const r=xS(i);return function UN(n){n.sort((t,e)=>t.value.outlet===ne?-1:e.value.outlet===ne?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const o of t){const s=this.processSegmentAgainstRoute(o,e,i,r);if(null!==s)return s}return SS(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!CS(t,e,i,r))return null;let o,s=[],a=[];if("**"===t.path){const f=i.length>0?YC(i).parameters:{};o=new Wl(i,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,IS(t),dn(t),t.component,t,AS(e),TS(e)+i.length,kS(t))}else{const f=Zl(e,t,i);if(!f.matched)return null;s=f.consumedSegments,a=f.remainingSegments,o=new Wl(s,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,IS(t),dn(t),t.component,t,AS(e),TS(e)+s.length,kS(t))}const l=function $N(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=Ql(e,s,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const f=this.processChildren(l,c);return null===f?null:[new di(o,f)]}if(0===l.length&&0===u.length)return[new di(o,[])];const d=dn(t)===r,h=this.processSegment(l,c,u,d?ne:r);return null===h?null:[new di(o,h)]}}function qN(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function xS(n){const t=[],e=new Set;for(const i of n){if(!qN(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=xS(i.children);t.push(new di(i.value,r))}return t.filter(i=>!e.has(i))}function AS(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function TS(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function IS(n){return n.data||{}}function kS(n){return n.resolve||{}}function PS(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Df(n){return ir(t=>{const e=n(t);return e?rt(e).pipe(ae(()=>t)):U(t)})}class XN extends class QN{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Ef=new N("ROUTES");class OS{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe(ae(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const s=o.create(t);return new Cf(WC(s.injector.get(Ef,void 0,G.Self|G.Optional)).map(Sf),s)}),ci(o=>{throw e._loader$=void 0,o}));return e._loader$=new hF(r,()=>new ve).pipe(FC()),e._loader$}loadModuleFactory(t){return Gn(t()).pipe(Xe(e=>e instanceof W_?U(e):rt(this.compiler.compileModuleAsync(e))))}}class eL{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function tL(n){throw n}function nL(n,t,e){return t.parse("/")}function RS(n,t){return U(null)}const iL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gt=(()=>{class n{constructor(e,i,r,o,s,a,l){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ve,this.errorHandler=tL,this.malformedUriErrorHandler=nL,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:RS,afterPreactivation:RS},this.urlHandlingStrategy=new eL,this.routeReuseStrategy=new XN,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(ri),this.console=s.get(dP);const d=s.get(ge);this.isNgZoneEnabled=d instanceof ge&&ge.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function IF(){return new rr(new oe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new OS(s,a,h=>this.triggerEvent(new UC(h)),h=>this.triggerEvent(new $C(h))),this.routerState=aS(this.currentUrlTree,this.rootComponentType),this.transitions=new un({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(zt(r=>0!==r.id),ae(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),ir(r=>{let o=!1,s=!1;return U(r).pipe(_t(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ir(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return FS(a.source)&&(this.browserUrlTree=a.extractedUrl),U(a).pipe(ir(d=>{const h=this.transitions.getValue();return i.next(new uf(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Qn:Promise.resolve(d)}),function EN(n,t,e,i){return ir(r=>function SN(n,t,e,i,r){return new wN(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(ae(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),_t(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function zN(n,t,e,i,r){return Xe(o=>function HN(n,t,e,i,r="emptyOnly",o="legacy"){try{const s=new jN(n,t,e,i,r,o).recognize();return null===s?MS(new BN):U(s)}catch(s){return MS(s)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe(ae(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),_t(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new vF(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);i.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:C}=a,D=new uf(h,this.serializeUrl(f),p,m);i.next(D);const _=aS(f,this.rootComponentType).snapshot;return U(Object.assign(Object.assign({},a),{targetSnapshot:_,urlAfterRedirects:f,extras:Object.assign(Object.assign({},C),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Qn}),Df(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),_t(a=>{const l=new yF(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),ae(a=>Object.assign(Object.assign({},a),{guards:MN(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function kN(n,t){return Xe(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?U(Object.assign(Object.assign({},e),{guardsResult:!0})):function PN(n,t,e,i){return rt(n).pipe(Xe(r=>function VN(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?U(o.map(a=>{const l=tc(a,t,r);let c;if(function dN(n){return n&&ki(n.canDeactivate)}(l))c=Gn(l.canDeactivate(n,t,e,i));else{if(!ki(l))throw new Error("Invalid CanDeactivate guard");c=Gn(l(n,t,e,i))}return c.pipe(Co())})).pipe(qs()):U(!0)}(r.component,r.route,e,t,i)),Co(r=>!0!==r,!0))}(s,i,r,n).pipe(Xe(a=>a&&function aN(n){return"boolean"==typeof n}(a)?function ON(n,t,e,i){return rt(t).pipe(bo(r=>af(function FN(n,t){return null!==n&&t&&t(new SF(n)),U(!0)}(r.route.parent,i),function RN(n,t){return null!==n&&t&&t(new DF(n)),U(!0)}(r.route,i),function LN(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function xN(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>lf(()=>U(s.guards.map(l=>{const c=tc(l,s.node,e);let u;if(function uN(n){return n&&ki(n.canActivateChild)}(c))u=Gn(c.canActivateChild(i,n));else{if(!ki(c))throw new Error("Invalid CanActivateChild guard");u=Gn(c(i,n))}return u.pipe(Co())})).pipe(qs())));return U(o).pipe(qs())}(n,r.path,e),function NN(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return U(!0);const r=i.map(o=>lf(()=>{const s=tc(o,t,e);let a;if(function cN(n){return n&&ki(n.canActivate)}(s))a=Gn(s.canActivate(t,n));else{if(!ki(s))throw new Error("Invalid CanActivate guard");a=Gn(s(t,n))}return a.pipe(Co())}));return U(r).pipe(qs())}(n,r.route,e))),Co(r=>!0!==r,!0))}(i,o,n,t):U(a)),ae(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),_t(a=>{if(sr(a.guardsResult)){const c=df(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new _F(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),zt(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Df(a=>{if(a.guards.canActivateChecks.length)return U(a).pipe(_t(l=>{const c=new bF(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),ir(l=>{let c=!1;return U(l).pipe(function GN(n,t){return Xe(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return U(e);let o=0;return rt(r).pipe(bo(s=>function WN(n,t,e,i){return function YN(n,t,e,i){const r=PS(n);if(0===r.length)return U({});const o={};return rt(r).pipe(Xe(s=>function KN(n,t,e,i){const r=tc(n,t,i);return Gn(r.resolve?r.resolve(t,e):r(t,e))}(n[s],t,e,i).pipe(_t(a=>{o[s]=a}))),cf(1),Xe(()=>PS(o).length===r.length?U(o):Qn))}(n._resolve,n,t,i).pipe(ae(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),lS(n,e).resolve),null)))}(s.route,i,n,t)),_t(()=>o++),cf(1),Xe(s=>o===r.length?U(e):Qn))})}(this.paramsInheritanceStrategy,this.ngModule.injector),_t({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),_t(l=>{const c=new CF(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),Df(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),ae(a=>{const l=function YF(n,t,e){const i=js(n,t._root,e?e._root:void 0);return new sS(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),_t(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>ae(i=>(new oN(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),_t({next(){o=!0},complete(){o=!0}}),HC(()=>{var a;o||s||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),ci(a=>{if(s=!0,function xF(n){return n&&n[zC]}(a)){const l=sr(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const c=new jC(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||FS(r.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new mF(r.id,this.serializeUrl(r.extractedUrl),a);i.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return Qn}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},s=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(s){const l=Object.assign({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){yS(e),this.config=e.map(Sf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:s;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}return null!==d&&(d=this.removeEmptyProps(d)),function QF(n,t,e,i,r){if(0===e.length)return yf(t.root,t.root,t.root,i,r);const o=function XF(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new hS(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return ht(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new hS(e,t,i)}(e);if(o.toRoot())return yf(t.root,t.root,new oe([],{}),i,r);const s=function JF(n,t,e){if(n.isAbsolute)return new _f(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new _f(o,o===t.root,0)}const i=Yl(n.commands[0])?0:1;return function eN(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new _f(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),a=s.processChildren?Kl(s.segmentGroup,s.index,o.commands):fS(s.segmentGroup,s.index,o.commands);return yf(t.root,s.segmentGroup,a,i,r)}(c,this.currentUrlTree,e,d,null!=u?u:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=sr(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function oL(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},iL):!1===i?Object.assign({},rL):i,sr(e))return ZC(this.currentUrlTree,e,r);const o=this.parseUrl(e);return ZC(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Vs(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,s){var a,l;if(this.disposed)return Promise.resolve(!1);let c,u,d;s?(c=s.resolve,u=s.reject,d=s.promise):d=new Promise((p,m)=>{c=p,u=m});const h=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),f=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):f=0,this.setTransition({id:h,targetPageId:f,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new jC(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){ll()},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();function FS(n){return"imperative"!==n}class NS{}class LS{preload(t,e){return U(null)}}let VS=(()=>{class n{constructor(e,i,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new OS(r,i,l=>e.triggerEvent(new UC(l)),l=>e.triggerEvent(new $C(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(zt(e=>e instanceof Vs),bo(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(ri);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return rt(r).pipe(jo(),ae(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?U(i._loadedConfig):this.loader.load(e.injector,i)).pipe(Xe(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(g(Gt),g(kb),g(Le),g(NS))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),Af=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof uf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Vs&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof qC&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new qC(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){ll()},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const ar=new N("ROUTER_CONFIGURATION"),BS=new N("ROUTER_FORROOT_GUARD"),cL=[Ps,{provide:eS,useClass:tS},{provide:Gt,useFactory:function pL(n,t,e,i,r,o,s={},a,l){const c=new Gt(null,n,t,e,i,r,WC(o));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function gL(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(s,c),s.enableTracing&&c.events.subscribe(u=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[eS,zs,Ps,Le,kb,Ef,ar,[class JN{},new _n],[class ZN{},new _n]]},zs,{provide:Do,useFactory:function mL(n){return n.routerState.root},deps:[Gt]},VS,LS,class lL{preload(t,e){return e().pipe(ci(()=>U(null)))}},{provide:ar,useValue:{enableTracing:!1}}];function uL(){return new Fb("Router",Gt)}let HS=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[cL,jS(e),{provide:BS,useFactory:fL,deps:[[Gt,new _n,new Br]]},{provide:ar,useValue:i||{}},{provide:mo,useFactory:hL,deps:[nr,[new za(Nh),new _n],ar]},{provide:Af,useFactory:dL,deps:[Gt,yR,ar]},{provide:NS,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:LS},{provide:Fb,multi:!0,useFactory:uL},[Tf,{provide:Ch,multi:!0,useFactory:vL,deps:[Tf]},{provide:US,useFactory:yL,deps:[Tf]},{provide:Ib,multi:!0,useExisting:US}]]}}static forChild(e){return{ngModule:n,providers:[jS(e)]}}}return n.\u0275fac=function(e){return new(e||n)(g(BS,8),g(Gt,8))},n.\u0275mod=ze({type:n}),n.\u0275inj=je({}),n})();function dL(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Af(n,t,e)}function hL(n,t,e={}){return e.useHash?new iO(n,t):new eC(n,t)}function fL(n){return"guarded"}function jS(n){return[{provide:$M,multi:!0,useValue:n},{provide:Ef,multi:!0,useValue:n}]}let Tf=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ve}appInitializer(){return this.injector.get(eO,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),o=this.injector.get(Gt),s=this.injector.get(ar);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?U(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(ar),r=this.injector.get(VS),o=this.injector.get(Af),s=this.injector.get(Gt),a=this.injector.get(Ts);e===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&s.initialNavigation(),r.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(g(Le))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();function vL(n){return n.appInitializer.bind(n)}function yL(n){return n.bootstrapListener.bind(n)}const US=new N("Router Initializer"),bL=[];let CL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=je({imports:[[HS.forRoot(bL)],HS]}),n})();var $S=["adze","ahlspiess","aikuchi","aklys","arbir","arit","aruval","atgeir","axe","backsword","bakatwa","balisong","bardiche","barong","baselard","baton","battle-axe","bhuj","bichuwa","bilbo","bill","bisento","bludgeon","bokken","bolo","boomerang","brandistock","broadaxe","b\u014d","cambuk","cestus","changdao","chigiriki","chokut\u014d","ch\xfai","cinquedea","claw","claymore","club","colichemarde","crop","crowbill","cumberjung","cutlass","dadao","dagger","dao","doloire","dory","dotanuki","dussack","eku","emeici","estoc","falcata","falchion","falx","fan","fauchard","firangi","flail","flamberge","flyssa","fork","fu","gada","gauntlet","gladius","glaive","goad","goedendag","golok","guan","guisarme","gurz","hachiwara","hakapik","haladie","halberd","hammer","hanb\u014d","handaxe","harpe","hasta","hatchet","hwando","hwandudaedo","ida","iklwa","jambiya","jawbone","ji","jian","jukjangchangbo","jutte","j\u014d","kaiken","kalis","kama","kampilan","kanab\u014d","karabela","karambit","kard","kaskara","kastane","katana","katar","katzbalger","kerala","khanda","khanjali","khanjar","khopesh","kila","kilij","kirpan","klewang","knife","knives","knobkierrie","ko","kodachi","kopis","kora","kotiate","krabi","kris","kudi","kujang","kukri","kurunthadi","kusari-gama","kyoketsu-shoge","labrys","lance","lathi","liuyedao","longsword","luwuk","macana","mace","machete","macuahuitl","maduvu","mallet","mameluke","man-catcher","mandau","manriki","masakari","mattock","maul","menavlion","mere","messer","misericorde","moplah","morning-star","morningstar","mubuchae","mughal","naboot","nagamaki","naginata","nair","nandao","ngao","nihonto","nimcha","ninjato","nodachi","nulbjakchang","nunchaku","nyepel","ono","palstave","panabas","partisan","pata","patag","patu","piandao","pichangatti","pick","pickaxe","pike","pinuti","pitchfork","planson","pudao","pulwar","punyal","qama","qiang","quarterstaff","quauhol\u014dlli","ranseur","rapier","romphea","roundhead","rungu","saber","sabre","sagaris","sai","saif","saingeom","saintie","sang","sarissa","sasumata","scepter","scimitar","scythe","seax","shamshir","shareeravadi","shashka","shestopyor","shikomizue","shillelagh","shortsword","shuckra","sibat","sickle","sledgehammer","sodegarami","sovnya","spade","spadroon","spatha","spear","spetum","ssangsudo","staff","stick","suburito","surik","surujin","sword","swordstaff","szabla","tabak-toyok","tabarzin","taiaha","takoba","talibon","talwar","tambo","tant\u014d","tekkan","tekko","tekpi","tepoztopilli","tewhatewha","tibetan","tlaximaltepoztli","tomahawk","tonfa","tongi","trident","trishula","tsukub\u014d","tsurugi","ulfberh","vala\u0161ka","vechevoral","vettukathi","voulge","waddy","waki","wheel","wodao","wrench","xiphos","yanmaodao","yari","yatagan","yawara","yoroi-do","yubi-bo","zanbato","zhanmadao","zhua","zweih\xe4nder"],SL=["jacket","coat","breastplate","jerkin","hauberk","vest","tunic","chestguard"],wL=["pants","greaves","shinguards","trousers","shorts","leggings","skirt"],DL=["helmet","helm","mask","faceguard","cap","hat","hood"],EL=["sandals","boots","shoes","footwear","slippers"],Mo=["atrocious","awful","dreadful","cheap","crummy","lousy","poor","abominable","rough","sad","gross","stinking","imperfect","shoddy","inferior","bad","junky","unusual","aberrant","deviant","careless","cheesy","crappy","cruddy","defective","deficient","abnormal","dissatisfactory","erroneous","faulty","grungy","icky","inadequate","incorrect","slipshod","substandard","unsatisfactory","mediocre","inconsistent","anomalous","atypical","strange","ordinary","regular","common","fair","moderate","humdrum","intermediate","peculiar","medium","middling","standard","customary","everyday","passable","so-so","tolerable","undistinguished","unexceptional","usual","acceptable","excellent","exceptional","familiar","favorable","great","marvelous","positive","satisfactory","satisfying","superb","valuable","wonderful","boss","choice","nice","pleasing","prime","radical","superior","worthy","admirable","agreeable","commendable","congenial","deluxe","first-class","first-rate","gnarly","honorable","neat","precious","reputable","shipshape","splendid","stupendous","eminent","excellent","tiptop","odd","big","considerable","enormous","extreme","huge","immense","notable","strong","tremendous","vast","fat","husky","large","mammoth","ample","bulky","extended","rare","extensive","extravagant","gigantic","grievous","humongous","inordinate","jumbo","lengthy","long","oversize","prodigious","stupendous","titanic","towering","colossal","extraordinary","noteworthy","phenomenal","remarkable","singular","special","super","uncommon","unique","unprecedented","unimaginable","unthinkable"],Ks=["irritation","annoyance","embarassment","confusion","frostbite","flames","wounding","light","darkness","power","decimation","destruction","supremacy","annihilation"],If=["partial","substantial","blinding","overwhelming","complete","burning","total","incalculable","unfathomable","obliterating","limitless","infinite","eternal","supreme","perfect"],Zs=["protection","defense","light","darkness","power","supremacy","invulnerability"],kf=["partial","substantial","complete","total","incalculable","unfathomable","limitless","infinite","eternal","supreme","perfect"],xo=["patchouli","alangium","lobelia","lovage","anemone","kudzu","marlberry","aster","milkvetch","safflower","cinnamon","velvet leaf","goldthread","lilac","jimson","dendrobium","ephedra","forsythia","honeylocust","licorice","holly","motherwort","arborvitae","snakeroot","foxglove","stringbush","ginger","ginkgo","ginseng"],nc=["rotten","wilted","poor","weak","low-grade","average","healthy","abundant","quality","great","exceptional","amazing","spiritual"];let hi=(()=>{class n{constructor(){this.logAdded=new ve,this.systemTopicEnabled=!0,this.combatTopicEnabled=!0,this.rebirthTopicEnabled=!0,this.eventTopicEnabled=!0,this.enabledTopics="",this.updateEnabledTopics()}addLogMessage(e,i,r){this.logAdded.next({message:e,type:i,topic:r})}getProperties(){return{systemTopicEnabled:this.systemTopicEnabled,combatTopicEnabled:this.combatTopicEnabled,rebirthTopicEnabled:this.rebirthTopicEnabled,eventTopicEnabled:this.eventTopicEnabled}}setProperties(e){this.systemTopicEnabled=e.systemTopicEnabled,this.combatTopicEnabled=e.combatTopicEnabled,this.rebirthTopicEnabled=e.rebirthTopicEnabled,this.eventTopicEnabled=e.eventTopicEnabled,this.updateEnabledTopics()}updateEnabledTopics(){this.enabledTopics="",this.systemTopicEnabled&&(this.enabledTopics+="SYSTEM"),this.combatTopicEnabled&&(this.enabledTopics+="COMBAT"),this.rebirthTopicEnabled&&(this.enabledTopics+="REBIRTH"),this.eventTopicEnabled&&(this.enabledTopics+="EVENT")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ML{constructor(){this.dead=!1,this.attributeScalingLimit=10,this.attributeSoftCap=1e4,this.aptitudeGainDivider=100,this.condenseSoulCoreCost=10,this.reinforceMeridiansCost=1e3,this.attributes={strength:{description:"An immortal must have raw physical power.",value:1,aptitude:1,icon:"fitness_center"},toughness:{description:"An immortal must develop resilience to endure hardship.",value:1,aptitude:1,icon:"castle"},speed:{description:"An immortal must be quick of foot and hand.",value:1,aptitude:1,icon:"directions_run"},intelligence:{description:"An immortal must understand the workings of the universe.",value:1,aptitude:1,icon:"local_library"},charisma:{description:"An immortal must influence the hearts and minds of others.",value:1,aptitude:1,icon:"forum"},spirituality:{description:"An immortal must find deep connections to the divine.",value:0,aptitude:1,icon:"auto_awesome"},earthLore:{description:"Understanding the earth and how to draw power and materials from it.",value:0,aptitude:1,icon:"landslide"},metalLore:{description:"Understanding metals and how to forge and use them.",value:0,aptitude:1,icon:"hardware"},plantLore:{description:"Understanding plants and how to grow and care for them.",value:0,aptitude:1,icon:"forest"},animalLore:{description:"Understanding animals and monsters and how to deal with them.",value:0,aptitude:1,icon:"pets"},alchemy:{description:"Understanding potions and pills and how to make and use them.",value:0,aptitude:1,icon:"emoji_food_beverage"}},this.status={health:{description:"Physical well-being. Take too much damage and you will die.",value:100,max:100},stamina:{description:"Physical energy to accomplish tasks. Most activities use stamina, and if you let yourself run down you could get sick and have to stay in bed for a few days.",value:100,max:100},mana:{description:"Magical energy required for mysterious spiritual activities.",value:0,max:0},nourishment:{description:"Eating is essential to life. You will automatically eat whatever food you have available when you are hungry. If you run out of food you will automatically spend your money on a bowl of rice each day.",value:7,max:14}},this.money=300,this.age=6570,this.baseLifespan=10950,this.foodLifespan=0,this.statLifespan=0,this.lifespan=this.baseLifespan+this.foodLifespan+this.statLifespan,this.equipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null}}reincarnate(){this.status.health.value=100,this.status.health.max=100,this.status.stamina.value=100,this.status.stamina.max=100,this.status.nourishment.value=7,this.status.nourishment.max=14,this.status.mana.max=0,this.status.mana.value=0;let t=0;const e=Object.keys(this.attributes);for(const i in e)this.attributes[e[i]].value>0&&(this.attributes[e[i]].aptitude+=this.attributes[e[i]].value/this.aptitudeGainDivider,this.attributes[e[i]].value=this.getAttributeStartingValue(this.attributes[e[i]].aptitude)),t+=this.attributes[e[i]].aptitude;this.money=0,this.age=6570,this.baseLifespan+=1,this.statLifespan=t/Object.keys(this.attributes).length*.8,this.foodLifespan=0,this.recalculateLifespan(),this.equipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null}}getAttributeStartingValue(t){return t<this.attributeSoftCap?t:this.attributeSoftCap+Math.log2(t-(this.attributeSoftCap-1))}recalculateLifespan(){this.lifespan=this.baseLifespan+this.foodLifespan+this.statLifespan+this.attributes.spirituality.value}getAptitudeMultipier(t){return t<this.attributeScalingLimit?t:t<10*this.attributeScalingLimit?this.attributeScalingLimit+(t-this.attributeScalingLimit)/4:t<100*this.attributeScalingLimit?this.attributeScalingLimit+9*this.attributeScalingLimit/4+(t-10*this.attributeScalingLimit)/20:t<this.attributeSoftCap?this.attributeScalingLimit+9*this.attributeScalingLimit/4+90*this.attributeScalingLimit/20+(t-100*this.attributeScalingLimit)/100:this.attributeScalingLimit+9*this.attributeScalingLimit/4+90*this.attributeScalingLimit/20+this.attributeScalingLimit*(this.attributeSoftCap-100)/100+Math.log2(t-this.attributeSoftCap+1)}increaseAttribute(t,e){this.attributes[t].value+=e*this.getAptitudeMultipier(this.attributes[t].aptitude)}checkOverage(){this.status.health.value>this.status.health.max&&(this.status.health.value=this.status.health.max),this.status.stamina.value>this.status.stamina.max&&(this.status.stamina.value=this.status.stamina.max),this.status.nourishment.value>this.status.nourishment.max&&(this.status.nourishment.value=this.status.nourishment.max)}getProperties(){return{attributes:this.attributes,money:this.money,equipment:this.equipment,age:this.age,status:this.status,baseLifespan:this.baseLifespan,foodLifespan:this.foodLifespan,statLifespan:this.statLifespan,attributeScalingLimit:this.attributeScalingLimit,attributeSoftCap:this.attributeSoftCap,aptitudeGainDivider:this.aptitudeGainDivider,condenseSoulCoreCost:this.condenseSoulCoreCost,reinforceMeridiansCost:this.reinforceMeridiansCost}}setProperties(t){this.attributes=t.attributes,this.money=t.money,this.equipment=t.equipment,this.age=t.age||6570,this.status=t.status,this.baseLifespan=t.baseLifespan,this.foodLifespan=t.foodLifespan,this.statLifespan=t.statLifespan,this.attributeScalingLimit=t.attributeScalingLimit,this.attributeSoftCap=t.attributeSoftCap,this.aptitudeGainDivider=t.aptitudeGainDivider,this.condenseSoulCoreCost=t.condenseSoulCoreCost,this.reinforceMeridiansCost=t.reinforceMeridiansCost,this.recalculateLifespan()}}let fi=(()=>{class n{constructor(){this.tickSubject=new ve,this.pause=!0,this.tickDivider=10,this.tickCount=0,this.unlockFastSpeed=!1,this.unlockFasterSpeed=!1,this.unlockFastestSpeed=!1,this.lastTime=new Date}getProperties(){return{unlockFastSpeed:this.unlockFastSpeed,unlockFasterSpeed:this.unlockFasterSpeed,unlockFastestSpeed:this.unlockFastestSpeed}}setProperties(e){this.unlockFastSpeed=e.unlockFastSpeed,this.unlockFasterSpeed=e.unlockFasterSpeed,this.unlockFastestSpeed=e.unlockFastestSpeed}start(){window.setInterval(()=>{let e=new Date,i=e.getTime()-this.lastTime.getTime();this.lastTime=e;let r=Math.floor(i/25)||1;for(let o=0;o<r;o++)this.pause||(this.tickCount++,this.tickCount>=this.tickDivider&&(this.tickCount=0,this.tickSubject.next(!0)))},25)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ao=(()=>{class n{constructor(){this.reincarnateSubject=new ve}reincarnate(){this.reincarnateSubject.next(void 0)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bt=(()=>{class n{constructor(e,i,r){this.logService=i,this.reincarnationService=r,this.characterState=new ML,this.forceRebirth=!1,e.tickSubject.subscribe(()=>{this.characterState.recalculateLifespan(),this.characterState.dead=!1,this.characterState.age++,this.characterState.status.nourishment.value--;let o="";this.forceRebirth?o="You release your soul from your body.":this.characterState.age>=this.characterState.lifespan?o="You reach the end of your natural life and pass away from old age.":this.characterState.status.nourishment.value<=0?this.characterState.attributes.spirituality.value>0?(this.characterState.status.health.value-=20,this.characterState.increaseAttribute("spirituality",.1),this.characterState.status.health.value<=0&&(o="You starve to death.")):o="You starve to death.":this.characterState.status.health.value<=0&&(o="You succumb to your wounds and die."),""!=o&&(this.logService.addLogMessage(o,"INJURY","REBIRTH"),this.forceRebirth||this.logService.addLogMessage("You have failed to achieve immortality and your life has ended. Don't worry, I'm sure you'll achieve immortality in your next life.","STANDARD","REBIRTH"),this.logService.addLogMessage("Congratulations! The cycle of reincarnation has brought you back into the world. You have been born again.","STANDARD","REBIRTH"),this.logService.addLogMessage("It takes you a few years to grow up and remember your purpose: to become an immortal. You're all grown up now, so get to it!","STANDARD","REBIRTH"),this.reincarnationService.reincarnate(),this.characterState.dead=!0,this.forceRebirth=!1)}),r.reincarnateSubject.subscribe(()=>{this.characterState.reincarnate(),Math.random()<.3&&(this.logService.addLogMessage("Your father puts some coins in your purse before sending you on your way.","STANDARD","REBIRTH"),this.characterState.money+=100)})}condenseSoulCore(){this.logService.addLogMessage("Your spirituality coelesces around the core of your soul, strengthening it and reforging it into something stronger.","STANDARD","REBIRTH"),this.logService.addLogMessage("You now gain twice as much aptitude each time you reincarnate.","STANDARD","REBIRTH"),this.characterState.condenseSoulCoreCost*=10,this.characterState.aptitudeGainDivider/=2;const e=Object.keys(this.characterState.attributes);for(const i in e){let r=this.characterState.attributes[e[i]];r.aptitude=1,r.value=parseInt(i)<5?1:0}this.forceRebirth=!0}reinforceMeridians(){this.logService.addLogMessage("The pathways that carry your chi through your body have been strengthened and reinforced.","STANDARD","REBIRTH"),this.logService.addLogMessage("Your aptitudes can now give you a greater increase when gaining attributes.","STANDARD","REBIRTH"),this.characterState.reinforceMeridiansCost*=10,this.characterState.aptitudeGainDivider/=2;const e=Object.keys(this.characterState.attributes);for(const i in e){let r=this.characterState.attributes[e[i]];r.aptitude=1,r.value=parseInt(i)<5?1:0}this.forceRebirth=!0}}return n.\u0275fac=function(e){return new(e||n)(g(fi),g(hi),g(Ao))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var it=(()=>{return(n=it||(it={}))[n.OddJobs=0]="OddJobs",n[n.Resting=1]="Resting",n[n.Begging=2]="Begging",n[n.ApprenticeBlacksmithing=3]="ApprenticeBlacksmithing",n[n.Blacksmithing=4]="Blacksmithing",n[n.GatherHerbs=5]="GatherHerbs",n[n.ChopWood=6]="ChopWood",n[n.Woodworking=7]="Woodworking",n[n.Leatherworking=8]="Leatherworking",n[n.Farming=9]="Farming",n[n.Mining=10]="Mining",n[n.Smelting=11]="Smelting",n[n.Hunting=12]="Hunting",n[n.Fishing=13]="Fishing",n[n.Alchemy=14]="Alchemy",n[n.BodyCultivation=15]="BodyCultivation",n[n.MindCultivation=16]="MindCultivation",it;var n})();let To=(()=>{class n{constructor(e,i,r,o,s,a){this.logService=e,this.characterService=i,this.itemRepoService=r,this.inventoryService=o,this.autoTroubleUnlocked=!1,this.autoTroubleEnabled=!1,this.enemyRepo={mouse:{name:"a pesky mouse",health:2,maxHealth:2,accuracy:5,attack:.5,defense:0,loot:[]},wolf:{name:"a hungry wolf",health:20,maxHealth:20,accuracy:50,attack:5,defense:2,loot:[this.itemRepoService.items.hide]}},this.monsterNames=["spider","rat","lizard","snake","imp","jackalope","goblin","zombie","hobgoblin","basilisk","mogwai","gremlin","orc","tiger","ghost","troll","manticore","merlion","bugbear","yeti","dreameater","unicorn","hellhound","chimaera","undine","minotaur","bunyip","wyvern","doomworm","giant","phoenix","titan","stormbringer"],this.monsterQualities=["a pathetic","an infant","a sickly","a wimpy","a weak","a tired","a poor","an average","a healthy","a big","a tough","a strong","a mighty","a powerful","a dangerous","a terrifying","an abominable","a demonic","a diabolical","an infernal"],this.enemies=[],this.currentEnemy=null,this.kills=0,this.troubleKills=0,this.yearlyMonsterDay=0,s.tickSubject.subscribe(()=>{this.characterService.characterState.dead||(null==this.currentEnemy&&this.enemies.length>0&&(this.currentEnemy=this.enemies[0]),this.enemiesAttack(),this.youAttack(),this.yearlyMonsterDay++,this.yearlyMonsterDay>=365&&(this.yearlyMonsterDay=0,this.trouble()),this.autoTroubleEnabled&&this.characterService.characterState.status.health.value==this.characterService.characterState.status.health.max&&this.trouble())}),a.reincarnateSubject.subscribe(()=>{this.reset()})}reset(){this.enemies=[],this.currentEnemy=null,this.kills=0,this.troubleKills=0}getProperties(){return{enemies:this.enemies,currentEnemy:this.currentEnemy,kills:this.kills,troubleKills:this.troubleKills,autoTroubleUnlocked:this.autoTroubleUnlocked,autoTroubleEnabled:this.autoTroubleEnabled,monthlyMonsterDay:this.yearlyMonsterDay}}setProperties(e){this.enemies=e.enemies,this.currentEnemy=e.currentEnemy,this.kills=e.kills,this.troubleKills=e.troubleKills,this.autoTroubleUnlocked=e.autoTroubleUnlocked,this.autoTroubleEnabled=e.autoTroubleEnabled,this.yearlyMonsterDay=e.monthlyMonsterDay}enemiesAttack(){for(const e of this.enemies)for(let i=0;i<e.quantity;i++)Math.random()<e.enemy.accuracy/100?(this.logService.addLogMessage("Ow! "+e.enemy.name+" hit you for "+e.enemy.attack+" damage","INJURY","COMBAT"),this.characterService.characterState.status.health.value-=e.enemy.attack,this.characterService.characterState.attributes.toughness.value+=.01):this.logService.addLogMessage("Miss! "+e.enemy.name+" tries to hit you but fails.","STANDARD","COMBAT")}youAttack(){var e,i;if(this.currentEnemy){let r=1;if(this.characterService.characterState.equipment.leftHand&&(r+=(null===(e=this.characterService.characterState.equipment.leftHand.weaponStats)||void 0===e?void 0:e.baseDamage)||0),this.characterService.characterState.equipment.rightHand&&(r+=(null===(i=this.characterService.characterState.equipment.rightHand.weaponStats)||void 0===i?void 0:i.baseDamage)||0),r-=this.currentEnemy.enemy.defense,r<1&&(r=1),this.currentEnemy.enemy.health-=r,this.currentEnemy.enemy.health<=0){this.kills++,this.logService.addLogMessage("You manage to kill "+this.currentEnemy.enemy.name,"STANDARD","COMBAT");for(let o of this.currentEnemy.enemy.loot)this.inventoryService.addItem(o);if(this.currentEnemy.quantity--,this.currentEnemy.quantity<=0){let o=this.enemies.indexOf(this.currentEnemy);this.enemies.splice(o,1),this.currentEnemy=null}else this.currentEnemy.enemy.health=this.currentEnemy.enemy.maxHealth}else this.logService.addLogMessage("You attack "+this.currentEnemy.enemy.name+" for "+r+" damage","STANDARD","COMBAT")}}fight(e){this.currentEnemy=e}addEnemy(e){this.logService.addLogMessage("A new enemy comes along to trouble your sleep: "+e.name,"STANDARD","COMBAT");for(const i of this.enemies)if(i.enemy.name==e.name)return void i.quantity++;this.enemies.push({enemy:JSON.parse(JSON.stringify(e)),quantity:1})}trouble(){if(0!=this.enemies.length)return;let e=Math.floor(this.troubleKills/(this.monsterNames.length*this.monsterQualities.length)),i=this.troubleKills%(this.monsterNames.length*this.monsterQualities.length),r=Math.floor(i/this.monsterQualities.length),s=this.monsterQualities[i%this.monsterQualities.length]+" "+this.monsterNames[r];e>0&&(s+=" "+(e+1)),this.addEnemy({name:s,health:10*this.troubleKills,maxHealth:10*this.troubleKills,accuracy:50,attack:this.troubleKills/10,defense:Math.floor(Math.log2(this.troubleKills)),loot:[this.inventoryService.generateSpiritGem(Math.floor(Math.log2(this.troubleKills+2)))]}),this.troubleKills++}}return n.\u0275fac=function(e){return new(e||n)(g(hi),g(bt),g(lr),g(He),g(fi),g(Ao))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var st=(()=>{return(n=st||(st={}))[n.SquatterTent=0]="SquatterTent",n[n.OwnTent=1]="OwnTent",n[n.DirtyShack=2]="DirtyShack",n[n.SimpleHut=3]="SimpleHut",n[n.PleasantCottage=4]="PleasantCottage",n[n.LargeHouse=5]="LargeHouse",n[n.CourtyardHouse=6]="CourtyardHouse",n[n.Manor=7]="Manor",n[n.Mansion=8]="Mansion",n[n.Palace=9]="Palace",n[n.Castle=10]="Castle",n[n.Fortress=11]="Fortress",n[n.Mountain=12]="Mountain",n[n.ForbiddenCity=13]="ForbiddenCity",n[n.Capital=14]="Capital",st;var n})();let Tt=(()=>{class n{constructor(e,i,r,o,s,a,l){if(this.characterService=e,this.inventoryService=i,this.logService=r,this.battleService=o,this.itemRepoService=l,this.autoBuyLandUnlocked=!1,this.autoBuyLandLimit=5,this.autoBuyHomeUnlocked=!1,this.autoBuyHomeLimit=2,this.autoBuyFurnitureUnlocked=!1,this.autoBuyFurniture={bed:null,bathtub:null,kitchen:null,workbench:null},this.autoFieldUnlocked=!1,this.autoFieldLimit=0,this.fields=[],this.fieldYields=0,this.fieldsTooltip="",this.furniture={bed:null,bathtub:null,kitchen:null,workbench:null},this.furniturePositionsArray=["bed","bathtub","kitchen","workbench"],this.homesList=[{name:"Squatter Tent",type:st.SquatterTent,description:"A dirty tent pitched in an unused field. Costs nothing, but you get what you pay for. The mice around here are pretty nasty and you might get robbed by bandits.",cost:0,costPerDay:0,landRequired:0,maxInventory:10,consequence:()=>{Math.random()<.05&&(this.logService.addLogMessage("Some troublemakers stole some money while you were sleeping. It might be time to get some walls.","INJURY","EVENT"),this.characterService.characterState.money-=this.characterService.characterState.money/10),Math.random()<.6&&this.battleService.addEnemy(this.battleService.enemyRepo.mouse)},furnitureSlots:[]},{name:"Tent of Your Own",type:st.OwnTent,description:"A decent tent pitched on your own bit of land. The occasional mouse or ruffian might give you trouble. Automatically restores 1 stamina and a bit of health each night.",cost:100,costPerDay:1,landRequired:1,maxInventory:12,consequence:()=>{this.characterService.characterState.status.health.value+=.5,this.characterService.characterState.status.stamina.value+=1,Math.random()<.03&&(this.logService.addLogMessage("Some troublemakers stole some money while you were sleeping. It might be time to get some walls.","INJURY","EVENT"),this.characterService.characterState.money-=this.characterService.characterState.money/10),Math.random()<.3&&this.battleService.addEnemy(this.battleService.enemyRepo.mouse),this.characterService.characterState.checkOverage()},furnitureSlots:[]},{name:"Dirty Shack",type:st.DirtyShack,description:"A cheap dirt-floored wooden shack. At least it has a door to keep ruffians out. Automatically restores 3 stamina and a bit of health each night.",cost:1e3,costPerDay:5,landRequired:5,maxInventory:15,consequence:()=>{this.characterService.characterState.status.health.value+=.3,this.characterService.characterState.status.stamina.value+=3,this.characterService.characterState.checkOverage()},furnitureSlots:["bed"]},{name:"Simple Hut",type:st.SimpleHut,description:"A very simple hut. Automatically restores 5 stamina and a bit of health each night.",cost:1e4,costPerDay:10,landRequired:10,maxInventory:18,consequence:()=>{this.characterService.characterState.status.health.value+=.5,this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub"]},{name:"Pleasant Cottage",type:st.PleasantCottage,description:"A nice little home where you can rest peacefully. Automatically restores 10 stamina and a bit of health each night.",cost:1e5,costPerDay:20,landRequired:20,maxInventory:20,consequence:()=>{this.characterService.characterState.status.health.value+=1,this.characterService.characterState.status.stamina.value+=10,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen"]},{name:"Large House",type:st.LargeHouse,description:"A large house where you can live and work. Automatically restores 15 stamina and a bit of health each night.",cost:1e6,costPerDay:50,landRequired:50,maxInventory:24,consequence:()=>{this.characterService.characterState.status.health.value+=2,this.characterService.characterState.status.stamina.value+=15,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"]},{name:"Courtyard House",type:st.CourtyardHouse,description:"A large house with a wall and an enclosed courtyard. Perfect for building a thriving business. Automatically restores 20 stamina and a bit of health each night.",cost:1e7,costPerDay:80,landRequired:80,maxInventory:28,consequence:()=>{this.characterService.characterState.status.health.value+=3,this.characterService.characterState.status.stamina.value+=20,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"]},{name:"Manor",type:st.Manor,description:"A large manor house. You are really moving up in the world. Automatically restores 25 stamina and a bit of health each night.",cost:1e8,costPerDay:100,landRequired:100,maxInventory:30,consequence:()=>{this.characterService.characterState.status.health.value+=4,this.characterService.characterState.status.stamina.value+=25,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"]},{name:"Mansion",type:st.Mansion,description:"An elaborate mansion. Automatically restores 30 stamina and a bit of health each night.",cost:1e9,costPerDay:120,landRequired:120,maxInventory:32,consequence:()=>{this.characterService.characterState.status.health.value+=5,this.characterService.characterState.status.stamina.value+=30,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"]},{name:"Palace",type:st.Palace,description:"A lavish palace. Automatically restores 35 stamina and a bit of health each night.",cost:1e10,costPerDay:150,landRequired:150,maxInventory:36,consequence:()=>{this.characterService.characterState.status.health.value+=10,this.characterService.characterState.status.stamina.value+=35,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"]},{name:"Castle",type:st.Castle,description:"An imposing castle. Automatically restores 40 stamina and a bit of health each night.",cost:1e10,costPerDay:150,landRequired:150,maxInventory:40,consequence:()=>{this.characterService.characterState.status.health.value+=15,this.characterService.characterState.status.stamina.value+=40,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"]},{name:"Fortress",type:st.Fortress,description:"An indomitable fortress. Automatically restores 50 stamina and a bit of health each night.",cost:1e11,costPerDay:180,landRequired:180,maxInventory:50,consequence:()=>{this.characterService.characterState.status.health.value+=20,this.characterService.characterState.status.stamina.value+=50,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"]},{name:"Mountain",type:st.Mountain,description:"An entire mighty mountain. Automatically restores 100 stamina and a bit of health each night.",cost:1e12,costPerDay:500,landRequired:500,maxInventory:60,consequence:()=>{this.characterService.characterState.status.health.value+=30,this.characterService.characterState.status.stamina.value+=100,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"]},{name:"Forbidden City",type:st.ForbiddenCity,description:"A city of your very own. Automatically restores 200 stamina and a bit of health each night.",cost:1e13,costPerDay:1e3,landRequired:1e3,maxInventory:80,consequence:()=>{this.characterService.characterState.status.health.value+=50,this.characterService.characterState.status.stamina.value+=200,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"]},{name:"Capital",type:st.Capital,description:"The entire empire is yours now. Automatically restores 300 stamina and a bit of health each night.",cost:1e14,costPerDay:1e4,landRequired:1e4,maxInventory:100,consequence:()=>{this.characterService.characterState.status.health.value+=80,this.characterService.characterState.status.stamina.value+=300,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"]}],this.land=0,this.landPrice=100,this.autoReplant=!1,this.setCurrentHome(this.homesList[0]),void 0===this.home||void 0===this.homeValue||void 0===this.nextHome)throw Error("Home service not initialized correctly.");s.tickSubject.subscribe(()=>{if(!this.characterService.characterState.dead){this.home.consequence();for(let c of this.furniturePositionsArray){let u=this.furniture[c];(null==u?void 0:u.use)&&(null==u||u.use())}this.ageFields(),this.home.costPerDay>this.characterService.characterState.money?(this.logService.addLogMessage("You can't afford the upkeep on your home. Some thugs rough you up over the debt. You better get some money, fast.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=20,this.characterService.characterState.money=0):this.characterService.characterState.money-=this.home.costPerDay,this.autoBuy()}}),a.reincarnateSubject.subscribe(()=>{this.reset(),Math.random()<.3&&(this.logService.addLogMessage("Your grandfather gives you a bit of land and helps you set up a tent on  it.","STANDARD","REBIRTH"),this.characterService.characterState.money+=5,this.setCurrentHome(this.nextHome))})}getProperties(){return{homeValue:this.homeValue,furniture:this.furniture,land:this.land,landPrice:this.landPrice,fields:this.fields,fieldYields:this.fieldYields,autoReplant:this.autoReplant,autoBuyLandUnlocked:this.autoBuyLandUnlocked,autoBuyLandLimit:this.autoBuyLandLimit,autoBuyHomeUnlocked:this.autoBuyHomeUnlocked,autoBuyHomeLimit:this.autoBuyHomeLimit,autoBuyFurnitureUnlocked:this.autoBuyFurnitureUnlocked,autoBuyFurniture:this.autoBuyFurniture,autoFieldUnlocked:this.autoFieldUnlocked,autoFieldLimit:this.autoFieldLimit}}setProperties(e){this.land=e.land,this.landPrice=e.landPrice,this.autoReplant=e.autoReplant,this.fields=e.fields,this.fieldYields=e.fieldYields,this.setCurrentHome(this.homesList[e.homeValue]),this.autoBuyLandUnlocked=e.autoBuyLandUnlocked,this.autoBuyLandLimit=e.autoBuyLandLimit,this.autoBuyHomeUnlocked=e.autoBuyHomeUnlocked,this.autoBuyHomeLimit=e.autoBuyHomeLimit,this.autoBuyFurnitureUnlocked=e.autoBuyFurnitureUnlocked,this.autoBuyFurniture=e.autoBuyFurniture,this.autoFieldUnlocked=e.autoFieldUnlocked,this.autoFieldLimit=e.autoFieldLimit;for(let i of this.furniturePositionsArray){let r=e.furniture[i];r&&(this.furniture[i]=this.itemRepoService.getFurnitureById(r.id))}}getNextHome(){for(let e=0;e<this.homesList.length-1;e++)if(this.homeValue==this.homesList[e].type)return this.homesList[e+1];return this.homesList[this.homesList.length-1]}upgradeToNextHome(){this.characterService.characterState.money>=this.nextHome.cost&&this.land>=this.nextHome.landRequired&&(this.characterService.characterState.money-=this.nextHome.cost,this.land-=this.nextHome.landRequired,this.setCurrentHome(this.nextHome),this.logService.addLogMessage("You upgraded your home. You now live in a "+this.home.name,"STANDARD","EVENT"))}reset(){this.setCurrentHome(this.homesList[0]),this.land=0,this.landPrice=100,this.fields=[],this.fieldYields=0,this.fieldsTooltip="",this.furniture.bed=null,this.furniture.bathtub=null,this.furniture.kitchen=null,this.furniture.workbench=null}setCurrentHome(e){this.homeValue=e.type,this.home=this.getHomeFromValue(this.homeValue),this.nextHome=this.getNextHome(),this.inventoryService.changeMaxItems(this.home.maxInventory)}getHomeFromValue(e){for(const i of this.homesList)if(i.type===e)return i;throw Error("Home was not found with the given value")}getCrop(){let e=0;this.characterService.characterState.attributes.plantLore.value>1&&(e=Math.floor(Math.log2(this.characterService.characterState.attributes.plantLore.value))),e>=this.inventoryService.farmFoodList.length&&(e=this.inventoryService.farmFoodList.length-1);const i=this.inventoryService.farmFoodList[e];return{cropName:i.id,yield:0,maxYield:Math.floor(100/i.value+this.characterService.characterState.attributes.plantLore.value),daysToHarvest:90+i.value}}addField(){this.land>0&&(this.land--,this.fields.push(this.getCrop()),this.fieldYields++)}workFields(){let e=1;this.characterService.characterState.attributes.plantLore.value>=10&&(e+=Math.floor(Math.log10(this.characterService.characterState.attributes.plantLore.value)));for(const i of this.fields)i.yield<i.maxYield&&(i.yield+=e,this.fieldYields+=e)}ageFields(){let e=Number.MAX_VALUE;for(let i=this.fields.length-1;i>=0;i--)this.fields[i].daysToHarvest<e&&(e=this.fields[i].daysToHarvest),this.fields[i].daysToHarvest<=0?(this.inventoryService.addItems(this.itemRepoService.items[this.fields[i].cropName],this.fields[i].yield),this.fieldYields-=this.fields[i].yield,this.autoReplant?this.fields[i]=this.getCrop():(this.fields.splice(i,1),this.land++)):this.fields[i].daysToHarvest--;e<Number.MAX_VALUE&&(this.fieldsTooltip="Currently growing "+this.fields[0].cropName+". Next harvest in "+e+" days.")}buyLand(){this.characterService.characterState.money>=this.landPrice&&(this.characterService.characterState.money-=this.landPrice,this.land++,this.landPrice+=10)}autoBuy(){var e;if(this.autoBuyHomeUnlocked&&this.homeValue<this.autoBuyHomeLimit)if(this.land>=this.nextHome.landRequired){if(!(this.nextHome.cost+3*this.nextHome.costPerDay+3<this.characterService.characterState.money))return;this.upgradeToNextHome()}else this.characterService.characterState.money>this.landPrice+3*this.nextHome.costPerDay+3&&this.buyLand();if(this.autoBuyLandUnlocked&&this.land+this.fields.length<this.autoBuyLandLimit&&this.characterService.characterState.money>this.landPrice+3*this.nextHome.costPerDay+3&&this.buyLand(),this.autoFieldUnlocked&&this.fields.length<this.autoFieldLimit&&(this.autoBuyHomeUnlocked?this.homeValue>=this.autoBuyHomeLimit&&this.addField():this.addField()),this.autoBuyFurnitureUnlocked)for(let i of this.furniturePositionsArray)if(this.home.furnitureSlots.includes(i)){let r=this.autoBuyFurniture[i];r&&(null===(e=this.furniture[i])||void 0===e?void 0:e.id)!==r.id&&r.value<this.characterService.characterState.money&&(this.characterService.characterState.money-=r.value,this.furniture[i]=this.itemRepoService.getFurnitureById(r.id))}}}return n.\u0275fac=function(e){return new(e||n)(g(bt),g(He),g(hi),g(To),g(fi),g(Ao),g(lr))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qs=(()=>{class n{constructor(e,i,r,o,s,a,l){this.characterService=e,this.inventoryService=i,this.homeService=r,this.mainLoopService=s,this.itemRepoService=a,this.battleService=l,this.activityLoop=[],this.autoRestart=!1,this.pauseOnDeath=!0,this.activities=this.getActivityList(),o.reincarnateSubject.subscribe(()=>{this.reset()}),s.tickSubject.subscribe(()=>{this.characterService.characterState.dead||this.upgradeActivities()})}getProperties(){return{autoRestart:this.autoRestart,pauseOnDeath:this.pauseOnDeath,activityLoop:this.activityLoop}}setProperties(e){this.autoRestart=e.autoRestart,this.pauseOnDeath=e.pauseOnDeath,this.activityLoop=e.activityLoop}meetsRequirements(e){return this.meetsRequirementsByLevel(e,e.level)}meetsRequirementsByLevel(e,i){const r=Object.keys(e.requirements[i]);for(const o in r){const s=r[o];let a=0;if(null!=e.requirements[i][s]&&(a=e.requirements[i][s]),this.characterService.characterState.attributes[s].value<=a)return!1}return!0}checkRequirements(){for(let e=this.activityLoop.length-1;e>=0;e--)this.meetsRequirements(this.getActivityByType(this.activityLoop[e].activity))||this.activityLoop.splice(e,1)}upgradeActivities(){for(const e of this.activities)e.level<e.description.length-1&&this.meetsRequirementsByLevel(e,e.level+1)&&e.level++}reset(){for(const e of this.activities)e.level=0;this.autoRestart?(this.checkRequirements(),this.pauseOnDeath&&(this.mainLoopService.pause=!0)):this.activityLoop=[]}getActivityByType(e){for(const i of this.activities)if(i.activityType===e)return i;throw Error("Could not find activity from type")}getActivityList(){return[{level:0,name:["Odd Jobs"],activityType:it.OddJobs,description:["Run errands, pull weeds, clean toilet pits, or whatever else you can earn a coin doing. Undignified work for a future immortal, but you have to eat to live."],consequenceDescription:["Uses 5 stamina. Increases a random attribute and provides a little money."],consequence:[()=>{const i=Object.keys(this.characterService.characterState.attributes)[Math.floor(5*Math.random())];this.characterService.characterState.increaseAttribute(i,.1),this.characterService.characterState.status.stamina.value-=5,this.characterService.characterState.money+=3}],requirements:[{}]},{level:0,name:["Resting","Meditation"],activityType:it.Resting,description:["Take a break and get some sleep. Good sleeping habits are essential for cultivating immortal attributes.","Enter a meditative state and begin your journey toward spritual enlightenment."],consequenceDescription:["Restores half your stamina and a little health.","Restores all your stamina and some health."],consequence:[()=>{this.characterService.characterState.status.stamina.value+=this.characterService.characterState.status.stamina.max/2,this.characterService.characterState.status.health.value+=2,this.characterService.characterState.checkOverage()},()=>{this.characterService.characterState.status.stamina.value=this.characterService.characterState.status.stamina.max,this.characterService.characterState.status.health.value+=10,Math.random()<.01&&this.characterService.characterState.increaseAttribute("spirituality",.1),this.characterService.characterState.checkOverage()}],requirements:[{},{strength:1e3,speed:1e3,charisma:1e3,intelligence:1e3,toughness:1e3}]},{level:0,name:["Begging","Street Performing","Oration","Politics"],activityType:it.Begging,description:["Find a nice spot on the side of the street, look sad, and put your hand out. Someone might put a coin in it if you are charasmatic enough.","Add some musical flair to your begging.","Move the crowds with your stirring speeches.","Charm your way into civic leadership."],consequenceDescription:["Uses 5 stamina. Increases charisma and provides a little money.","Uses 5 stamina. Increases charisma and provides some money.","Uses 5 stamina. Increases charisma and provides money.","Uses 5 stamina. Increases charisma, provides money, and makes you wonder what any of this means for your immortal progression."],consequence:[()=>{this.characterService.characterState.increaseAttribute("charisma",.1),this.characterService.characterState.status.stamina.value-=5,this.characterService.characterState.money+=3+Math.log2(this.characterService.characterState.attributes.charisma.value)},()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.stamina.value-=5,this.characterService.characterState.money+=10+Math.log2(this.characterService.characterState.attributes.charisma.value)},()=>{this.characterService.characterState.increaseAttribute("charisma",.3),this.characterService.characterState.status.stamina.value-=5,this.characterService.characterState.money+=20+Math.log2(2*this.characterService.characterState.attributes.charisma.value)},()=>{this.characterService.characterState.increaseAttribute("charisma",.5),this.characterService.characterState.status.stamina.value-=5,this.characterService.characterState.money+=30+Math.log2(10*this.characterService.characterState.attributes.charisma.value)}],requirements:[{charisma:3},{charisma:100},{charisma:5e3},{charisma:1e4}]},{level:0,name:["Apprentice Blacksmithing","Journeyman Blacksmithing","Blacksmithing"],activityType:it.ApprenticeBlacksmithing,description:["Work for the local blacksmith. You mostly pump the bellows, but at least you're learning a trade.","Mold metal into useful things. You might even produce something you want to keep now and then.","Create useful and beautiful metal objects. You might produce a decent weapon occasionally."],consequenceDescription:["Uses 25 stamina. Increases strength and toughness and provides a little money.","Uses 25 stamina. Increases strength, toughness, and money.","Uses 25 stamina. Build your physical power, master your craft, and create weapons"],consequence:[()=>{this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.status.stamina.value-=25,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.metalLore.value;let e=.01;this.homeService.furniture.workbench&&"anvil"==this.homeService.furniture.workbench.id&&(e+=.05),Math.random()<e&&(this.inventoryService.addItem(this.itemRepoService.items.junk),this.characterService.characterState.increaseAttribute("metalLore",.1))},()=>{this.characterService.characterState.increaseAttribute("strength",.2),this.characterService.characterState.increaseAttribute("toughness",.2),this.characterService.characterState.status.stamina.value-=25,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+2*this.characterService.characterState.attributes.metalLore.value;let e=.02;if(this.homeService.furniture.workbench&&"anvil"==this.homeService.furniture.workbench.id&&(e+=.05),Math.random()<e&&(this.characterService.characterState.increaseAttribute("metalLore",.5),this.inventoryService.openInventorySlots()>0)){let i=this.inventoryService.consume("metal");i>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(i/10+Math.floor(Math.log2(this.characterService.characterState.attributes.metalLore.value)),"metal"))}},()=>{this.characterService.characterState.increaseAttribute("strength",.5),this.characterService.characterState.increaseAttribute("toughness",.5),this.characterService.characterState.status.stamina.value-=25,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+5*this.characterService.characterState.attributes.metalLore.value;let e=.05;if(this.homeService.furniture.workbench&&"anvil"==this.homeService.furniture.workbench.id&&(e+=.05),Math.random()<e&&(this.characterService.characterState.increaseAttribute("metalLore",.8),this.inventoryService.openInventorySlots()>0)){let i=this.inventoryService.consume("metal");i>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(i/10+Math.floor(Math.log2(this.characterService.characterState.attributes.metalLore.value)),"metal"))}}],requirements:[{strength:50,toughness:50},{strength:400,toughness:400,metalLore:1},{strength:2e3,toughness:2e3,metalLore:10}]},{level:0,name:["Gathering Herbs"],activityType:it.GatherHerbs,description:["Search the natural world for useful herbs."],consequenceDescription:["Uses 10 stamina. Find herbs and learn about plants"],consequence:[()=>{this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.status.stamina.value-=10,this.inventoryService.addItem(this.inventoryService.generateHerb()),this.homeService.furniture.workbench&&"herbGarden"==this.homeService.furniture.workbench.id&&this.inventoryService.addItem(this.inventoryService.generateHerb()),Math.random()<.01&&this.characterService.characterState.increaseAttribute("plantLore",.1)}],requirements:[{speed:20,intelligence:20}]},{level:0,name:["Apprentice Alchemy","Journeyman Alchemy","Alchemy"],activityType:it.Alchemy,description:["Get a job at the alchemist's workshop. It smells awful but you might learn a few things.","Get a cauldron and do a little brewing of your own.","Open up your own potion shop."],consequenceDescription:["Uses 10 stamina. Get smarter, make a few taels, and learn the secrets of alchemy.","Uses 10 stamina. Get smarter, make monay, practice your craft. If you have some herbs, you might make a usable potion.","Uses 10 stamina. Get smarter, make monay, and make some decent potions."],consequence:[()=>{this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.status.stamina.value-=10,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.plantLore.value+this.characterService.characterState.attributes.animalLore.value;let e=.01;this.homeService.furniture.workbench&&"cauldron"==this.homeService.furniture.workbench.id&&(e+=.05),Math.random()<e&&(this.characterService.characterState.increaseAttribute("plantLore",.05),this.characterService.characterState.increaseAttribute("animalLore",.05),this.characterService.characterState.increaseAttribute("alchemy",.1))},()=>{this.characterService.characterState.increaseAttribute("intelligence",.2),this.characterService.characterState.status.stamina.value-=10,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.intelligence.value)+2*(this.characterService.characterState.attributes.plantLore.value+this.characterService.characterState.attributes.animalLore.value);let e=.02;if(this.homeService.furniture.workbench&&"cauldron"==this.homeService.furniture.workbench.id&&(e+=.05),Math.random()<e&&(this.characterService.characterState.increaseAttribute("plantLore",.1),this.characterService.characterState.increaseAttribute("animalLore",.1),this.characterService.characterState.increaseAttribute("alchemy",.2),this.inventoryService.openInventorySlots()>0)){let i=this.inventoryService.consume("ingredient");i>=1&&(i+=Math.floor(Math.log2(this.characterService.characterState.attributes.alchemy.value)),this.inventoryService.addItem(this.inventoryService.generatePotion(i)))}},()=>{this.characterService.characterState.increaseAttribute("intelligence",.5),this.characterService.characterState.status.stamina.value-=10,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.intelligence.value)+5*(this.characterService.characterState.attributes.plantLore.value+this.characterService.characterState.attributes.animalLore.value);let e=.05;if(this.homeService.furniture.workbench&&"cauldron"==this.homeService.furniture.workbench.id&&(e+=.05),Math.random()<e&&(this.characterService.characterState.increaseAttribute("plantLore",.2),this.characterService.characterState.increaseAttribute("animalLore",.2),this.characterService.characterState.increaseAttribute("alchemy",.5),this.inventoryService.openInventorySlots()>0)){let i=this.inventoryService.consume("ingredient");i+=Math.floor(Math.log2(this.characterService.characterState.attributes.alchemy.value)),i>=1&&this.inventoryService.addItem(this.inventoryService.generatePotion(i+1))}}],requirements:[{intelligence:200},{intelligence:1e3,alchemy:1,animalLore:1,plantLore:1},{intelligence:8e3,alchemy:10,animalLore:10,plantLore:10}]},{level:0,name:["Chopping Wood"],activityType:it.ChopWood,description:["Work as a woodcutter, cutting logs in the forest."],consequenceDescription:["Uses 10 stamina. Get a log and learn about plants."],consequence:[()=>{this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.status.stamina.value-=10,this.inventoryService.addItem(this.inventoryService.getWood()),Math.random()<.01&&this.characterService.characterState.increaseAttribute("plantLore",.1)}],requirements:[{strength:100}]},{level:0,name:["Apprentice Woodworking","Journeyman Woodworking","Woodworking"],activityType:it.Woodworking,description:["Work in a woodcarver's shop.","Carve wood into useful items.","Open your own woodworking shop."],consequenceDescription:["Uses 20 stamina. Increases strength and intelligence and provides a little money.","Uses 20 stamina. Increases strength and intelligence and provides a little money. You may make something you want to keep now and then.","Uses 20 stamina. Increases strength and intelligence, earn some money, create wooden equipment."],consequence:[()=>{this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.plantLore.value,Math.random()<.01&&this.characterService.characterState.increaseAttribute("plantLore",.1)},()=>{if(this.characterService.characterState.increaseAttribute("strength",.2),this.characterService.characterState.increaseAttribute("intelligence",.2),this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+2*this.characterService.characterState.attributes.plantLore.value,Math.random()<.01&&(this.characterService.characterState.increaseAttribute("plantLore",.5),this.inventoryService.openInventorySlots()>0)){let e=this.inventoryService.consume("wood");e>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(e+Math.floor(Math.log2(this.characterService.characterState.attributes.plantLore.value)),"wood"))}},()=>{if(this.characterService.characterState.increaseAttribute("strength",.5),this.characterService.characterState.increaseAttribute("intelligence",.5),this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+5*this.characterService.characterState.attributes.plantLore.value,Math.random()<.01&&(this.characterService.characterState.increaseAttribute("plantLore",.8),this.inventoryService.openInventorySlots()>0)){let e=this.inventoryService.consume("wood");e>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(e+Math.floor(Math.log2(this.characterService.characterState.attributes.plantLore.value)),"wood"))}}],requirements:[{strength:100,intelligence:100},{strength:800,intelligence:800,plantLore:1},{strength:2e3,intelligence:2e3,plantLore:10}]},{level:0,name:["Apprentice Leatherworking","Journeyman Leatherworking","Leatherworking"],activityType:it.Leatherworking,description:["Work in a tannery, where hides are turned into leather items.","Convert hides into leather items.","Open your own tannery."],consequenceDescription:["Uses 20 stamina. Increases speed and toughness and provides a little money.","Uses 20 stamina. Increases speed and toughness and provides a little money. You may make something you want to keep now and then.","Uses 20 stamina. Increases speed and toughness, earn some money, create leather equipment."],consequence:[()=>{this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.animalLore.value,Math.random()<.01&&this.characterService.characterState.increaseAttribute("animalLore",.1)},()=>{if(this.characterService.characterState.increaseAttribute("speed",.2),this.characterService.characterState.increaseAttribute("toughness",.2),this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+2*this.characterService.characterState.attributes.animalLore.value,Math.random()<.01&&(this.characterService.characterState.increaseAttribute("animalLore",.5),this.inventoryService.openInventorySlots()>0)){let e=this.inventoryService.consume("hide");e>=1&&this.inventoryService.addItem(this.inventoryService.generateArmor(e+Math.floor(Math.log2(this.characterService.characterState.attributes.animalLore.value)),"leather",this.inventoryService.randomArmorSlot()))}},()=>{if(this.characterService.characterState.increaseAttribute("speed",.5),this.characterService.characterState.increaseAttribute("toughness",.5),this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+5*this.characterService.characterState.attributes.animalLore.value,Math.random()<.01&&(this.characterService.characterState.increaseAttribute("animalLore",.8),this.inventoryService.openInventorySlots()>0)){let e=this.inventoryService.consume("hide");e>=1&&this.inventoryService.addItem(this.inventoryService.generateArmor(e+Math.floor(Math.log2(this.characterService.characterState.attributes.animalLore.value)),"leather",this.inventoryService.randomArmorSlot()))}}],requirements:[{speed:100,toughness:100},{speed:800,toughness:800,animalLore:1},{speed:2e3,toughness:2e3,animalLore:10}]},{level:0,name:["Farming"],activityType:it.Farming,description:["Plant crops in your fields. This is a waste of time if you don't have some fields ready to work."],consequenceDescription:["Uses 20 stamina. Increases strength and speed and helps your fields to produce more food."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20,this.homeService.workFields(),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("speed",.1),Math.random()<.01&&(this.characterService.characterState.increaseAttribute("plantLore",.1),this.characterService.characterState.increaseAttribute("earthLore",.1))}],requirements:[{strength:10,speed:10}]},{level:0,name:["Mining"],activityType:it.Mining,description:["Dig in the ground for useable minerals."],consequenceDescription:["Uses 20 stamina. Increases strength and sometimes finds something useful."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.increaseAttribute("strength",.1),Math.random()<.5&&(this.characterService.characterState.increaseAttribute("earthLore",.1),this.inventoryService.addItem(this.inventoryService.getOre()))}],requirements:[{strength:70}]},{level:0,name:["Smelting"],activityType:it.Smelting,description:["Smelt metal ores into usable metal."],consequenceDescription:["Uses 30 stamina. Increases toughness and intelligence. If you have metal ores, you can make them into bars."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),this.inventoryService.openInventorySlots()>0){let e=this.inventoryService.consume("ore");e>=1&&this.inventoryService.addItem(this.inventoryService.getBar(e))}}],requirements:[{toughness:100,intelligence:100}]},{level:0,name:["Hunting"],activityType:it.Hunting,description:["Hunt for animals in the nearby woods."],consequenceDescription:["Uses 50 stamina. Increases speed and a good hunt provides some meat. It might draw unwanted attention to yourself."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=50,this.characterService.characterState.increaseAttribute("speed",.1);let e=.1;this.homeService.furniture.workbench&&"dogKennel"==this.homeService.furniture.workbench.id&&(e+=.4),Math.random()<e&&(this.characterService.characterState.increaseAttribute("animalLore",.1),this.inventoryService.addItem(this.itemRepoService.items.meat),this.inventoryService.addItem(this.itemRepoService.items.hide)),Math.random()<.01&&this.battleService.addEnemy(this.battleService.enemyRepo.wolf)}],requirements:[{speed:200}]},{level:0,name:["Fishing"],activityType:it.Fishing,description:["Grab your net and see if you can catch some fish."],consequenceDescription:["Uses 50 stamina. Increases intelligence and strength and you might catch a fish."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=50,this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),Math.random()<.2&&(this.characterService.characterState.increaseAttribute("animalLore",.1),this.inventoryService.addItem(this.itemRepoService.items.carp))}],requirements:[{strength:15,intelligence:15}]},{level:0,name:["Body Cultivation"],activityType:it.BodyCultivation,description:["Focus on the development of your body. Unblock your meridians, let your chi flow, and prepare your body for immortality."],consequenceDescription:["Uses 100 stamina. Increases your physical abilities and strengthen your aptitudes in them."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("speed",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.attributes.strength.aptitude+=.1,this.characterService.characterState.attributes.speed.aptitude+=.1,this.characterService.characterState.attributes.toughness.aptitude+=.1,Math.random()<.01&&this.characterService.characterState.increaseAttribute("spirituality",.1)}],requirements:[{strength:5e3,speed:5e3,toughness:5e3,spirituality:1}]},{level:0,name:["Mind Cultivation"],activityType:it.MindCultivation,description:["Focus on the development of your mind. Unblock your meridians, let your chi flow, and prepare your mind for immortality."],consequenceDescription:["Uses 100 stamina. Increases your mental abilities and strengthen your aptitudes in them."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.increaseAttribute("charisma",1),this.characterService.characterState.attributes.intelligence.aptitude+=.1,this.characterService.characterState.attributes.charisma.aptitude+=.1,Math.random()<.01&&this.characterService.characterState.increaseAttribute("spirituality",.1)}],requirements:[{charisma:5e3,intelligence:5e3,spirituality:1}]}]}}return n.\u0275fac=function(e){return new(e||n)(g(bt),g(He),g(Tt),g(Ao),g(fi),g(lr),g(To))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lr=(()=>{class n{constructor(e,i,r,o){this.characterService=e,this.injector=i,this.logService=r,this.mainLoopService=o,this.furniture={blanket:{id:"blanket",name:"Blanket",type:"furniture",slot:"bed",value:10,description:"A tattered blanket. Not much, but it could keep you warm at night. Increases daily stamina recovery by 1.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value++}},mat:{id:"mat",name:"Sleeping Mat",type:"furniture",slot:"bed",value:100,description:"A thin woven mat to sleep on. . Increases daily stamina recovery by 2.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=2}},canopyBed:{id:"canopyBed",name:"Canopy Bed",type:"furniture",slot:"bed",value:1e4,description:"A fine bed with a cover. Curtains keep the mosquitoes off you during the night. Increases daily stamina recovery by 3.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=3}},heatedBed:{id:"heatedBed",name:"Heated Bed",type:"furniture",slot:"bed",value:1e5,description:"A bed built over a small clay oven. Keeps you toasty on even the coldest nights. Increases daily stamina recovery by 5 and improves health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.status.health.value+=1}},bedOfNails:{id:"bedOfNails",name:"Bed of Nails",type:"furniture",slot:"bed",value:1e4,description:"A solid board with nails poking upwards. You won't sleep as well, but it is certain to toughen you up.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value-=1,this.characterService.characterState.increaseAttribute("toughness",.1)}},waterBucket:{id:"waterBucket",name:"water bucket ",type:"furniture",slot:"bathtub",value:10,description:"A bucket of water that lets you splash water on your face. Increases charisma.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.01)}},washBasin:{id:"washBasin",name:"wash basin",type:"furniture",slot:"bathtub",value:1e3,description:"A wash basin with a rag to clean yourself. Increases charisma.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.05)}},woodenTub:{id:"woodenTub",name:"wooden tub",type:"furniture",slot:"bathtub",value:1e4,description:"A tall and narrow tub where you can squat and bathe. Increases charisma and health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.1),this.characterService.characterState.status.health.value+=1}},bronzeTub:{id:"bronzeTub",name:"bronze tub",type:"furniture",slot:"bathtub",value:1e6,description:"A luxurious tub where you can get sparkling clean. Increases charisma and health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.health.value+=1}},heatedTub:{id:"heatedTub",name:"heated tub",type:"furniture",slot:"bathtub",value:1e8,description:"A luxurious tub with its own heating stove. Good for your health and beauty.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.status.health.value+=1,this.characterService.characterState.status.health.max+=1}},cookPot:{id:"cookPot",name:"cook pot",type:"furniture",slot:"kitchen",value:10,description:"A simple pot over a fire to boil your food. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.01),this.characterService.characterState.increaseAttribute("speed",.01),this.characterService.characterState.increaseAttribute("toughness",.01)}},roastingSpit:{id:"roastingSpit",name:"roasting spit",type:"furniture",slot:"kitchen",value:1e3,description:"A simple spit to go along with your cookpot, letting you add more variety to your diet. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.02),this.characterService.characterState.increaseAttribute("speed",.02),this.characterService.characterState.increaseAttribute("toughness",.02)}},wok:{id:"wok",name:"wok",type:"furniture",slot:"kitchen",value:1e6,description:"A large metal wok to stir-fry a tasty dinner. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.05),this.characterService.characterState.increaseAttribute("speed",.05),this.characterService.characterState.increaseAttribute("toughness",.05)}},chefKitchen:{id:"chefKitchen",name:"chef kitchen",type:"furniture",slot:"kitchen",value:1e9,description:"An elaborate kitchen that allows you to cook anything. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.increaseAttribute("toughness",.1)}},anvil:{id:"anvil",name:"anvil",type:"furniture",slot:"workbench",value:1e6,description:"An anvil to work on blacksmithing.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("metalLore",.1)}},herbGarden:{id:"herbGarden",name:"herb garden",type:"furniture",slot:"workbench",value:1e6,description:"An pleasant garden growing herbs.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("plantLore",.1)}},dogKennel:{id:"dogKennel",name:"dog kennel",type:"furniture",slot:"workbench",value:1e6,description:"A kennel for training hunting dogs.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("animalLore",.1)}},cauldron:{id:"cauldron",name:"cauldron",type:"furniture",slot:"workbench",value:1e6,description:"A cauldron for practicing alchemy.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("alchemy",.1)}},prayerShrine:{id:"prayerShrine",name:"prayer shrine",type:"furniture",slot:"workbench",value:1e7,description:"A quiet shrine for contemplative prayer.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("spirituality",.01)}}},this.items={rice:{id:"rice",name:"rice",type:"food",value:1,description:"A basic staple of life. One pouch will sustain you for a day.",useLabel:"Eat",useDescription:"Fills your belly.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,this.characterService.characterState.checkOverage()}},cabbage:{id:"cabbage",name:"cabbage",type:"food",value:5,description:"A simple, healthy vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.01&&(this.characterService.characterState.status.health.max++,this.characterService.characterState.status.health.value++),this.characterService.characterState.checkOverage()}},beans:{id:"beans",name:"beans",type:"food",value:10,description:"A handful of healthy vegetables.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.02&&(this.characterService.characterState.status.health.max++,this.characterService.characterState.status.health.value++),this.characterService.characterState.checkOverage()}},broccoli:{id:"broccoli",name:"broccoli",type:"food",value:20,description:"A very healthy vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.05&&(this.characterService.characterState.status.health.max++,this.characterService.characterState.status.health.value++,this.characterService.characterState.foodLifespan<14600&&(this.characterService.characterState.foodLifespan+=1)),this.characterService.characterState.checkOverage()}},melon:{id:"melon",name:"melon",type:"food",value:30,description:"A delicious fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.1&&(this.characterService.characterState.status.health.max++,this.characterService.characterState.status.health.value++,this.characterService.characterState.foodLifespan<19710&&(this.characterService.characterState.foodLifespan+=1)),this.characterService.characterState.checkOverage()}},peach:{id:"peach",name:"peach",type:"food",value:50,description:"A highly prized and delicious fruit.",useLabel:"Eat",useDescription:"Fills your belly and can even lead to a long life.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.2&&(this.characterService.characterState.status.health.max++,this.characterService.characterState.status.health.value+=2,this.characterService.characterState.foodLifespan<26280&&(this.characterService.characterState.foodLifespan+=1)),this.characterService.characterState.checkOverage()}},meat:{id:"meat",name:"meat",type:"food",value:50,description:"Some delicious meat.",useLabel:"Eat",useDescription:"Fills your belly. Can also improve your health and stamina.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,this.characterService.characterState.status.health.max++,this.characterService.characterState.status.stamina.max++,this.characterService.characterState.checkOverage()}},carp:{id:"carp",name:"carp",type:"food",value:50,description:"A common fish.",useLabel:"Eat",useDescription:"Fills your belly. Might also improve your health and stamina.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.1&&(this.characterService.characterState.status.health.max++,this.characterService.characterState.status.stamina.max++),this.characterService.characterState.checkOverage()}},hide:{id:"hide",name:"hide",type:"hide",value:1,description:"A basic animal hide."},elmLog:{id:"elmLog",name:"elm log",type:"wood",value:1,description:"A terrible quality log."},cypressLog:{id:"cypressLog",name:"cypress log",type:"wood",value:2,description:"A poor quality log."},walnutLog:{id:"walnutLog",name:"walnut log",type:"wood",value:3,description:"An adequate quality log."},laurelwoodLog:{id:"laurelwoodLog",name:"laurelwood log",type:"wood",value:4,description:"A nice quality log."},pearwoodLog:{id:"pearwoodLog",name:"pearwood log",type:"wood",value:5,description:"A good quality log."},rosewoodLog:{id:"rosewoodLog",name:"rosewood log",type:"wood",value:6,description:"A great quality log."},zitanLog:{id:"zitanLog",name:"zitan log",type:"wood",value:7,description:"An excellent quality log."},blackwoodLog:{id:"blackwoodLog",name:"blackwood log",type:"wood",value:8,description:"An amazing quality log."},peachwoodLog:{id:"peachwoodLog",name:"peachwood log",type:"wood",value:9,description:"A spiritual quality log."},diamondwoodLog:{id:"diamondwoodLog",name:"diamondwood log",type:"wood",value:10,description:"A log as hard as diamond."},titanwoodLog:{id:"titanwoodLog",name:"titanwood log",type:"wood",value:11,description:"A log with the strength of titans."},dragonwoodLog:{id:"dragonwoodLog",name:"dragonwood log",type:"wood",value:12,description:"A log blessed by dragons."},devilwoodLog:{id:"devilwoodLog",name:"devilwood log",type:"wood",value:13,description:"A demonic quality log."},divinewoodLog:{id:"divinewoodLog",name:"divinewood log",type:"wood",value:14,description:"A divine quality log."},copperOre:{id:"copperOre",name:"copper ore",type:"ore",value:1,description:"A chunk of copper ore."},tinOre:{id:"tinOre",name:"tin ore",type:"ore",value:2,description:"A chunk of tin ore."},bronzeOre:{id:"bronzeOre",name:"mixed ore",type:"ore",value:3,description:"A chunk of ore containing copper, tin, lead, and zinc."},ironOre:{id:"ironOre",name:"iron ore",type:"ore",value:4,description:"A chunk of iron ore."},steelOre:{id:"steelOre",name:"coal-mixed iron ore",type:"ore",value:5,description:"A chunk of iron ore laced with coal."},mithrilOre:{id:"mithrilOre",name:"mithril ore",type:"ore",value:6,description:"A chunk of mithril ore."},greensteelOre:{id:"greensteelOre",name:"greensteel ore",type:"ore",value:7,description:"A chunk of greensteel ore."},bluesteelOre:{id:"bluesteelOre",name:"bluesteel ore",type:"ore",value:8,description:"A chunk of bluesteel ore."},redsteelOre:{id:"redsteelOre",name:"redsteel ore",type:"ore",value:9,description:"A chunk of redsteel ore."},flamesteelOre:{id:"flamesteelOre",name:"flamesteel ore",type:"ore",value:10,description:"A chunk of flamesteel ore."},froststeelOre:{id:"froststeelOre",name:"froststeel ore",type:"ore",value:11,description:"A chunk of froststeel ore."},brightsteelOre:{id:"brightsteelOre",name:"brightsteel ore",type:"ore",value:12,description:"A chunk of brightsteel ore."},darksteelOre:{id:"darksteelOre",name:"darksteel ore",type:"ore",value:13,description:"A chunk of darksteel ore."},felsteelOre:{id:"felsteelOre",name:"felsteel ore",type:"ore",value:14,description:"A chunk of cloudsteel ore."},cloudsteelOre:{id:"cloudsteelOre",name:"cloudsteel ore",type:"ore",value:15,description:"A chunk of cloudsteel ore."},adamantOre:{id:"adamantOre",name:"adamant ore",type:"ore",value:16,description:"A chunk of adamant ore."},copperBar:{id:"copperBar",name:"copper bar",type:"metal",value:10,description:"A bar of copper."},tinBar:{id:"tinBar",name:"tin bar",type:"metal",value:20,description:"A bar of tin."},bronzeBar:{id:"bronzeBar",name:"bronze bar",type:"metal",value:30,description:"A bar of bronze."},ironBar:{id:"ironBar",name:"iron bar",type:"metal",value:40,description:"A bar of iron."},steelBar:{id:"steelBar",name:"steel bar",type:"metal",value:50,description:"A bar of steel."},mithrilBar:{id:"mithrilBar",name:"mithril bar",type:"metal",value:60,description:"A bar of of mithril."},greensteelBar:{id:"greensteelBar",name:"greensteel bar",type:"metal",value:70,description:"A bar of greensteel."},bluesteelBar:{id:"bluesteelBar",name:"bluesteel bar",type:"metal",value:80,description:"A bar of bluesteel."},redsteelBar:{id:"redsteelBar",name:"redsteel bar",type:"metal",value:90,description:"A bar of redsteel."},flamesteelBar:{id:"flamesteelBar",name:"flamesteel bar",type:"metal",value:100,description:"A bar of flamesteel."},froststeelBar:{id:"froststeelBar",name:"froststeel bar",type:"metal",value:110,description:"A bar of froststeel."},brightsteelBar:{id:"brightsteelBar",name:"brightsteel bar",type:"metal",value:120,description:"A bar of brightsteel."},darksteelBar:{id:"darksteelBar",name:"darksteel bar",type:"metal",value:130,description:"A bar of darksteel."},felsteelBar:{id:"felsteelBar",name:"felsteel bar",type:"metal",value:140,description:"A bar of cloudsteel."},cloudsteelBar:{id:"cloudsteelBar",name:"cloudsteel bar",type:"metal",value:150,description:"A bar of cloudsteel."},adamantBar:{id:"adamantBar",name:"adamant bar",type:"metal",value:160,description:"A bar of adamant."},junk:{id:"junk",name:"junk",type:"metal",value:10,description:"Some metal junk."},fastPlayManual:{id:"fastPlayManual",name:"Manual of Expeditious Time Perception",type:"manual",description:"This manual teaches you to percieve time as moving faster.",value:500,useLabel:"Read",useDescription:"Permanently unlock fast game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFastSpeed=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>!!this.mainLoopService.unlockFastSpeed},fasterPlayManual:{id:"fasterPlayManual",name:"Manual of Greatly Expeditious Time Perception",type:"manual",description:"This manual teaches you to percieve time as moving much faster.",value:7e3,useLabel:"Read",useDescription:"Permanently unlock faster game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFasterSpeed=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>!!this.mainLoopService.unlockFasterSpeed},fastestPlayManual:{id:"fastestPlayManual",name:"Manual of Ludicrous Time Perception",type:"manual",description:"This manual teaches you to percieve time as moving incredibly fast.",value:1e5,useLabel:"Read",useDescription:"Permanently unlock fastest game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFastestSpeed=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>!!this.mainLoopService.unlockFastestSpeed},perpetualFarmingManual:{id:"perpetualFarmingManual",name:"Manual of Perpetual Farming",type:"manual",description:"This manual teaches you to automatically replant fields when they are harvested.",value:5e4,useLabel:"Read",useDescription:"Permanently unlock automatic farm replanting.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(Tt)),this.homeService.autoReplant=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>{var s;return this.homeService||(this.homeService=this.injector.get(Tt)),!!(null===(s=this.homeService)||void 0===s?void 0:s.autoReplant)}},restartActivityManual:{id:"restartActivityManual",name:"Manual of Remembered Plans",type:"manual",description:"This manual teaches you to automatically resume activities from your previous life. Only activities that you qualify for when you reach adulthood are available to resume.",value:2e5,useLabel:"Read",useDescription:"Permanently unlock preserving activity plans across reincarnations.",useConsumes:!0,use:()=>{this.activityService||(this.activityService=this.injector.get(Qs)),this.activityService.autoRestart=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>{var s;return this.activityService||(this.activityService=this.injector.get(Qs)),!!(null===(s=this.activityService)||void 0===s?void 0:s.autoRestart)}},autoSellManual:{id:"autoSellManual",name:"Manual of Mercantile Fluency",type:"manual",description:"This manual teaches you to automatically sell items.",value:8e4,useLabel:"Read",useDescription:"Permanently unlock Autosell button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(He)),this.inventoryService.autoSellUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(He)),this.inventoryService.autoSellUnlocked)},autoUseManual:{id:"autoUseManual",name:"Manual of Facilitated Usage",type:"manual",description:"This manual teaches you to automatically use items.",value:3e6,useLabel:"Read",useDescription:"Permanently unlock Autouse button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(He)),this.inventoryService.autoUseUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(He)),this.inventoryService.autoUseUnlocked)},autoBalanceManual:{id:"autoBalanceManual",name:"Manual of Balanced Consumption and Mercantile Moderation",type:"manual",description:"This manual teaches you to automatically balance between using and selling items.",value:5e7,useLabel:"Read",useDescription:"Permanently unlock Autobalance button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(He)),this.inventoryService.autoBalanceUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(He)),this.inventoryService.autoBalanceUnlocked)},autoBuyLandManual:{id:"autoBuyLandManual",name:"Manual of Land Acquisition",type:"manual",description:"This manual teaches you to automatically purchase land.",value:2e6,useLabel:"Read",useDescription:"Permanently unlock automatic land purchasing.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(Tt)),this.homeService.autoBuyLandUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(Tt)),this.homeService.autoBuyLandUnlocked)},autoBuyHomeManual:{id:"autoBuyHomeManual",name:"Manual of Home Improvement",type:"manual",description:"This manual teaches you to automatically upgrade your home.",value:1e7,useLabel:"Read",useDescription:"Permanently unlock automatic home upgrades.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(Tt)),this.homeService.autoBuyHomeUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(Tt)),this.homeService.autoBuyHomeUnlocked)},autoBuyFurnitureManual:{id:"autoBuyFurnitureManual",name:"Manual of Home Furnishing",type:"manual",description:"This manual teaches you to automatically buy the last furniture you bought for your home in future lives.",value:8e7,useLabel:"Read",useDescription:"Permanently unlock automatic purchasing for furniture.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(Tt)),this.homeService.autoBuyFurnitureUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(Tt)),this.homeService.autoBuyFurnitureUnlocked)},autoFieldManual:{id:"autoFieldManual",name:"Manual of Field Conversion",type:"manual",description:"This manual teaches you to automatically plow open land into fields.",value:2e6,useLabel:"Read",useDescription:"Permanently unlock automatic field plowing.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(Tt)),this.homeService.autoFieldUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(Tt)),this.homeService.autoFieldUnlocked)},autoPotionManual:{id:"autoPotionManual",name:"Manual of Gluttonous Potion Consumption",type:"manual",description:"This manual teaches you to automatically use all potions.",value:2e8,useLabel:"Read",useDescription:"Permanently unlock autodrinking all potions.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(He)),this.inventoryService.autoPotionUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(He)),this.inventoryService.autoPotionUnlocked)},autoTroubleManual:{id:"autoTroubleManual",name:"Manual of Consistent Troublemaking",type:"manual",description:"This manual teaches you to automatically look for trouble.",value:5e8,useLabel:"Read",useDescription:"Permanently unlock automatic trouble in the battle panel.",useConsumes:!0,use:()=>{this.battleService||(this.battleService=this.injector.get(To)),this.battleService.autoTroubleUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>{var s;return this.battleService||(this.battleService=this.injector.get(To)),null===(s=this.battleService)||void 0===s?void 0:s.autoTroubleUnlocked}},autoWeaponMergeManual:{id:"autoWeaponMergeManual",name:"Manual of Effortless Weapon Merging",type:"manual",description:"This manual teaches you to automatically merge weapons.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock automatic weapon merging in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(He)),this.inventoryService.autoWeaponMergeUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(He)),this.inventoryService.autoWeaponMergeUnlocked)},autoArmorMergeManual:{id:"autoArmorMergeManual",name:"Manual of Effortless Armor Merging",type:"manual",description:"This manual teaches you to automatically merge armor.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock automatic armor merging in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(He)),this.inventoryService.autoArmorMergeUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(He)),this.inventoryService.autoArmorMergeUnlocked)},useSpiritGemManual:{id:"useSpiritGemManual",name:"Manual of Spirit Gem Comprehension",type:"manual",description:"This manual teaches you to incorporate spirit gems in your crafting.",value:5e5,useLabel:"Read",useDescription:"Permanently unlock including spirit gems when creating items.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(He)),this.inventoryService.useSpiritGemUnlocked=!0,this.inventoryService.useSpiritGemWeapons=!0,this.inventoryService.useSpiritGemPotions=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(He)),this.inventoryService.useSpiritGemUnlocked)}}}getItemById(e){if(this.items[e])return this.items[e]}getFurnitureById(e){return this.furniture[e]?this.furniture[e]:null}}return n.\u0275fac=function(e){return new(e||n)(g(bt),g(Le),g(hi),g(fi))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),He=(()=>{class n{constructor(e,i,r,o,s){this.logService=e,this.characterService=i,this.itemRepoService=s,this.itemStacks=[],this.maxItems=10,this.maxStackSize=999,this.selectedItem=null,this.fed=!1,this.farmFoodList=[this.itemRepoService.items.rice,this.itemRepoService.items.cabbage,this.itemRepoService.items.beans,this.itemRepoService.items.broccoli,this.itemRepoService.items.melon,this.itemRepoService.items.peach],this.noFood=!1,this.autoSellUnlocked=!1,this.autoSellItems=[],this.autoUseUnlocked=!1,this.autoUseItems=[],this.autoBalanceUnlocked=!1,this.autoBalanceItems=[],this.autoPotionUnlocked=!1,this.autoWeaponMergeUnlocked=!1,this.autoArmorMergeUnlocked=!1,this.useSpiritGemUnlocked=!1,this.useSpiritGemWeapons=!1,this.useSpiritGemPotions=!1;for(let a=0;a<this.maxItems;a++)this.itemStacks.push(null);r.tickSubject.subscribe(()=>{this.characterService.characterState.dead||(this.eatFood(),this.autoWeaponMergeUnlocked&&this.autoWeaponMerge(),this.autoArmorMergeUnlocked&&this.autoArmorMerge())}),o.reincarnateSubject.subscribe(()=>{this.reset()})}getProperties(){return{itemStacks:this.itemStacks,autoSellUnlocked:this.autoSellUnlocked,autoSellItems:this.autoSellItems,autoUseUnlocked:this.autoUseUnlocked,autoUseItems:this.autoUseItems,autoBalanceUnlocked:this.autoBalanceUnlocked,autoBalanceItems:this.autoBalanceItems,autoPotionUnlocked:this.autoPotionUnlocked,autoWeaponMergeUnlocked:this.autoWeaponMergeUnlocked,autoArmorMergeUnlocked:this.autoArmorMergeUnlocked,useSpiritGemUnlocked:this.useSpiritGemUnlocked,useSpiritGemWeapons:this.useSpiritGemWeapons,useSpiritGemPotions:this.useSpiritGemPotions}}setProperties(e){this.itemStacks=e.itemStacks,this.autoSellUnlocked=e.autoSellUnlocked,this.autoSellItems=e.autoSellItems,this.autoUseUnlocked=e.autoUseUnlocked,this.autoUseItems=e.autoUseItems,this.autoBalanceUnlocked=e.autoBalanceUnlocked,this.autoBalanceItems=e.autoBalanceItems,this.autoPotionUnlocked=e.autoPotionUnlocked,this.autoWeaponMergeUnlocked=e.autoWeaponMergeUnlocked,this.autoArmorMergeUnlocked=e.autoArmorMergeUnlocked,this.useSpiritGemUnlocked=e.useSpiritGemUnlocked,this.useSpiritGemWeapons=e.useSpiritGemWeapons,this.useSpiritGemPotions=e.useSpiritGemPotions}changeMaxItems(e){for(this.maxItems=e;this.itemStacks.length<e;)this.itemStacks.push(null)}generateWeapon(e,i){if(this.useSpiritGemUnlocked&&this.useSpiritGemWeapons){let h=this.consume("spiritGem");h>0&&(e+=h/5)}let r=e%Mo.length,o=Math.floor(e/Mo.length),s=Mo[r],a="";if(o>0){let h=Math.floor(o/Ks.length);h>0?(h>If.length?(h=If.length,o=Ks.length-1):o%=Ks.length,a=" of "+If[h-1]+" "+Ks[o]):a=" of "+Ks[o-1]}let l=i,c="rightHand";"wood"===i&&(c="leftHand",l="wooden");let u=s+" "+l+" "+$S[Math.floor(Math.random()*$S.length)]+a;this.logService.addLogMessage("Your hard work paid off! You created a new weapon: "+u+"!","STANDARD","EVENT");let d=Math.floor(Math.random()*e*10);return{id:"weapon",name:u,type:"equipment",slot:c,value:e,weaponStats:{baseDamage:e,material:i,durability:d},description:"A unique weapon made of "+i+".<br/>Base Damage: "+e+"<br/>Durability: "+d}}generatePotion(e){if(this.useSpiritGemUnlocked&&this.useSpiritGemPotions){let s=this.consume("spiritGem");s>0&&(e+=s/5)}const r=Object.keys(this.characterService.characterState.attributes)[Math.floor(5*Math.random())];let o="Potion of "+r+" +"+e;return this.logService.addLogMessage("Alchemy Success! Created a "+o,"STANDARD","EVENT"),{name:o,id:"potion",type:"potion",value:e,description:"A potion that increases "+r,useLabel:"Drink",useDescription:"Drink to increase your "+r+".",useConsumes:!0,attribute:r,increase:e}}generateHerb(){let i,r,e=0;if(this.characterService.characterState.attributes.plantLore.value>=3&&(e=2+Math.floor(Math.log2(this.characterService.characterState.attributes.plantLore.value-2))),e>=xo.length*nc.length)i=xo[xo.length-1],r=nc[nc.length-1];else{let o=e%xo.length,s=Math.floor(e/xo.length);i=xo[o],r=nc[s]}return{id:"herb",name:r+" "+i,type:"ingredient",value:e+1,description:"Useful herbs. Can be used in creating pills or potions."}}generateSpiritGem(e){return{id:"spiritGemGrade"+e,name:"spirit gem grade "+e,type:"spiritGem",value:10*e,description:"A spirit gem."}}generateArmor(e,i,r){let o=e%Mo.length,s=Math.floor(e/Mo.length),a=Mo[o],l="";if(s>0){let f=Math.floor(s/Zs.length);f>0?(f>kf.length?(f=kf.length,s=Zs.length-1):s%=Zs.length,l=" of "+kf[f-1]+" "+Zs[s]):l=" of "+Zs[s-1]}let u=SL;"legs"==r?u=wL:"head"==r?u=DL:"feet"==r&&(u=EL);let d=a+" "+i+" "+u[Math.floor(Math.random()*u.length)]+l;this.logService.addLogMessage("Your hard work paid off! You created some armor: "+d+"!","STANDARD","EVENT");let h=Math.floor(Math.random()*e*10);return{id:"armor",name:d,type:"equipment",slot:r,value:e,armorStats:{defense:e,material:i,durability:h},description:"A unique piece of armor made of "+i+".<br/>Defense: "+e+"<br/>Durability: "+h}}randomArmorSlot(){let e=Math.random();return e<.25?"body":e<.5?"head":e<.75?"feet":"legs"}getOre(){let e;e=this.characterService.characterState.attributes.earthLore.value<20?1+Math.floor(this.characterService.characterState.attributes.earthLore.value/5):this.characterService.characterState.attributes.earthLore.value<70?5+Math.floor((this.characterService.characterState.attributes.earthLore.value-20)/10):9+Math.floor(Math.log10(this.characterService.characterState.attributes.earthLore.value-60));let i=this.itemRepoService.items.copperBar;for(let r in this.itemRepoService.items){let o=this.itemRepoService.items[r];if("ore"==o.type&&(i=o,o.value==e))return o}return i}getBar(e){let i=10*e;for(let r in this.itemRepoService.items){let o=this.itemRepoService.items[r];if("metal"==o.type&&o.value==i)return o}return this.itemRepoService.items.copperBar}getWood(){return this.characterService.characterState.attributes.plantLore.value>300&&this.characterService.characterState.attributes.spirituality.value>10?this.itemRepoService.items.peachwoodLog:this.characterService.characterState.attributes.plantLore.value>200&&this.characterService.characterState.attributes.spirituality.value>1?this.itemRepoService.items.blackwoodLog:this.characterService.characterState.attributes.plantLore.value>100?this.itemRepoService.items.zitanLog:this.characterService.characterState.attributes.plantLore.value>50?this.itemRepoService.items.rosewoodLog:this.characterService.characterState.attributes.plantLore.value>40?this.itemRepoService.items.pearwoodLog:this.characterService.characterState.attributes.plantLore.value>30?this.itemRepoService.items.laurelwoodLog:this.characterService.characterState.attributes.plantLore.value>20?this.itemRepoService.items.walnutLog:this.characterService.characterState.attributes.plantLore.value>10?this.itemRepoService.items.cypressLog:this.itemRepoService.items.elmLog}reset(){this.itemStacks=[],this.maxItems=10;for(let e=0;e<this.maxItems;e++)this.itemStacks.push(null);Math.random()<.3&&(this.logService.addLogMessage("Your mother gives you three big bags of rice as she sends you out to make your way in the world.","STANDARD","EVENT"),this.itemStacks=[{item:this.itemRepoService.items.rice,quantity:300}])}eatFood(){if(this.fed)return this.noFood=!1,void(this.fed=!1);let e=null;for(const r of this.itemStacks)null!=r&&"food"==r.item.type&&r.item.value>0&&(e=r);e?(this.useItemStack(e),this.noFood=!1):(this.noFood=!0,this.characterService.characterState.money>0&&(this.characterService.characterState.money--,this.characterService.characterState.status.nourishment.value++)),this.fed=!1}addItems(e,i){for(let r=0;r<i;r++)this.addItem(e)}addItem(e){for(let i of this.autoBalanceItems)if(i.name==e.name)return i.index<i.useNumber?this.useItem(e):this.characterService.characterState.money+=e.value,i.index++,i.index>=i.sellNumber+i.useNumber&&(i.index=0),-1;if(this.autoPotionUnlocked&&"potion"==e.type)return this.useItem(e),-1;if(this.autoUseItems.includes(e.name))return this.useItem(e),-1;if(this.autoSellItems.includes(e.name))return this.characterService.characterState.money+=e.value,-1;if("equipment"!=e.type)for(let i=0;i<this.itemStacks.length;i++){let r=this.itemStacks[i];if(null!=r&&r.item.name==e.name&&r.quantity<this.maxStackSize)return r.quantity++,i}for(let i=0;i<this.itemStacks.length;i++)if(null==this.itemStacks[i])return this.itemStacks[i]={item:e,quantity:1},i;return this.logService.addLogMessage(`You don't have enough room for the ${e.name} so you threw it away.`,"STANDARD","EVENT"),-1}sell(e,i){let r=this.itemStacks.indexOf(e);i>=e.quantity?(this.itemStacks[r]=null,this.characterService.characterState.money+=e.quantity*e.item.value,this.selectedItem=null):(e.quantity-=i,this.characterService.characterState.money+=i*e.item.value)}sellAll(e){for(let i of this.itemStacks)null!=i&&i.item.name==e.name&&this.sell(i,i.quantity)}autoSell(e){this.autoSellItems.includes(e.name)||this.autoSellItems.push(e.name),this.sellAll(e)}unAutoSell(e){let i=this.autoSellItems.indexOf(e);this.autoSellItems.splice(i,1)}useItemStack(e){if(this.useItem(e.item),e.item.useConsumes&&(e.quantity--,e.quantity<=0)){let i=this.itemStacks.indexOf(e);this.itemStacks[i]=null,this.selectedItem=null}}useItem(e){"potion"==e.type&&function xL(n){return"attribute"in n}(e)?this.usePotion(e):e.use&&(e.use(),"food"==e.type&&(this.fed=!0))}autoUse(e){var i;if(("potion"==e.type||e.use)&&(this.autoUseItems.includes(e.name)||this.autoUseItems.push(e.name),e.useConsumes))for(let r=0;r<this.itemStacks.length;r++)if(null!=this.itemStacks[r]&&(null===(i=this.itemStacks[r])||void 0===i?void 0:i.item.name)==e.name&&e.useConsumes)for(;null!=this.itemStacks[r];){let o=this.itemStacks[r];null!=o&&this.useItemStack(o)}}unAutoUse(e){let i=this.autoUseItems.indexOf(e);this.autoUseItems.splice(i,1)}autoBalance(e){for(let i of this.autoBalanceItems)if(i.name==e.name)return;this.autoBalanceItems.push({name:e.name,index:0,useNumber:1,sellNumber:1}),this.sellAll(e)}unAutoBalance(e){for(let i=0;i<this.autoBalanceItems.length;i++)if(this.autoBalanceItems[i].name==e)return void this.autoBalanceItems.splice(i,1)}equip(e){const i=e.item;if(!Xs(i))throw Error("Tried to equip an item that was not equipable");const r=this.characterService.characterState.equipment[i.slot];r&&this.addItem(r),this.characterService.characterState.equipment[i.slot]=i;let o=this.itemStacks.indexOf(e);this.itemStacks[o]=null}consume(e){let i=-1;for(const r of this.itemStacks)if(null!=r&&r.item.type==e){if(i=r.item.value,r.quantity--,0==r.quantity){let o=this.itemStacks.indexOf(r);this.itemStacks[o]=null}return i}return i}usePotion(e){this.characterService.characterState.attributes[e.attribute].value+=e.increase}openInventorySlots(){let e=0;for(const i of this.itemStacks)null==i&&e++;return e}mergeEquipment(e,i,r){var o,s;if(e.slot!=i.slot)return;let a=0;a=this.addItem("rightHand"==e.slot||"leftHand"==e.slot?this.generateWeapon(e.value+i.value,(null===(o=e.weaponStats)||void 0===o?void 0:o.material)+""):this.generateArmor(e.value+i.value,(null===(s=e.armorStats)||void 0===s?void 0:s.material)+"",e.slot)),a!=r&&null==this.itemStacks[r]&&(this.itemStacks[r]=this.itemStacks[a],this.itemStacks[a]=null)}autoWeaponMerge(){this.autoMerge("leftHand"),this.autoMerge("rightHand")}autoArmorMerge(){this.autoMerge("head"),this.autoMerge("body"),this.autoMerge("legs"),this.autoMerge("feet")}autoMerge(e){var i;let r=-1,o=null,s=null;for(let a=0;a<this.itemStacks.length;a++){let l=null===(i=this.itemStacks[a])||void 0===i?void 0:i.item;if(l&&Xs(l)&&l.slot==e)if(-1==r)r=a,o=l;else if(s=l,o)return(this.selectedItem==this.itemStacks[r]||this.selectedItem==this.itemStacks[a])&&(this.selectedItem=null),this.itemStacks[r]=null,this.itemStacks[a]=null,void this.mergeEquipment(o,s,r)}}}return n.\u0275fac=function(e){return new(e||n)(g(hi),g(bt),g(fi),g(Ao),g(lr))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xs(n){return"slot"in n}let Of=(()=>{class n{constructor(e,i,r,o,s){this.logService=e,this.characterService=i,this.inventoryService=r,this.itemRepoService=o,this.homeService=s,this.selling="manuals",this.selectedItem=null,this.manuals=[];for(let a in o.items)"manual"==o.items[a].type&&this.manuals.push(o.items[a]);this.furniture=[]}setStoreInventory(e){if(this.selling=e,"furniture"==e){this.furniture=[];for(let i in this.itemRepoService.furniture){let r=this.itemRepoService.furniture[i];this.homeService.home.furnitureSlots.includes(r.slot)&&this.furniture.push(r)}}}buyManual(){this.selectedItem&&this.selectedItem.value<this.characterService.characterState.money&&(this.characterService.characterState.money-=this.selectedItem.value,"manual"==this.selectedItem.type&&this.selectedItem.use?this.selectedItem.use():this.inventoryService.addItem(this.selectedItem))}buyFurniture(){if(this.selectedItem){if(!function AL(n){return"slot"in n}(this.selectedItem))return;let e=this.selectedItem.slot;this.selectedItem.value<this.characterService.characterState.money&&(this.characterService.characterState.money-=this.selectedItem.value,this.homeService.furniture[e]=this.selectedItem,this.homeService.autoBuyFurniture[e]=this.selectedItem)}}ascendAttributeGain(){this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.condenseSoulCoreCost?this.logService.addLogMessage("You don't have the spirituality required for to ascend.","INJURY","EVENT"):this.characterService.condenseSoulCore()}}return n.\u0275fac=function(e){return new(e||n)(g(hi),g(bt),g(He),g(lr),g(Tt))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TL(n,t){1&n&&we(0,"div",3)}function IL(n,t){1&n&&Ud(0)}function kL(n,t){if(1&n&&(y(0,"div"),V(1,IL,1,0,"ng-container",4),v()),2&n){const e=M();S(1),x("ngTemplateOutlet",e.value)}}function PL(n,t){1&n&&we(0,"div",5),2&n&&x("innerHTML",M().value,Fm)}let OL=(()=>{class n{constructor(e,i){this.elementRef=e,this.renderer=i,this._show=!1,this.events=new be}transitionEnd(e){this.show&&this.events.emit({type:"shown"})}set show(e){e&&this.setPosition(),this._show=this.hostClassShow=e}get show(){return this._show}get placement(){return this.data.options.placement}get autoPlacement(){return this.data.options.autoPlacement}get element(){return this.data.element}get elementPosition(){return this.data.elementPosition}get options(){return this.data.options}get value(){return this.data.value}get tooltipOffset(){return Number(this.data.options.offset)}get isThemeLight(){return"light"===this.options.theme}ngOnInit(){this.setCustomClass(),this.setStyles()}setPosition(){if(this.setHostStyle(this.placement))this.setPlacementClass(this.placement);else{const e=["top","right","bottom","left"];let i;for(const r of e)if(this.setHostStyle(r))return this.setPlacementClass(r),void(i=!0);i||(this.setHostStyle(this.placement,!0),this.setPlacementClass(this.placement))}}setPlacementClass(e){this.renderer.addClass(this.elementRef.nativeElement,"tooltip-"+e)}setHostStyle(e,i=!1){const r=this.element instanceof SVGElement,o=this.elementRef.nativeElement,s=!this.elementPosition.right;let a=r?this.element.getBoundingClientRect().height:this.element.offsetHeight,l=r?this.element.getBoundingClientRect().width:this.element.offsetWidth;const c=o.clientHeight,u=o.clientWidth,d=window.pageYOffset;let h,f;if(s&&(a=0,l=0),"top"===e&&(h=this.elementPosition.top+d-(c+this.tooltipOffset)),"bottom"===e&&(h=this.elementPosition.top+d+a+this.tooltipOffset),("top"===e||"bottom"===e)&&(f=this.elementPosition.left+l/2-u/2),"left"===e&&(f=this.elementPosition.left-u-this.tooltipOffset),"right"===e&&(f=this.elementPosition.left+l+this.tooltipOffset),("left"===e||"right"===e)&&(h=this.elementPosition.top+d+a/2-o.clientHeight/2),this.autoPlacement&&!i){const m=h+c,C=f,D=f+u,_=window.innerHeight+d,T=document.body.clientWidth;if(h<0||m>_||C<0||D>T)return!1}return this.hostStyleTop=h+"px",this.hostStyleLeft=f+"px",!0}setZIndex(){0!==this.options.zIndex&&(this.hostStyleZIndex=this.options.zIndex)}setPointerEvents(){this.options.pointerEvents&&(this.hostStylePointerEvents=this.options.pointerEvents)}setCustomClass(){this.options.tooltipClass&&this.options.tooltipClass.split(" ").forEach(e=>{this.renderer.addClass(this.elementRef.nativeElement,e)})}setAnimationDuration(){Number(this.options.animationDuration)!=this.options.animationDurationDefault&&(this.hostStyleTransition="opacity "+this.options.animationDuration+"ms")}setStyles(){this.setZIndex(),this.setPointerEvents(),this.setAnimationDuration(),this.hostClassShadow=this.options.shadow,this.hostClassLight=this.isThemeLight,this.hostStyleMaxWidth=this.options.maxWidth,this.hostStyleWidth=this.options.width?this.options.width:""}}return n.\u0275fac=function(e){return new(e||n)(b(Ye),b(jn))},n.\u0275cmp=ct({type:n,selectors:[["tooltip"]],hostAttrs:[1,"tooltip"],hostVars:20,hostBindings:function(e,i){1&e&&I("transitionend",function(o){return i.transitionEnd(o)}),2&e&&(Wd("top",i.hostStyleTop)("left",i.hostStyleLeft)("z-index",i.hostStyleZIndex)("transition",i.hostStyleTransition)("width",i.hostStyleWidth)("max-width",i.hostStyleMaxWidth)("pointer-events",i.hostStylePointerEvents),co("tooltip-show",i.hostClassShow)("tooltip-shadow",i.hostClassShadow)("tooltip-light",i.hostClassLight))},inputs:{data:"data",show:"show"},decls:4,vars:3,consts:[["class","tooltip-arrow",4,"ngIf"],[4,"ngIf","ngIfElse"],["htmlOrStringTemplate",""],[1,"tooltip-arrow"],[4,"ngTemplateOutlet"],[3,"innerHTML"]],template:function(e,i){if(1&e&&(V(0,TL,1,0,"div",0),V(1,kL,2,1,"div",1),V(2,PL,1,1,"ng-template",null,2,db)),2&e){const r=function by(n){return Ar(function vM(){return W.lFrame.contextLView}(),20+n)}(3);x("ngIf",i.isThemeLight),S(1),x("ngIf","template"===i.options.contentType)("ngIfElse",r)}},directives:[xn,fC],styles:['[_nghost-%COMP%]{max-width:200px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 8px;position:absolute;pointer-events:none;z-index:1000;display:block;opacity:0;transition:opacity .3s;top:0;left:0}.tooltip-show[_nghost-%COMP%]{opacity:1}.tooltip-shadow[_nghost-%COMP%]{box-shadow:0 7px 15px -5px #0006}.tooltip-light.tooltip-shadow[_nghost-%COMP%]{box-shadow:0 5px 15px -5px #0006}.tooltip[_nghost-%COMP%]:after{content:"";position:absolute;border-style:solid}.tooltip-top[_nghost-%COMP%]:after{top:100%;left:50%;margin-left:-5px;border-width:5px;border-color:#000 #0000 #0000}.tooltip-bottom[_nghost-%COMP%]:after{bottom:100%;left:50%;margin-left:-5px;border-width:5px;border-color:#0000 #0000 #000}.tooltip-left[_nghost-%COMP%]:after{top:50%;left:100%;margin-top:-5px;border-width:5px;border-color:#0000 #0000 #0000 #000}.tooltip-right[_nghost-%COMP%]:after{top:50%;right:100%;margin-top:-5px;border-width:5px;border-color:#0000 #000 #0000 #0000}.tooltip-light[_nghost-%COMP%]:after{display:none}.tooltip-light[_nghost-%COMP%]{border:1px solid #0000000f;background-color:#fff;color:#000}.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;transform:rotate(135deg);background-color:#00000012}.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{background-color:#fff;content:"";display:block;position:absolute;width:10px;height:10px}.tooltip-top.tooltip-light[_nghost-%COMP%]{margin-top:-2px}.tooltip-top.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:100%;left:50%;margin-top:-4px;margin-left:-5px;background:linear-gradient(to bottom left,#00000012 50%,#0000 0)}.tooltip-top.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:1px;right:1px}.tooltip-bottom.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{bottom:100%;left:50%;margin-bottom:-4px;margin-left:-5px;background:linear-gradient(to top right,#0000001a 50%,#0000 0)}.tooltip-bottom.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:-1px;right:-1px}.tooltip-left.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:50%;left:100%;margin-top:-5px;margin-left:-4px;background:linear-gradient(to bottom right,#00000012 50%,#0000 0)}.tooltip-left.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:1px;right:-1px}.tooltip-right.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:50%;right:100%;margin-top:-5px;margin-right:-4px;background:linear-gradient(to top left,#00000012 50%,#0000 0)}.tooltip-right.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:-1px;right:1px}']}),n})();const zS=new N("TooltipOptions"),GS={placement:"top",autoPlacement:!0,contentType:"string",showDelay:0,hideDelay:300,hideDelayMobile:0,hideDelayTouchscreen:0,zIndex:0,animationDuration:300,animationDurationDefault:300,trigger:"hover",tooltipClass:"",display:!0,displayMobile:!0,displayTouchscreen:!0,shadow:!0,theme:"dark",offset:8,maxWidth:"",id:!1,hideDelayAfterClick:2e3},WS={delay:"showDelay","show-delay":"showDelay","hide-delay":"hideDelay","hide-delay-mobile":"hideDelayTouchscreen",hideDelayMobile:"hideDelayTouchscreen","z-index":"zIndex","animation-duration":"animationDuration","animation-duration-default":"animationDurationDefault","tooltip-class":"tooltipClass","display-mobile":"displayTouchscreen",displayMobile:"displayTouchscreen","max-width":"maxWidth"};let pi=(()=>{class n{constructor(e,i,r,o,s){this.initOptions=e,this.elementRef=i,this.componentFactoryResolver=r,this.appRef=o,this.injector=s,this._options={},this._contentType="string",this.events=new be}set options(e){e&&GS&&(this._options=e)}get options(){return this._options}set contentTypeBackwardCompatibility(e){e&&(this._contentType=e)}set contentType(e){e&&(this._contentType=e)}get contentType(){return this._contentType}set zIndexBackwardCompatibility(e){e&&(this._zIndex=e)}set zIndex(e){e&&(this._zIndex=e)}get zIndex(){return this._zIndex}set animationDurationBackwardCompatibility(e){e&&(this._animationDuration=e)}set animationDuration(e){e&&(this._animationDuration=e)}get animationDuration(){return this._animationDuration}set tooltipClassBackwardCompatibility(e){e&&(this._tooltipClass=e)}set tooltipClass(e){e&&(this._tooltipClass=e)}get tooltipClass(){return this._tooltipClass}set maxWidthBackwardCompatibility(e){e&&(this._maxWidth=e)}set maxWidth(e){e&&(this._maxWidth=e)}get maxWidth(){return this._maxWidth}set showDelayBackwardCompatibility(e){e&&(this._showDelay=e)}set showDelay(e){e&&(this._showDelay=e)}get showDelay(){return this._showDelay}set hideDelayBackwardCompatibility(e){e&&(this._hideDelay=e)}set hideDelay(e){e&&(this._hideDelay=e)}get hideDelay(){return this._hideDelay}get isTooltipDestroyed(){return this.componentRef&&this.componentRef.hostView.destroyed}get destroyDelay(){return this._destroyDelay?this._destroyDelay:Number(this.getHideDelay())+Number(this.options.animationDuration)}set destroyDelay(e){this._destroyDelay=e}get tooltipPosition(){return this.options.position?this.options.position:this.elementPosition}onMouseEnter(){0!=this.isDisplayOnHover&&this.show()}onMouseLeave(){"hover"===this.options.trigger&&this.destroyTooltip()}onClick(){0!=this.isDisplayOnClick&&(this.show(),this.hideAfterClickTimeoutId=window.setTimeout(()=>{this.destroyTooltip()},this.options.hideDelayAfterClick))}ngOnInit(){}ngOnChanges(e){this.initOptions=this.renameProperties(this.initOptions);let i=this.getProperties(e);i=this.renameProperties(i),this.applyOptionsDefault(GS,i)}ngOnDestroy(){this.destroyTooltip({fast:!0}),this.componentSubscribe&&this.componentSubscribe.unsubscribe()}getShowDelay(){return this.options.showDelay}getHideDelay(){return this.isTouchScreen?this.options.hideDelayTouchscreen:this.options.hideDelay}getProperties(e){let i={},r={},o={};for(var s in e)"options"!==s&&"tooltipValue"!==s&&(i[s]=e[s].currentValue),"options"===s&&(r=e[s].currentValue);return o=Object.assign({},r,i),o}renameProperties(e){for(var i in e)WS[i]&&(e[WS[i]]=e[i],delete e[i]);return e}getElementPosition(){this.elementPosition=this.elementRef.nativeElement.getBoundingClientRect()}createTooltip(){this.clearTimeouts(),this.getElementPosition(),this.createTimeoutId=window.setTimeout(()=>{this.appendComponentToBody(OL)},this.getShowDelay()),this.showTimeoutId=window.setTimeout(()=>{this.showTooltipElem()},this.getShowDelay())}destroyTooltip(e={fast:!1}){this.clearTimeouts(),0==this.isTooltipDestroyed&&(this.hideTimeoutId=window.setTimeout(()=>{this.hideTooltip()},e.fast?0:this.getHideDelay()),this.destroyTimeoutId=window.setTimeout(()=>{!this.componentRef||this.isTooltipDestroyed||(this.appRef.detachView(this.componentRef.hostView),this.componentRef.destroy(),this.events.emit({type:"hidden",position:this.tooltipPosition}))},e.fast?0:this.destroyDelay))}showTooltipElem(){this.clearTimeouts(),this.componentRef.instance.show=!0,this.events.emit({type:"show",position:this.tooltipPosition})}hideTooltip(){!this.componentRef||this.isTooltipDestroyed||(this.componentRef.instance.show=!1,this.events.emit({type:"hide",position:this.tooltipPosition}))}appendComponentToBody(e,i={}){this.componentRef=this.componentFactoryResolver.resolveComponentFactory(e).create(this.injector),this.componentRef.instance.data={value:this.tooltipValue,element:this.elementRef.nativeElement,elementPosition:this.tooltipPosition,options:this.options},this.appRef.attachView(this.componentRef.hostView),document.body.appendChild(this.componentRef.hostView.rootNodes[0]),this.componentSubscribe=this.componentRef.instance.events.subscribe(o=>{this.handleEvents(o)})}clearTimeouts(){this.createTimeoutId&&clearTimeout(this.createTimeoutId),this.showTimeoutId&&clearTimeout(this.showTimeoutId),this.hideTimeoutId&&clearTimeout(this.hideTimeoutId),this.destroyTimeoutId&&clearTimeout(this.destroyTimeoutId)}get isDisplayOnHover(){return!(0==this.options.display||0==this.options.displayTouchscreen&&this.isTouchScreen||"hover"!==this.options.trigger)}get isDisplayOnClick(){return!(0==this.options.display||0==this.options.displayTouchscreen&&this.isTouchScreen||"click"!=this.options.trigger)}get isTouchScreen(){var e=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window)return!0;var r=["(",e.join("touch-enabled),("),"heartz",")"].join("");return window.matchMedia(r).matches}applyOptionsDefault(e,i){this.options=Object.assign({},e,this.initOptions||{},this.options,i)}handleEvents(e){"shown"===e.type&&this.events.emit({type:"shown",position:this.tooltipPosition})}show(){!this.tooltipValue||(!this.componentRef||this.isTooltipDestroyed?this.createTooltip():this.isTooltipDestroyed||this.showTooltipElem())}hide(){this.destroyTooltip()}}return n.\u0275fac=function(e){return new(e||n)(b(zS,8),b(Ye),b(Ti),b(Ts),b(Le))},n.\u0275dir=H({type:n,selectors:[["","tooltip",""]],hostBindings:function(e,i){1&e&&I("focusin",function(){return i.onMouseEnter()})("mouseenter",function(){return i.onMouseEnter()})("focusout",function(){return i.onMouseLeave()})("mouseleave",function(){return i.onMouseLeave()})("click",function(){return i.onClick()})},inputs:{options:"options",tooltipValue:["tooltip","tooltipValue"],placement:"placement",autoPlacement:"autoPlacement",contentTypeBackwardCompatibility:["content-type","contentTypeBackwardCompatibility"],contentType:"contentType",hideDelayMobile:["hide-delay-mobile","hideDelayMobile"],hideDelayTouchscreen:"hideDelayTouchscreen",zIndexBackwardCompatibility:["z-index","zIndexBackwardCompatibility"],zIndex:"zIndex",animationDurationBackwardCompatibility:["animation-duration","animationDurationBackwardCompatibility"],animationDuration:"animationDuration",trigger:"trigger",tooltipClassBackwardCompatibility:["tooltip-class","tooltipClassBackwardCompatibility"],tooltipClass:"tooltipClass",display:"display",displayMobile:["display-mobile","displayMobile"],displayTouchscreen:"displayTouchscreen",shadow:"shadow",theme:"theme",offset:"offset",width:"width",maxWidthBackwardCompatibility:["max-width","maxWidthBackwardCompatibility"],maxWidth:"maxWidth",id:"id",showDelayBackwardCompatibility:["show-delay","showDelayBackwardCompatibility"],showDelay:"showDelay",hideDelayBackwardCompatibility:["hide-delay","hideDelayBackwardCompatibility"],hideDelay:"hideDelay",hideDelayAfterClick:"hideDelayAfterClick",pointerEvents:"pointerEvents",position:"position"},outputs:{events:"events"},exportAs:["tooltip"],features:[Vt]}),n})(),RL=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:zS,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=je({imports:[[Zh]]}),n})();const FL=new N("cdk-dir-doc",{providedIn:"root",factory:function NL(){return qa(re)}}),LL=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ff,Rf=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new be,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function VL(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?LL.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(g(FL,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Js=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=je({}),n})();try{Ff="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Ff=!1}let ea,cr,Lf,gi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function vR(n){return n===mC}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ff)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(g(Dh))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Nf(n){return function BL(){if(null==ea&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ea=!0}))}finally{ea=ea||!1}return ea}()?n:!!n.capture}function HL(){if(null==cr){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return cr=!1,cr;if("scrollBehavior"in document.documentElement.style)cr=!0;else{const n=Element.prototype.scrollTo;cr=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return cr}function Vf(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function ur(n){return n.composedPath?n.composedPath()[0]:n.target}function Bf(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function XL(n,t){return n===t}function ZS(n){return qe((t,e)=>{Rt(n).subscribe(Re(e,()=>e.complete(),$c)),!e.closed&&t.subscribe(e)})}function QS(n){return Array.isArray(n)?n:[n]}function Qe(n){return null==n?"":"string"==typeof n?n:`${n}px`}function rc(n){return n instanceof Ye?n.nativeElement:n}let e0=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function rV(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function iV(n){try{return n.frameElement}catch(t){return null}}(function hV(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===n0(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=n0(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function uV(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function dV(n){return!function sV(n){return function lV(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function oV(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function aV(n){return function cV(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||t0(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(g(gi))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function t0(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function n0(n){if(!t0(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class fV{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(In(1)).subscribe(t)}}let pV=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new fV(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(g(e0),g(ge),g(re))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vV=new N("cdk-input-modality-detector-options"),yV={ignoreKeys:[18,17,224,91,16]},ko=Nf({passive:!0,capture:!0});let _V=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new un(null),this._lastTouchMs=0,this._onKeydown=s=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(c=>c===s.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=ur(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function gV(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(s)?"keyboard":"mouse"),this._mostRecentTarget=ur(s))},this._onTouchstart=s=>{!function mV(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(s)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ur(s)):this._modality.next("keyboard")},this._options=Object.assign(Object.assign({},yV),o),this.modalityDetected=this._modality.pipe(function ZL(n){return zt((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(function QL(n,t=yi){return n=null!=n?n:XL,qe((e,i)=>{let r,o=!0;e.subscribe(Re(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,ko),r.addEventListener("mousedown",this._onMousedown,ko),r.addEventListener("touchstart",this._onTouchstart,ko)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ko),document.removeEventListener("mousedown",this._onMousedown,ko),document.removeEventListener("touchstart",this._onTouchstart,ko))}}return n.\u0275fac=function(e){return new(e||n)(g(gi),g(ge),g(re),g(vV,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CV=new N("cdk-focus-monitor-default-options"),oc=Nf({passive:!0,capture:!0});let SV=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ve,this._rootNodeFocusAndBlurListener=a=>{const l=ur(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=o,this._detectionMode=(null==s?void 0:s.detectionMode)||0}monitor(e,i=!1){const r=rc(e);if(!this._platform.isBrowser||1!==r.nodeType)return U(null);const o=function UL(n){if(function jL(){if(null==Lf){const n="undefined"!=typeof document?document.head:null;Lf=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Lf}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new ve,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=rc(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=rc(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=ur(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,oc),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,oc)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ZS(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,oc),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,oc),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(g(ge),g(gi),g(_V),g(re,8),g(CV,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const o0="cdk-high-contrast-black-on-white",s0="cdk-high-contrast-white-on-black",Hf="cdk-high-contrast-active";let wV=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Hf),e.remove(o0),e.remove(s0),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(Hf),e.add(o0)):2===i&&(e.add(Hf),e.add(s0))}}}return n.\u0275fac=function(e){return new(e||n)(g(gi),g(re))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const EV=new N("mat-sanity-checks",{providedIn:"root",factory:function DV(){return!0}});let sc=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Bf()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(g(wV),g(EV,8),g(re))},n.\u0275mod=ze({type:n}),n.\u0275inj=je({imports:[[Js],Js]}),n})();function MV(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}class PV{}class Pi{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Pi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Pi;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Pi?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class OV{encodeKey(t){return h0(t)}encodeValue(t){return h0(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const FV=/%(\d[a-f0-9])/gi,NV={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function h0(n){return encodeURIComponent(n).replace(FV,(t,e)=>{var i;return null!==(i=NV[e])&&void 0!==i?i:t})}function f0(n){return`${n}`}class Oi{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new OV,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function RV(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Oi({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(f0(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(f0(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class LV{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function p0(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function g0(n){return"undefined"!=typeof Blob&&n instanceof Blob}function m0(n){return"undefined"!=typeof FormData&&n instanceof FormData}class na{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function VV(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Pi),this.context||(this.context=new LV),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Oi,this.urlWithParams=e}serializeBody(){return null===this.body?null:p0(this.body)||g0(this.body)||m0(this.body)||function BV(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Oi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||m0(this.body)?null:g0(this.body)?this.body.type||null:p0(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Oi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,u=t.params||this.params;const d=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((h,f)=>h.set(f,t.setHeaders[f]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((h,f)=>h.set(f,t.setParams[f]),u)),new na(i,r,s,{params:u,headers:c,context:d,reportProgress:l,responseType:o,withCredentials:a})}}var ft=(()=>((ft=ft||{})[ft.Sent=0]="Sent",ft[ft.UploadProgress=1]="UploadProgress",ft[ft.ResponseHeader=2]="ResponseHeader",ft[ft.DownloadProgress=3]="DownloadProgress",ft[ft.Response=4]="Response",ft[ft.User=5]="User",ft))();class Uf extends class HV{constructor(t,e=200,i="OK"){this.headers=t.headers||new Pi,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=ft.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Uf({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function $f(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let y0=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof na)o=e;else{let l,c;l=r.headers instanceof Pi?r.headers:new Pi(r.headers),r.params&&(c=r.params instanceof Oi?r.params:new Oi({fromObject:r.params})),o=new na(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=U(o).pipe(bo(l=>this.handler.handle(l)));if(e instanceof na||"events"===r.observe)return s;const a=s.pipe(zt(l=>l instanceof Uf));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ae(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(ae(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(ae(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(ae(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Oi).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,$f(r,i))}post(e,i,r={}){return this.request("POST",e,$f(r,i))}put(e,i,r={}){return this.request("PUT",e,$f(r,i))}}return n.\u0275fac=function(e){return new(e||n)(g(PV))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const UV=["*"];let ac;function ia(n){var t;return(null===(t=function $V(){if(void 0===ac&&(ac=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(ac=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return ac}())||void 0===t?void 0:t.createHTML(n))||n}function _0(n){return Error(`Unable to find icon with the name "${n}"`)}function b0(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function C0(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class dr{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let lc=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new dr(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const s=this._sanitizer.sanitize(fe.HTML,r);if(!s)throw C0(r);const a=ia(s);return this._addSvgIconConfig(e,i,new dr("",a,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new dr(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(fe.HTML,i);if(!o)throw C0(i);const s=ia(o);return this._addSvgIconSetConfig(e,new dr("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(fe.RESOURCE_URL,e);if(!i)throw b0(e);const r=this._cachedIconsByUrl.get(i);return r?U(cc(r)):this._loadSvgIconFromConfig(new dr(e,null)).pipe(_t(o=>this._cachedIconsByUrl.set(i,o)),ae(o=>cc(o)))}getNamedSvgIcon(e,i=""){const r=S0(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):Ls(_0(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?U(cc(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(ae(i=>cc(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?U(r):function d0(...n){const t=_g(n),{args:e,keys:i}=PC(n),r=new Ie(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;Rt(e[u]).subscribe(Re(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?OC(i,a):a),o.complete())}))}});return t?r.pipe(sf(t)):r}(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(ci(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(fe.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),U(null)})))).pipe(ae(()=>{const s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw _0(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(_t(i=>e.svgText=i),ae(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?U(null):this._fetchIcon(e).pipe(_t(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(ia("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(ia("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:o}=e,s=null!==(i=null==o?void 0:o.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function qV(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const a=this._sanitizer.sanitize(fe.RESOURCE_URL,r);if(!a)throw b0(r);const l=this._inProgressUrlFetches.get(a);if(l)return l;const c=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(ae(u=>ia(u)),HC(()=>this._inProgressUrlFetches.delete(a)),Dg());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(S0(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return GV(o)?new dr(o.url,null,o.options):new dr(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(g(y0,8),g(rf),g(re,8),g(Ei))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cc(n){return n.cloneNode(!0)}function S0(n,t){return n+":"+t}function GV(n){return!(!n.url||!n.options)}const WV=MV(class{constructor(n){this._elementRef=n}}),YV=new N("mat-icon-location",{providedIn:"root",factory:function KV(){const n=qa(re),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),w0=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ZV=w0.map(n=>`[${n}]`).join(", "),QV=/^url\(['"]?#(.*?)['"]?\)$/;let hr=(()=>{class n extends WV{constructor(e,i,r,o,s){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._currentIconFetch=lt.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=function JL(n){return null!=n&&"false"!=`${n}`}(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(ZV),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)w0.forEach(s=>{const a=i[o],l=a.getAttribute(s),c=l?l.match(QV):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:s,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(In(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(b(Ye),b(lc),Or("aria-hidden"),b(YV),b(Ei))},n.\u0275cmp=ct({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(sn("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),co("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[ue],ngContentSelectors:UV,decls:1,vars:0,template:function(e,i){1&e&&(function Ry(n){const t=E()[16][6];if(!t.projection){const i=t.projection=es(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?S1(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}(),function Fy(n,t=0,e){const i=E(),r=le(),o=qr(r,20+n,16,null,e||null);null===o.projection&&(o.projection=t),Cu(),64!=(64&o.flags)&&function SA(n,t,e){lv(t[X],0,t,e,Xm(n,e,t),nv(e.parent||t[6],e,t))}(r,i,o)}(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),D0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=je({imports:[[sc],sc]}),n})(),E0=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(b(jn),b(Ye))},n.\u0275dir=H({type:n}),n})(),fr=(()=>{class n extends E0{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=ut(n)))(i||n)}}(),n.\u0275dir=H({type:n,features:[ue]}),n})();const Wn=new N("NgValueAccessor");let fw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=je({}),n})();const FB={provide:Wn,useExisting:Ce(()=>up),multi:!0};function bw(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let up=(()=>{class n extends fr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=bw(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function NB(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=ut(n)))(i||n)}}(),n.\u0275dir=H({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&I("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ae([FB]),ue]}),n})(),Cw=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(bw(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(b(Ye),b(jn),b(up,9))},n.\u0275dir=H({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const LB={provide:Wn,useExisting:Ce(()=>dp),multi:!0};function Sw(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let dp=(()=>{class n extends fr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);r.push(c)}}else{const s=i.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function VB(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=ut(n)))(i||n)}}(),n.\u0275dir=H({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&I("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ae([LB]),ue]}),n})(),ww=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Sw(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Sw(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(b(Ye),b(jn),b(dp,9))},n.\u0275dir=H({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),YB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=je({imports:[[fw]]}),n})(),KB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=je({imports:[YB]}),n})();const Ow=function(n,t){return{selectedItem:n,ownedItem:t}};function ZB(n,t){if(1&n){const e=de();y(0,"div")(1,"table",4),I("click",function(){const o=q(e).$implicit;return M(2).slotClicked(o)}),y(2,"tr")(3,"mat-icon"),w(4,"menu_book"),v()(),y(5,"tr"),w(6),De(7,"titlecase"),v()(),y(8,"div",5),w(9),De(10,"number"),v()()}if(2&n){const e=t.$implicit,i=M(2);S(1),Ve("tooltip",e.description),x("ngClass",sh(9,Ow,e===i.storeService.selectedItem,e.owned&&e.owned())),S(5),Mt(dt(7,4,e.name)),S(3),Mt(Un(10,6,e.value,"1.0-0"))}}function QB(n,t){if(1&n){const e=de();y(0,"div")(1,"span"),w(2,"Manuals Shop"),v(),we(3,"hr"),y(4,"div",1),V(5,ZB,11,12,"div",2),v(),y(6,"button",3),I("click",function(){return q(e),M().storeService.buyManual()}),w(7," Buy "),v()()}if(2&n){const e=M();S(5),x("ngForOf",e.storeService.manuals),S(1),x("disabled",e.buyDisabled)}}function XB(n,t){if(1&n){const e=de();y(0,"div",7),w(1," Automatically buy up to "),y(2,"input",8),I("change",function(r){return q(e),M(2).autoBuyLandLimitChanged(r)}),v(),w(3," land (including fields) "),v()}if(2&n){const e=M(2);S(2),Ve("value",e.homeService.autoBuyLandLimit)}}function JB(n,t){if(1&n){const e=de();y(0,"div",7),w(1," Automatically plow up to "),y(2,"input",8),I("change",function(r){return q(e),M(2).autoFieldLimitChanged(r)}),v(),w(3," fields "),v()}if(2&n){const e=M(2);S(2),Ve("value",e.homeService.autoFieldLimit)}}function e2(n,t){if(1&n&&(y(0,"option",11),w(1),v()),2&n){const e=t.$implicit,i=M(3);Ve("value",e.type),x("selected",i.homeService.autoBuyHomeLimit===e.type),S(1),We(" ",e.name," ")}}function t2(n,t){if(1&n){const e=de();y(0,"div",7),w(1," Automatically upgrade your home up to a "),y(2,"select",9),I("change",function(r){return q(e),M(2).autoBuyHomeLimitChanged(r)}),V(3,e2,2,3,"option",10),v()()}if(2&n){const e=M(2);S(3),x("ngForOf",e.homeService.homesList)}}function n2(n,t){if(1&n){const e=de();y(0,"div",7)(1,"input",12),I("change",function(r){return q(e),M(2).useSpiritGemWeaponsChange(r)}),v(),y(2,"label",13),w(3,"Use spirit gem when crafting weapons"),v()()}if(2&n){const e=M(2);S(1),x("checked",e.inventoryService.useSpiritGemWeapons)}}function r2(n,t){if(1&n){const e=de();y(0,"div",7)(1,"input",12),I("change",function(r){return q(e),M(2).useSpiritGemPotionsChange(r)}),v(),y(2,"label",13),w(3,"Use spirit gem when crafting potions"),v()()}if(2&n){const e=M(2);S(1),x("checked",e.inventoryService.useSpiritGemPotions)}}function o2(n,t){if(1&n){const e=de();y(0,"div"),w(1),De(2,"titlecase"),y(3,"button",15),I("click",function(){const o=q(e).$implicit;return M(3).inventoryService.unAutoSell(o)}),w(4,"Stop Selling"),v()()}if(2&n){const e=t.$implicit;S(1),We(" -",dt(2,1,e)," ")}}function s2(n,t){if(1&n&&(y(0,"div",7),w(1," Automatically Sold Items: "),y(2,"div",14),V(3,o2,5,3,"div",2),v()()),2&n){const e=M(2);S(3),x("ngForOf",e.inventoryService.autoSellItems)}}function a2(n,t){if(1&n){const e=de();y(0,"div"),w(1),De(2,"titlecase"),y(3,"button",15),I("click",function(){const o=q(e).$implicit;return M(3).inventoryService.unAutoUse(o)}),w(4,"Stop Using"),v()()}if(2&n){const e=t.$implicit;S(1),We(" -",dt(2,1,e)," ")}}function l2(n,t){if(1&n&&(y(0,"div",7)(1,"span"),w(2,"Automatically Used Items:"),v(),y(3,"div",14),V(4,a2,5,3,"div",2),v()()),2&n){const e=M(2);S(4),x("ngForOf",e.inventoryService.autoUseItems)}}function c2(n,t){if(1&n){const e=de();y(0,"div"),w(1),De(2,"titlecase"),y(3,"input",8),I("change",function(r){const s=q(e).$implicit;return M(3).autoBalanceUseChanged(r,s)}),v(),w(4," then Sell "),y(5,"input",8),I("change",function(r){const s=q(e).$implicit;return M(3).autoBalanceSellChanged(r,s)}),v(),y(6,"button",15),I("click",function(){const o=q(e).$implicit;return M(3).inventoryService.unAutoBalance(o.name)}),w(7,"Stop Balancing"),v()()}if(2&n){const e=t.$implicit;S(1),We(" -",dt(2,3,e.name)," Use "),S(2),Ve("value",e.useNumber),S(2),Ve("value",e.sellNumber)}}function u2(n,t){if(1&n&&(y(0,"div",7)(1,"span"),w(2,"Automatically Balanced Items:"),v(),y(3,"div",14),V(4,c2,8,5,"div",2),v()()),2&n){const e=M(2);S(4),x("ngForOf",e.inventoryService.autoBalanceItems)}}function d2(n,t){if(1&n&&(y(0,"div")(1,"span"),w(2,"Manuals Options"),v(),we(3,"hr"),V(4,XB,4,1,"div",6),V(5,JB,4,1,"div",6),V(6,t2,4,1,"div",6),V(7,n2,4,1,"div",6),V(8,r2,4,1,"div",6),V(9,s2,4,1,"div",6),V(10,l2,5,1,"div",6),V(11,u2,5,1,"div",6),v()),2&n){const e=M();S(4),x("ngIf",e.homeService.autoBuyLandUnlocked),S(1),x("ngIf",e.homeService.autoFieldUnlocked),S(1),x("ngIf",e.homeService.autoBuyHomeUnlocked),S(1),x("ngIf",e.inventoryService.useSpiritGemUnlocked),S(1),x("ngIf",e.inventoryService.useSpiritGemUnlocked),S(1),x("ngIf",e.inventoryService.autoSellUnlocked),S(1),x("ngIf",e.inventoryService.autoUseUnlocked),S(1),x("ngIf",e.inventoryService.autoBalanceUnlocked)}}function h2(n,t){if(1&n){const e=de();y(0,"div")(1,"table",4),I("click",function(){const o=q(e).$implicit;return M(2).slotClicked(o)}),y(2,"tr")(3,"mat-icon"),w(4),v()(),y(5,"tr"),w(6),De(7,"titlecase"),v()(),y(8,"div",5),w(9),v()()}if(2&n){const e=t.$implicit,i=M(2);S(1),Ve("tooltip",e.description),x("ngClass",sh(7,Ow,e===i.storeService.selectedItem,i.homeService.furniture[e.slot]===e)),S(3),Mt(e.slot),S(2),Mt(dt(7,5,e.name)),S(3),Mt(e.value)}}function f2(n,t){if(1&n){const e=de();y(0,"div")(1,"span"),w(2,"Furniture Shop"),v(),we(3,"hr"),y(4,"div",1),V(5,h2,10,10,"div",2),v(),y(6,"button",3),I("click",function(){return q(e),M().storeService.buyFurniture()}),w(7," Buy "),v()()}if(2&n){const e=M();S(5),x("ngForOf",e.storeService.furniture),S(1),x("disabled",e.buyDisabled)}}function p2(n,t){if(1&n){const e=de();y(0,"div")(1,"span"),w(2,"Ascension Shop"),v(),we(3,"hr"),y(4,"button",16),I("click",function(){return q(e),M().storeService.ascendAttributeGain()}),w(5," Condense Soul Core "),v()()}if(2&n){const e=M();S(4),Ai("tooltip","Requires ",e.characterService.characterState.condenseSoulCoreCost," spirituality. End your current life, sacrifice all attributes and aptitudes, and permanently increase the amount of aptitude gained on each reincarnation.")}}let _c=(()=>{class n{constructor(e,i,r,o,s){this.storeService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=s,this.buyDisabled=!0,this.character=i.characterState}slotClicked(e){this.storeService.selectedItem==e?(this.storeService.selectedItem=null,this.buyDisabled=!0):(this.storeService.selectedItem=e,this.buyDisabled=!!(e.owned&&e.owned()||this.characterService.characterState.money<e.value))}autoBuyLandLimitChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.autoBuyLandLimit=parseInt(e.target.value))}autoFieldLimitChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.autoFieldLimit=parseInt(e.target.value))}autoBuyHomeLimitChanged(e){e.target instanceof HTMLSelectElement&&(this.homeService.autoBuyHomeLimit=parseInt(e.target.value))}autoBalanceUseChanged(e,i){e.target instanceof HTMLInputElement&&(i.useNumber=parseInt(e.target.value))}autoBalanceSellChanged(e,i){e.target instanceof HTMLInputElement&&(i.sellNumber=parseInt(e.target.value))}useSpiritGemWeaponsChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useSpiritGemWeapons=e.target.checked)}useSpiritGemPotionsChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useSpiritGemPotions=e.target.checked)}}return n.\u0275fac=function(e){return new(e||n)(b(Of),b(bt),b(Tt),b(He),b(lr))},n.\u0275cmp=ct({type:n,selectors:[["app-store-modal"]],decls:4,vars:4,consts:[[4,"ngIf"],[1,"inventoryGrid"],[4,"ngFor","ngForOf"],[3,"disabled","click"],["placement","left",1,"itemSlot",3,"ngClass","tooltip","click"],[1,"priceLabel"],["class","optionField",4,"ngIf"],[1,"optionField"],["type","number",1,"inputBox",3,"value","change"],["name","homeList","id","homeList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["type","checkbox","id","useSpiritGemWeapons",3,"checked","change"],["for","useSpiritGemWeapons"],[1,"scrollingDiv"],[3,"click"],[3,"tooltip","click"]],template:function(e,i){1&e&&(V(0,QB,8,2,"div",0),V(1,d2,12,8,"div",0),V(2,f2,8,2,"div",0),V(3,p2,6,1,"div",0)),2&e&&(x("ngIf","manuals"===i.storeService.selling),S(1),x("ngIf","options"===i.storeService.selling),S(1),x("ngIf","furniture"===i.storeService.selling),S(1),x("ngIf","ascension"===i.storeService.selling))},directives:[xn,li,vo,pi,hr,Cw,ww],pipes:[yo,_o],styles:[".inventoryContainer[_ngcontent-%COMP%]{position:relative;height:100%}.itemSlot[_ngcontent-%COMP%]{border:1px solid black;width:90px;height:90px;margin:1px;font-size:x-small;text-align:center;border-spacing:0px;background-color:#d3d3d3;cursor:pointer}.priceLabel[_ngcontent-%COMP%]{width:60px;text-align:center}.selectedItem[_ngcontent-%COMP%]{background-color:#ffffe0}.ownedItem[_ngcontent-%COMP%]{background-color:#a9a9a9!important;border:1px solid darkgray!important}.itemSlot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{line-height:12px}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}table[_ngcontent-%COMP%]{width:100%}.inputBox[_ngcontent-%COMP%]{width:70px}.optionField[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:2px}.scrollingDiv[_ngcontent-%COMP%]{max-height:200px;overflow:auto}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#efefef;display:flex;flex-direction:column;flex-grow:1}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column}.rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:360px;max-width:320px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.attributesPanel[_ngcontent-%COMP%]{overflow:auto}.activityPanel[_ngcontent-%COMP%]{flex-grow:3;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{flex-grow:1;height:160px;min-height:160px;max-height:160px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}.cheat[_ngcontent-%COMP%]{font-size:3px}.panel[_ngcontent-%COMP%]{background-color:#fcfcfc;margin:4px;border:2px solid #121212;border-radius:4px;box-shadow:2px 2px 2px 1px #aaa}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid #121212;color:#000;font-size:14px;font-weight:400;margin:0 4px}"]}),n})();const fp="immortalityIdleGameState";let Rw=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u){this.characterService=e,this.homeService=i,this.inventoryService=r,this.logService=o,this.reincarnationService=s,this.activityService=a,this.itemRepoService=l,this.battleService=c,this.mainLoopService=u,window.setInterval(this.savetoLocalStorage.bind(this),1e4)}savetoLocalStorage(){const e={character:this.characterService.characterState.getProperties(),inventory:this.inventoryService.getProperties(),home:this.homeService.getProperties(),activities:this.activityService.getProperties(),battles:this.battleService.getProperties(),logs:this.logService.getProperties(),mainLoop:this.mainLoopService.getProperties()};window.localStorage.setItem(fp,JSON.stringify(e)),this.logService.addLogMessage("Game saved","STANDARD","SYSTEM")}loadFromLocalStorage(){console.log("loaded");const e=window.localStorage.getItem(fp);if(!e)return;const i=JSON.parse(e);this.characterService.characterState.setProperties(i.character),this.homeService.setProperties(i.home),this.inventoryService.setProperties(i.inventory);for(const r of this.inventoryService.itemStacks){if(null==r)continue;const o=this.itemRepoService.getItemById(r.item.id);o&&(r.item=o)}this.activityService.setProperties(i.activities),this.battleService.setProperties(i.battles),this.logService.setProperties(i.logs),this.logService.addLogMessage("Game loaded","STANDARD","SYSTEM"),this.mainLoopService.setProperties(i.mainLoop)}hardReset(){window.localStorage.removeItem(fp),this.reincarnationService.reincarnate()}rebirth(){this.characterService.forceRebirth=!0}cheat(){this.logService.addLogMessage("You dirty cheater! You pressed the cheat button!","STANDARD","SYSTEM"),this.characterService.characterState.money=1e9;for(let i in this.itemRepoService.items){let r=this.itemRepoService.items[i];"manual"==r.type&&r.use&&r.use()}const e=Object.keys(this.characterService.characterState.attributes);for(const i in e)this.characterService.characterState.attributes[e[i]].aptitude+=1e3}}return n.\u0275fac=function(e){return new(e||n)(g(bt),g(Tt),g(He),g(hi),g(Ao),g(Qs),g(lr),g(To),g(fi))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const g2=["addListener","removeListener"],m2=["addEventListener","removeEventListener"],v2=["on","off"];function pp(n,t,e,i){if(ce(e)&&(i=e,e=void 0),i)return pp(n,t,e).pipe(sf(i));const[r,o]=function b2(n){return ce(n.addEventListener)&&ce(n.removeEventListener)}(n)?m2.map(s=>a=>n[s](t,a,e)):function y2(n){return ce(n.addListener)&&ce(n.removeListener)}(n)?g2.map(Fw(n,t)):function _2(n){return ce(n.on)&&ce(n.off)}(n)?v2.map(Fw(n,t)):[];if(!r&&Zc(n))return Xe(s=>pp(s,t,e))(Rt(n));if(!r)throw new TypeError("Invalid event target");return new Ie(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function Fw(n,t){return e=>i=>n[e](t,i)}class C2 extends lt{constructor(t,e){super()}schedule(t,e=0){return this}}const bc={setInterval(n,t,...e){const{delegate:i}=bc;return(null==i?void 0:i.setInterval)?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=bc;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};class gp extends C2{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return bc.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;bc.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Sr(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const la={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=la;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new lt(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=la;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=la;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},Nw={now:()=>(Nw.delegate||Date).now(),delegate:void 0};class ca{constructor(t,e=ca.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}ca.now=Nw.now;class mp extends ca{constructor(t,e=ca.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}new class w2 extends mp{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class S2 extends gp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=la.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(la.cancelAnimationFrame(e),t._scheduled=void 0)}});let vp,E2=1;const Cc={};function Lw(n){return n in Cc&&(delete Cc[n],!0)}const M2={setImmediate(n){const t=E2++;return Cc[t]=!0,vp||(vp=Promise.resolve()),vp.then(()=>Lw(t)&&n()),t},clearImmediate(n){Lw(n)}},{setImmediate:x2,clearImmediate:A2}=M2,Sc={setImmediate(...n){const{delegate:t}=Sc;return((null==t?void 0:t.setImmediate)||x2)(...n)},clearImmediate(n){const{delegate:t}=Sc;return((null==t?void 0:t.clearImmediate)||A2)(n)},delegate:void 0},Vw=(new class I2 extends mp{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class T2 extends gp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Sc.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(Sc.clearImmediate(e),t._scheduled=void 0)}}),new mp(gp)),P2=Vw;function Bw(n,t=Vw){return function O2(n){return qe((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const c=r;r=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(Re(e,c=>{i=!0,r=c,o||Rt(n(c)).subscribe(o=Re(e,a,l))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>function F2(n=0,t,e=P2){let i=-1;return null!=t&&(yg(t)?e=t:i=t),new Ie(r=>{let o=function R2(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,t))}let L2=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new ve,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ie(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Bw(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):U()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(zt(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=rc(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>pp(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(g(ge),g(gi),g(re,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hw=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new ve,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Bw(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(g(gi),g(ge),g(re,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=je({}),n})(),Uw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=je({imports:[[Js,jw],Js,jw]}),n})();class yp{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class _p extends yp{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class $w extends yp{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class B2 extends yp{constructor(t){super(),this.element=t instanceof Ye?t.nativeElement:t}}class bp{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof _p?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof $w?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof B2?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class H2 extends bp{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Le.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let qw=(()=>{class n extends bp{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new be,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(b(Ti),b(an),b(re))},n.\u0275dir=H({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ue]}),n})(),zw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=je({}),n})();const Gw=HL();class j2{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Qe(-this._previousScrollPosition.left),t.style.top=Qe(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Gw&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Gw&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class U2{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ww{enable(){}disable(){}attach(){}}function Cp(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function Yw(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class $2{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Cp(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let q2=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Ww,this.close=s=>new U2(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new j2(this._viewportRuler,this._document),this.reposition=s=>new $2(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(g(L2),g(Hw),g(ge),g(re))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Kw{constructor(t){if(this.scrollStrategy=new Ww,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class z2{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class G2{constructor(t,e,i,r,o,s,a,l,c){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new ve,this._attachments=new ve,this._detachments=new ve,this._locationChanges=lt.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new ve,this._outsidePointerEvents=new ve,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(In(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Qe(this._config.width),t.height=Qe(this._config.height),t.minWidth=Qe(this._config.minWidth),t.minHeight=Qe(this._config.minHeight),t.maxWidth=Qe(this._config.maxWidth),t.maxHeight=Qe(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=QS(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(ZS(wg(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let Sp=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Bf()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),Bf()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(g(re),g(gi))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zw="cdk-overlay-connected-position-bounding-box",W2=/([A-Za-z%]+)$/;class Y2{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ve,this._resizeSubscription=lt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Zw),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,e,a),u=this._getOverlayFit(c,e,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?o.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(o.length){let a=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&gr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Zw),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?s:a}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=Xw(e);let{x:s,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let h=0-a,f=a+o.height-i.height,p=this._subtractOverflows(o.width,0-s,s+o.width-i.width),m=this._subtractOverflows(o.height,h,f),C=p*m;return{visibleArea:C,isCompletelyWithinViewport:o.width*o.height===C,fitsInViewportVertically:m===o.height,fitsInViewportHorizontally:p==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=Qw(this._overlayRef.getConfig().minHeight),a=Qw(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportHorizontally||null!=a&&a<=o;return(t.fitsInViewportVertically||null!=s&&s<=r)&&c}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Xw(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0);let u=0,d=0;return u=r.width<=o.width?c||-s:t.x<this._viewportMargin?o.left-i.left-t.x:0,d=r.height<=o.height?l||-a:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:u,y:d},{x:t.x+u,y:t.y+d}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new z2(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,s,a,u,d,h;if("top"===e.overlayY)s=t.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-t.y+i.top,t.y),p=this._lastBoundingBoxSize.height;o=2*f,s=t.y-f,o>p&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-p/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)h=i.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)d=t.x,u=i.right-t.x;else{const f=Math.min(i.right-t.x+i.left,t.x),p=this._lastBoundingBoxSize.width;u=2*f,d=t.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.x-p/2)}return{top:s,left:d,bottom:a,right:h,width:u,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Qe(i.height),r.top=Qe(i.top),r.bottom=Qe(i.bottom),r.width=Qe(i.width),r.left=Qe(i.left),r.right=Qe(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Qe(o)),s&&(r.maxWidth=Qe(s))}this._lastBoundingBoxSize=i,gr(this._boundingBox.style,r)}_resetBoundingBoxStyles(){gr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){gr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();gr(i,this._getExactOverlayY(e,t,u)),gr(i,this._getExactOverlayX(e,t,u))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=Qe(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=Qe(s.maxWidth):o&&(i.maxWidth="")),gr(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Qe(o.y),r}_getExactOverlayX(t,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Qe(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Yw(t,i),isOriginOutsideView:Cp(t,i),isOverlayClipped:Yw(e,i),isOverlayOutsideView:Cp(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&QS(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Ye)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function gr(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Qw(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(W2);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Xw(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Jw="cdk-global-overlay-wrapper";class K2{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Jw),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a);t.position=this._cssPosition,t.marginLeft=l?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,l?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(Jw),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Z2=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new K2}flexibleConnectedTo(e){return new Y2(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(g(Hw),g(re),g(gi),g(Sp))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eD=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(g(re))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q2=(()=>{class n extends eD{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(g(re),g(ge,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X2=(()=>{class n extends eD{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=ur(o)},this._clickListener=o=>{const s=ur(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(g(re),g(gi),g(ge,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J2=0,wc=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,d,h){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new Kw(e);return s.direction=s.direction||this._directionality.value,new G2(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+J2++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Ts)),new H2(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(g(q2),g(Sp),g(Ti),g(Z2),g(Q2),g(Le),g(ge),g(re),g(Rf),g(Ps),g(X2))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const nH={provide:new N("cdk-connected-overlay-scroll-strategy"),deps:[wc],useFactory:function tH(n){return()=>n.scrollStrategies.reposition()}};let iH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=je({providers:[wc,nH],imports:[[Js,zw,Uw],Uw]}),n})();class tD{}const mi="*";function oH(n,t){return{type:7,name:n,definitions:t,options:{}}}function nD(n,t=null){return{type:4,styles:t,timings:n}}function iD(n,t=null){return{type:3,steps:n,options:t}}function rD(n,t=null){return{type:2,steps:n,options:t}}function Oo(n){return{type:6,styles:n,offset:null}}function oD(n,t,e){return{type:0,name:n,styles:t,options:e}}function sD(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function aD(n=null){return{type:9,options:n}}function lD(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function cD(n){Promise.resolve(null).then(n)}class ua{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){cD(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class uD{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?cD(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const se=!1;function dD(n){return new R(3e3,se)}function BH(){return"undefined"!=typeof window&&void 0!==window.document}function Dp(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Li(n){switch(n.length){case 0:return new ua;case 1:return n[0];default:return new uD(n)}}function hD(n,t,e,i,r={},o={}){const s=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.offset,h=d==l,f=h&&c||{};Object.keys(u).forEach(p=>{let m=p,C=u[p];if("offset"!==p)switch(m=t.normalizePropertyName(m,s),C){case"!":C=r[p];break;case mi:C=o[p];break;default:C=t.normalizeStyleValue(p,m,C,s)}f[m]=C}),h||a.push(f),c=f,l=d}),s.length)throw function AH(n){return new R(3502,se)}();return a}function Ep(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Mp(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Mp(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Mp(e,"destroy",n)))}}function Mp(n,t,e){const i=e.totalTime,o=xp(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function xp(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Wt(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function fD(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Ap=(n,t)=>!1,pD=(n,t,e)=>[],gD=null;function Tp(n){const t=n.parentNode||n.host;return t===gD?null:t}(Dp()||"undefined"!=typeof Element)&&(BH()?(gD=(()=>document.documentElement)(),Ap=(n,t)=>{for(;t;){if(t===n)return!0;t=Tp(t)}return!1}):Ap=(n,t)=>n.contains(t),pD=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let mr=null,mD=!1;function vD(n){mr||(mr=function jH(){return"undefined"!=typeof document?document.body:null}()||{},mD=!!mr.style&&"WebkitAppearance"in mr.style);let t=!0;return mr.style&&!function HH(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in mr.style,!t&&mD&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in mr.style)),t}const yD=Ap,_D=pD;let bD=(()=>{class n{validateStyleProperty(e){return vD(e)}matchesElement(e,i){return!1}containsElement(e,i){return yD(e,i)}getParentElement(e){return Tp(e)}query(e,i,r){return _D(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new ua(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),Ip=(()=>{class n{}return n.NOOP=new bD,n})();const kp="ng-enter",Ec="ng-leave",Mc="ng-trigger",xc=".ng-trigger",SD="ng-animating",Pp=".ng-animating";function vr(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Op(parseFloat(t[1]),t[2])}function Op(n,t){return"s"===t?1e3*n:n}function Ac(n,t,e){return n.hasOwnProperty("duration")?n:function qH(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(dD()),{duration:0,delay:0,easing:""};r=Op(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=Op(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function sH(){return new R(3100,se)}()),a=!0),o<0&&(t.push(function aH(){return new R(3101,se)}()),a=!0),a&&t.splice(l,0,dD())}return{duration:r,delay:o,easing:s}}(n,t,e)}function Ro(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Vi(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Ro(n,e);return e}function DD(n,t,e){return e?t+":"+e+";":""}function ED(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=DD(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=DD(0,WH(e),n.style[e]));n.setAttribute("style",t)}function Yn(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=Fp(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),Dp()&&ED(n))}function yr(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=Fp(e);n.style[i]=""}),Dp()&&ED(n))}function da(n){return Array.isArray(n)?1==n.length?n[0]:rD(n):n}const Rp=new RegExp("{{\\s*(.+?)\\s*}}","g");function MD(n){let t=[];if("string"==typeof n){let e;for(;e=Rp.exec(n);)t.push(e[1]);Rp.lastIndex=0}return t}function Tc(n,t,e){const i=n.toString(),r=i.replace(Rp,(o,s)=>{let a=t[s];return t.hasOwnProperty(s)||(e.push(function cH(n){return new R(3003,se)}()),a=""),a.toString()});return r==i?n:r}function Ic(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const GH=/-+([a-z0-9])/g;function Fp(n){return n.replace(GH,(...t)=>t[1].toUpperCase())}function WH(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Yt(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function uH(n){return new R(3004,se)}()}}function xD(n,t){return window.getComputedStyle(n)[t]}function JH(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function ej(n,t,e){if(":"==n[0]){const l=function tj(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function DH(n){return new R(3016,se)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function wH(n){return new R(3015,se)}()),t;const r=i[1],o=i[2],s=i[3];t.push(AD(r,s));"<"==o[0]&&!("*"==r&&"*"==s)&&t.push(AD(s,r))}(i,e,t)):e.push(n),e}const Rc=new Set(["true","1"]),Fc=new Set(["false","0"]);function AD(n,t){const e=Rc.has(n)||Fc.has(n),i=Rc.has(t)||Fc.has(t);return(r,o)=>{let s="*"==n||n==r,a="*"==t||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?Rc.has(n):Fc.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Rc.has(t):Fc.has(t)),s&&a}}const nj=new RegExp("s*:selfs*,?","g");function Np(n,t,e,i){return new ij(n).build(t,e,i)}class ij{constructor(t){this._driver=t}build(t,e,i){const r=new sj(e);this._resetContextStyleTimingState(r);const o=Yt(this,da(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),o}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function hH(){return new R(3006,se)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function fH(){return new R(3007,se)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{if(Nc(a)){const l=a;Object.keys(l).forEach(c=>{MD(l[c]).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}}),o.size&&(Ic(o.values()),e.errors.push(function pH(n,t){return new R(3008,se)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Yt(this,da(t.animation),e);return{type:1,matchers:JH(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:_r(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Yt(this,i,e)),options:_r(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=Yt(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:_r(t.options)}}visitAnimate(t,e){const i=function lj(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Lp(Ac(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Lp(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=Ac(e,t);return Lp(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Oo({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=Oo(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(s=>{"string"==typeof s?s==mi?i.push(s):e.errors.push(function gH(n){return new R(3002,se)}()):i.push(s)}):i.push(t.styles);let r=!1,o=null;return i.forEach(s=>{if(Nc(s)){const a=s,l=a.easing;if(l&&(o=l,delete a.easing),!r)for(let c in a)if(a[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&Object.keys(s).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete s[a],void e.unsupportedCSSPropertiesFound.add(a);const l=e.collectedStyles[e.currentQuerySelector],c=l[a];let u=!0;c&&(o!=r&&o>=c.startTime&&r<=c.endTime&&(e.errors.push(function mH(n,t,e,i,r){return new R(3010,se)}()),u=!1),o=c.startTime),u&&(l[a]={startTime:o,endTime:r}),e.options&&function zH(n,t,e){const i=t.params||{},r=MD(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function lH(n){return new R(3001,se)}())})}(s[a],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function vH(){return new R(3011,se)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const u=t.steps.map(D=>{const _=this._makeStyleAst(D,e);let T=null!=_.offset?_.offset:function aj(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Nc(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Nc(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(_.styles),L=0;return null!=T&&(o++,L=_.offset=T),l=l||L<0||L>1,a=a||L<c,c=L,s.push(L),_});l&&e.errors.push(function yH(){return new R(3012,se)}()),a&&e.errors.push(function _H(){return new R(3200,se)}());const d=t.steps.length;let h=0;o>0&&o<d?e.errors.push(function bH(){return new R(3202,se)}()):0==o&&(h=1/(d-1));const f=d-1,p=e.currentTime,m=e.currentAnimateTimings,C=m.duration;return u.forEach((D,_)=>{const T=h>0?_==f?1:h*_:s[_],L=T*C;e.currentTime=p+m.delay+L,m.duration=L,this._validateStyleAst(D,e),D.offset=T,i.styles.push(D)}),i}visitReference(t,e){return{type:8,animation:Yt(this,da(t.animation),e),options:_r(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:_r(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:_r(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function rj(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(nj,"")),n=n.replace(/@\*/g,xc).replace(/@\w+/g,e=>xc+"-"+e.substr(1)).replace(/:animating/g,Pp),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Wt(e.collectedStyles,e.currentQuerySelector,{});const a=Yt(this,da(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:_r(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function CH(){return new R(3013,se)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ac(t.timings,e.errors,!0);return{type:12,animation:Yt(this,da(t.animation),e),timings:i,options:null}}}class sj{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Nc(n){return!Array.isArray(n)&&"object"==typeof n}function _r(n){return n?(n=Ro(n)).params&&(n.params=function oj(n){return n?Ro(n):null}(n.params)):n={},n}function Lp(n,t,e){return{duration:n,delay:t,easing:e}}function Vp(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Lc{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const dj=new RegExp(":enter","g"),fj=new RegExp(":leave","g");function Bp(n,t,e,i,r,o={},s={},a,l,c=[]){return(new pj).buildKeyframes(n,t,e,i,r,o,s,a,l,c)}class pj{buildKeyframes(t,e,i,r,o,s,a,l,c,u=[]){c=c||new Lc;const d=new Hp(t,e,c,r,o,u,[]);d.options=l,d.currentTimeline.setStyles([s],null,d.errors,l),Yt(this,i,d);const h=d.timelines.filter(f=>f.containsAnimation());if(Object.keys(a).length){let f;for(let p=h.length-1;p>=0;p--){const m=h[p];if(m.element===e){f=m;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,d.errors,l)}return h.length?h.map(f=>f.buildKeyframes()):[Vp(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?vr(i.duration):null,a=null!=i.delay?vr(i.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Yt(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Vc);const s=vr(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Yt(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?vr(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),Yt(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Ac(e.params?Tc(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?vr(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Vc);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);o&&d.delayNextStep(o),c===e.element&&(l=d.currentTimeline),Yt(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Yt(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const Vc={};class Hp{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Bc(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=vr(i.duration)),null!=i.delay&&(r.delay=vr(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Tc(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new Hp(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Vc,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new gj(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(dj,"."+this._enterClassName)).replace(fj,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function SH(n){return new R(3014,se)}()),a}}class Bc{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Bc(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||mi,this._currentKeyframe[e]=mi}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const o=r&&r.params||{},s=function mj(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{e[o]=mi})):Vi(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(s).forEach(a=>{const l=Tc(s[a],o,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:mi),this._updateStyle(a,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Vi(a,!0);Object.keys(c).forEach(u=>{const d=c[u];"!"==d?t.add(u):d==mi&&e.add(u)}),i||(c.offset=l/this.duration),r.push(c)});const o=t.size?Ic(t.values()):[],s=e.size?Ic(e.values()):[];if(i){const a=r[0],l=Ro(a);a.offset=0,l.offset=1,r=[a,l]}return Vp(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class gj extends Bc{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=Vi(t[0],!1);l.offset=0,o.push(l);const c=Vi(t[0],!1);c.offset=kD(a),o.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let h=Vi(t[d],!1);h.offset=kD((e+h.offset*i)/s),o.push(h)}i=s,e=0,r="",t=o}return Vp(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function kD(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class jp{}class vj extends jp{normalizePropertyName(t,e){return Fp(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(yj[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function dH(n,t){return new R(3005,se)}())}return s+o}}const yj=(()=>function _j(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function PD(n,t,e,i,r,o,s,a,l,c,u,d,h){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const Up={};class OD{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function bj(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],o=this._stateStyles[t],s=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):s}build(t,e,i,r,o,s,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||Up,p=this.buildStyles(i,a&&a.params||Up,d),m=l&&l.params||Up,C=this.buildStyles(r,m,d),D=new Set,_=new Map,T=new Map,L="void"===r,ee={params:Object.assign(Object.assign({},h),m)},Te=u?[]:Bp(t,e,this.ast.animation,o,s,p,C,ee,c,d);let Pe=0;if(Te.forEach(Zt=>{Pe=Math.max(Zt.duration+Zt.delay,Pe)}),d.length)return PD(e,this._triggerName,i,r,L,p,C,[],[],_,T,Pe,d);Te.forEach(Zt=>{const Qt=Zt.element,Lo=Wt(_,Qt,{});Zt.preStyleProps.forEach(Tn=>Lo[Tn]=!0);const vi=Wt(T,Qt,{});Zt.postStyleProps.forEach(Tn=>vi[Tn]=!0),Qt!==e&&D.add(Qt)});const Kt=Ic(D.values());return PD(e,this._triggerName,i,r,L,p,C,Te,Kt,_,T,Pe)}}class Cj{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Ro(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!=s&&(r[o]=s)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const s=o;Object.keys(s).forEach(a=>{let l=s[a];l.length>1&&(l=Tc(l,r,e));const c=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,c,l,e),i[c]=l})}}),i}}class wj{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new Cj(r.style,r.options&&r.options.params||{},i)}),RD(this.states,"true","1"),RD(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new OD(t,r,this.states))}),this.fallbackTransition=function Dj(n,t,e){return new OD(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function RD(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const Ej=new Lc;class Mj{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],o=Np(this._driver,e,i,[]);if(i.length)throw function TH(n){return new R(3503,se)}();this._animations[t]=o}_buildPlayer(t,e,i){const r=t.element,o=hD(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations[t];let s;const a=new Map;if(o?(s=Bp(this._driver,e,o,kp,Ec,{},{},i,Ej,r),s.forEach(u=>{const d=Wt(a,u.element,{});u.postStyleProps.forEach(h=>d[h]=null)})):(r.push(function IH(){return new R(3300,se)}()),s=[]),r.length)throw function kH(n){return new R(3504,se)}();a.forEach((u,d)=>{Object.keys(u).forEach(h=>{u[h]=this._driver.computeStyle(d,h,mi)})});const c=Li(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,{},d)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function PH(n){return new R(3301,se)}();return e}listen(t,e,i,r){const o=xp(e,"","","");return Ep(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const FD="ng-animate-queued",$p="ng-animate-disabled",kj=[],ND={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Pj={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hn="__ng_removed";class qp{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function Nj(n){return null!=n?n:null}(i?t.value:t),i){const o=Ro(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const ha="void",zp=new qp(ha);class Oj{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,fn(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function OH(n,t){return new R(3302,se)}();if(null==i||0==i.length)throw function RH(n){return new R(3303,se)}();if(!function Lj(n){return"start"==n||"done"==n}(i))throw function FH(n,t){return new R(3400,se)}();const o=Wt(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=Wt(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(fn(t,Mc),fn(t,Mc+"-"+e),a[e]=zp),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function NH(n){return new R(3401,se)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new Gp(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(fn(t,Mc),fn(t,Mc+"-"+e),this._engine.statesByElement.set(t,a={}));let l=a[e];const c=new qp(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[e]=c,l||(l=zp),c.value!==ha&&l.value===c.value){if(!function Hj(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const m=[],C=o.matchStyles(l.value,l.params,m),D=o.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{yr(t,C),Yn(t,D)})}return}const h=Wt(this._engine.playersByElement,t,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==e&&m.queued&&m.destroy()});let f=o.matchTransition(l.value,c.value,t,c.params),p=!1;if(!f){if(!r)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:s,isFallbackTransition:p}),p||(fn(t,FD),s.onStart(()=>{Fo(t,FD)})),s.onDone(()=>{let m=this.players.indexOf(s);m>=0&&this.players.splice(m,1);const C=this._engine.playersByElement.get(t);if(C){let D=C.indexOf(s);D>=0&&C.splice(D,1)}}),this.players.push(s),h.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,xc,!0);i.forEach(r=>{if(r[hn])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(Object.keys(o).forEach(l=>{if(s.set(l,o[l].value),this._triggers[l]){const c=this.trigger(t,l,ha,r);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&Li(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers[s].fallbackTransition,c=i[s]||zp,u=new qp(ha),d=new Gp(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[hn];(!o||o===ND)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){fn(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=xp(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,Ep(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Rj{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Oj(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,o=i.length-1;if(o>=0){let s=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}}else for(let a=o;a>=0;a--)if(this.driver.containsElement(i[a].hostElement,e)){i.splice(a+1,0,t),s=!0;break}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const s=i[r[o]].namespaceId;if(s){const a=this._fetchNamespace(s);a&&e.add(a)}}}return e}trigger(t,e,i,r){if(Hc(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Hc(e))return;const o=e[hn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),fn(t,$p)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Fo(t,$p))}removeNode(t,e,i,r){if(Hc(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[hn]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return Hc(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,xc,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Pp,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Li(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[hn];if(i&&i.setForRemoval){if(t[hn]=ND,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains($p))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)fn(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Li(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function LH(n){return new R(3402,se)}()}_flushAnimations(t,e){const i=new Lc,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(F=>{u.add(F);const B=this.driver.query(F,".ng-animate-queued",!0);for(let z=0;z<B.length;z++)u.add(B[z])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=BD(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((F,B)=>{const z=kp+m++;p.set(B,z),F.forEach(he=>fn(he,z))});const C=[],D=new Set,_=new Set;for(let F=0;F<this.collectedLeaveElements.length;F++){const B=this.collectedLeaveElements[F],z=B[hn];z&&z.setForRemoval&&(C.push(B),D.add(B),z.hasAnimation?this.driver.query(B,".ng-star-inserted",!0).forEach(he=>D.add(he)):_.add(B))}const T=new Map,L=BD(h,Array.from(D));L.forEach((F,B)=>{const z=Ec+m++;T.set(B,z),F.forEach(he=>fn(he,z))}),t.push(()=>{f.forEach((F,B)=>{const z=p.get(B);F.forEach(he=>Fo(he,z))}),L.forEach((F,B)=>{const z=T.get(B);F.forEach(he=>Fo(he,z))}),C.forEach(F=>{this.processLeaveNode(F)})});const ee=[],Te=[];for(let F=this._namespaceList.length-1;F>=0;F--)this._namespaceList[F].drainQueuedTransitions(e).forEach(z=>{const he=z.player,at=z.element;if(ee.push(he),this.collectedEnterElements.length){const kt=at[hn];if(kt&&kt.setForMove){if(kt.previousTriggersValues&&kt.previousTriggersValues.has(z.triggerName)){const br=kt.previousTriggersValues.get(z.triggerName),Hi=this.statesByElement.get(z.element);Hi&&Hi[z.triggerName]&&(Hi[z.triggerName].value=br)}return void he.destroy()}}const Kn=!d||!this.driver.containsElement(d,at),Xt=T.get(at),Bi=p.get(at),Oe=this._buildInstruction(z,i,Bi,Xt,Kn);if(Oe.errors&&Oe.errors.length)return void Te.push(Oe);if(Kn)return he.onStart(()=>yr(at,Oe.fromStyles)),he.onDestroy(()=>Yn(at,Oe.toStyles)),void r.push(he);if(z.isFallbackTransition)return he.onStart(()=>yr(at,Oe.fromStyles)),he.onDestroy(()=>Yn(at,Oe.toStyles)),void r.push(he);const JD=[];Oe.timelines.forEach(kt=>{kt.stretchStartingKeyframe=!0,this.disabledNodes.has(kt.element)||JD.push(kt)}),Oe.timelines=JD,i.append(at,Oe.timelines),s.push({instruction:Oe,player:he,element:at}),Oe.queriedElements.forEach(kt=>Wt(a,kt,[]).push(he)),Oe.preStyleProps.forEach((kt,br)=>{const Hi=Object.keys(kt);if(Hi.length){let Cr=l.get(br);Cr||l.set(br,Cr=new Set),Hi.forEach(Qp=>Cr.add(Qp))}}),Oe.postStyleProps.forEach((kt,br)=>{const Hi=Object.keys(kt);let Cr=c.get(br);Cr||c.set(br,Cr=new Set),Hi.forEach(Qp=>Cr.add(Qp))})});if(Te.length){const F=[];Te.forEach(B=>{F.push(function VH(n,t){return new R(3505,se)}())}),ee.forEach(B=>B.destroy()),this.reportError(F)}const Pe=new Map,Kt=new Map;s.forEach(F=>{const B=F.element;i.has(B)&&(Kt.set(B,B),this._beforeAnimationBuild(F.player.namespaceId,F.instruction,Pe))}),r.forEach(F=>{const B=F.element;this._getPreviousPlayers(B,!1,F.namespaceId,F.triggerName,null).forEach(he=>{Wt(Pe,B,[]).push(he),he.destroy()})});const Zt=C.filter(F=>jD(F,l,c)),Qt=new Map;VD(Qt,this.driver,_,c,mi).forEach(F=>{jD(F,l,c)&&Zt.push(F)});const vi=new Map;f.forEach((F,B)=>{VD(vi,this.driver,new Set(F),l,"!")}),Zt.forEach(F=>{const B=Qt.get(F),z=vi.get(F);Qt.set(F,Object.assign(Object.assign({},B),z))});const Tn=[],Vo=[],Bo={};s.forEach(F=>{const{element:B,player:z,instruction:he}=F;if(i.has(B)){if(u.has(B))return z.onDestroy(()=>Yn(B,he.toStyles)),z.disabled=!0,z.overrideTotalTime(he.totalTime),void r.push(z);let at=Bo;if(Kt.size>1){let Xt=B;const Bi=[];for(;Xt=Xt.parentNode;){const Oe=Kt.get(Xt);if(Oe){at=Oe;break}Bi.push(Xt)}Bi.forEach(Oe=>Kt.set(Oe,at))}const Kn=this._buildAnimation(z.namespaceId,he,Pe,o,vi,Qt);if(z.setRealPlayer(Kn),at===Bo)Tn.push(z);else{const Xt=this.playersByElement.get(at);Xt&&Xt.length&&(z.parentPlayer=Li(Xt)),r.push(z)}}else yr(B,he.fromStyles),z.onDestroy(()=>Yn(B,he.toStyles)),Vo.push(z),u.has(B)&&r.push(z)}),Vo.forEach(F=>{const B=o.get(F.element);if(B&&B.length){const z=Li(B);F.setRealPlayer(z)}}),r.forEach(F=>{F.parentPlayer?F.syncPlayerEvents(F.parentPlayer):F.destroy()});for(let F=0;F<C.length;F++){const B=C[F],z=B[hn];if(Fo(B,Ec),z&&z.hasAnimation)continue;let he=[];if(a.size){let Kn=a.get(B);Kn&&Kn.length&&he.push(...Kn);let Xt=this.driver.query(B,Pp,!0);for(let Bi=0;Bi<Xt.length;Bi++){let Oe=a.get(Xt[Bi]);Oe&&Oe.length&&he.push(...Oe)}}const at=he.filter(Kn=>!Kn.destroyed);at.length?Vj(this,B,at):this.processLeaveNode(B)}return C.length=0,Tn.forEach(F=>{this.players.push(F),F.onDone(()=>{F.destroy();const B=this.players.indexOf(F);this.players.splice(B,1)}),F.play()}),Tn}elementContainsData(t,e){let i=!1;const r=e[hn];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==ha;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==o,d=Wt(i,c,[]);this._getPreviousPlayers(c,u,s,a,e.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}yr(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,h=e.timelines.map(p=>{const m=p.element;u.add(m);const C=m[hn];if(C&&C.removedBeforeQueried)return new ua(p.duration,p.delay);const D=m!==l,_=function Bj(n){const t=[];return HD(n,t),t}((i.get(m)||kj).map(Pe=>Pe.getRealPlayer())).filter(Pe=>!!Pe.element&&Pe.element===m),T=o.get(m),L=s.get(m),ee=hD(0,this._normalizer,0,p.keyframes,T,L),Te=this._buildPlayer(p,ee,_);if(p.subTimeline&&r&&d.add(m),D){const Pe=new Gp(t,a,m);Pe.setRealPlayer(Te),c.push(Pe)}return Te});c.forEach(p=>{Wt(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Fj(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>fn(p,SD));const f=Li(h);return f.onDestroy(()=>{u.forEach(p=>Fo(p,SD)),Yn(l,e.toStyles)}),d.forEach(p=>{Wt(r,p,[]).push(f)}),f}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new ua(t.duration,t.delay)}}class Gp{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new ua,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>Ep(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Wt(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Hc(n){return n&&1===n.nodeType}function LD(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function VD(n,t,e,i,r){const o=[];e.forEach(l=>o.push(LD(l)));const s=[];i.forEach((l,c)=>{const u={};l.forEach(d=>{const h=u[d]=t.computeStyle(c,d,r);(!h||0==h.length)&&(c[hn]=Pj,s.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>LD(l,o[a++])),s}function BD(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function fn(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Fo(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function Vj(n,t,e){Li(e).onDone(()=>n.processLeaveNode(t))}function HD(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof uD?HD(i.players,t):t.push(i)}}function jD(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class jc{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new Rj(t,e,i),this._timelineEngine=new Mj(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],u=Np(this._driver,o,l,[]);if(l.length)throw function xH(n,t){return new R(3404,se)}();a=function Sj(n,t,e){return new wj(n,t,e)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=fD(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=fD(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Uj=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Yn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Yn(this._element,this._initialStyles),this._endStyles&&(Yn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(yr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yr(this._element,this._endStyles),this._endStyles=null),Yn(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Wp(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];$j(r)&&(t=t||{},t[r]=n[r])}return t}function $j(n){return"display"===n||"position"===n}class UD{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:xD(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class qj{validateStyleProperty(t){return vD(t)}matchesElement(t,e){return!1}containsElement(t,e){return yD(t,e)}getParentElement(t){return Tp(t)}query(t,e,i){return _D(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c={},u=s.filter(h=>h instanceof UD);(function YH(n,t){return 0===n||0===t})(i,r)&&u.forEach(h=>{let f=h.currentSnapshot;Object.keys(f).forEach(p=>c[p]=f[p])}),e=function KH(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],s=[];if(i.forEach(a=>{o.hasOwnProperty(a)||s.push(a),o[a]=e[a]}),s.length)for(var r=1;r<t.length;r++){let a=t[r];s.forEach(function(l){a[l]=xD(n,l)})}}return t}(t,e=e.map(h=>Vi(h,!1)),c);const d=function jj(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Wp(t[0]),t.length>1&&(i=Wp(t[t.length-1]))):t&&(e=Wp(t)),e||i?new Uj(n,e,i):null}(t,e);return new UD(t,e,l,d)}}let zj=(()=>{class n extends tD{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:gn.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?rD(e):e;return $D(this._renderer,null,i,"register",[r]),new Gj(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(g(ws),g(re))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();class Gj extends class rH{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Wj(this._id,t,e||{},this._renderer)}}class Wj{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return $D(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function $D(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const qD="@.disabled";let Yj=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=null==s?void 0:s.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new zD("",o,this.engine),this._rendererCache.set(o,u)),u}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,e,u.name,u)};return i.data.animation.forEach(l),new Kj(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(g(ws),g(jc),g(ge))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();class zD{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==qD?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Kj extends zD{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==qD?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Zj(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),s="";return"@"!=o.charAt(0)&&([o,s]=function Qj(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let Xj=(()=>{class n extends jc{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(g(re),g(Ip),g(jp))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const Yp=new N("AnimationModuleType"),GD=[{provide:tD,useClass:zj},{provide:jp,useFactory:function Jj(){return new vj}},{provide:jc,useClass:Xj},{provide:ws,useFactory:function eU(n,t,e){return new Yj(n,t,e)},deps:[Hl,jc,ge]}],WD=[{provide:Ip,useFactory:()=>new qj},{provide:Yp,useValue:"BrowserAnimations"},...GD],tU=[{provide:Ip,useClass:bD},{provide:Yp,useValue:"NoopAnimations"},...GD];let nU=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?tU:WD}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=je({providers:WD,imports:[AC]}),n})();function iU(n,t){}class Kp{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const rU={dialogContainer:oH("dialogContainer",[oD("void, exit",Oo({opacity:0,transform:"scale(0.7)"})),oD("enter",Oo({transform:"none"})),sD("* => enter",iD([nD("150ms cubic-bezier(0, 0, 0.2, 1)",Oo({transform:"none",opacity:1})),lD("@*",aD(),{optional:!0})])),sD("* => void, * => exit",iD([nD("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Oo({opacity:0})),lD("@*",aD(),{optional:!0})]))])};let oU=(()=>{class n extends bp{constructor(e,i,r,o,s,a,l,c){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=s,this._interactivityChecker=a,this._ngZone=l,this._focusMonitor=c,this._animationStateChanged=new be,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(u)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=o}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Vf())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=Vf(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Vf();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(b(Ye),b(pV),b(Is),b(re,8),b(Kp),b(e0),b(ge),b(SV))},n.\u0275dir=H({type:n,viewQuery:function(e,i){if(1&e&&ab(qw,7),2&e){let r;yl(r=function _l(){return function Wk(n,t){return n[19].queries[t].queryList}(E(),Gg())}())&&(i._portalOutlet=r.first)}},features:[ue]}),n})(),sU=(()=>{class n extends oU{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=ut(n)))(i||n)}}(),n.\u0275cmp=ct({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&qd("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(Kd("id",i._id),sn("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),Zd("@dialogContainer",i._state))},features:[ue],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&V(0,iU,0,0,"ng-template",0)},directives:[qw],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[rU.dialogContainer]}}),n})(),aU=0;class lU{constructor(t,e,i="mat-dialog-"+aU++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ve,this._afterClosed=new ve,this._beforeClosed=new ve,this._state=0,e._id=i,e._animationStateChanged.pipe(zt(r=>"opened"===r.state),In(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(zt(r=>"closed"===r.state),In(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(zt(r=>27===r.keyCode&&!this.disableClose&&!function KL(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(r))).subscribe(r=>{r.preventDefault(),YD(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():YD(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(zt(e=>"closing"===e.state),In(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function YD(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const cU=new N("MatDialogData"),uU=new N("mat-dialog-default-options"),KD=new N("mat-dialog-scroll-strategy"),hU={provide:KD,deps:[wc],useFactory:function dU(n){return()=>n.scrollStrategies.block()}};let fU=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,d){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ve,this._afterOpenedAtThisLevel=new ve,this._ariaHiddenElements=new Map,this.afterAllClosed=lf(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(NC(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function pU(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new Kp),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),o=this._attachDialogContainer(r,i),s=this._attachDialogContent(e,o,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.afterClosed().subscribe(()=>this._removeOpenDialog(s)),this.afterOpened.next(s),o._initializeWithAttachedContent(),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new Kw({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const o=Le.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:Kp,useValue:i}]}),s=new _p(this._dialogContainerType,i.viewContainerRef,o,i.componentFactoryResolver);return e.attach(s).instance}_attachDialogContent(e,i,r,o){const s=new this._dialogRefConstructor(r,i,o.id);if(e instanceof $n)i.attachTemplatePortal(new $w(e,null,{$implicit:o.data,dialogRef:s}));else{const a=this._createInjector(o,s,i),l=i.attachComponentPortal(new _p(e,o.viewContainerRef,a,o.componentFactoryResolver));s.componentInstance=l.instance}return s.updateSize(o.width,o.height).updatePosition(o.position),s}_createInjector(e,i,r){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!o||!o.get(Rf,null,G.Optional))&&s.push({provide:Rf,useValue:{value:e.direction,change:U()}}),Le.create({parent:o||this._injector,providers:s})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,o)=>{r?o.setAttribute("aria-hidden",r):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){ll()},n.\u0275dir=H({type:n}),n})(),Zp=(()=>{class n extends fU{constructor(e,i,r,o,s,a,l,c){super(e,i,o,a,l,s,lU,sU,cU,c)}}return n.\u0275fac=function(e){return new(e||n)(g(wc),g(Le),g(Ps,8),g(uU,8),g(KD),g(n,12),g(Sp),g(Yp,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),ZD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n}),n.\u0275inj=je({providers:[Zp,hU],imports:[[iH,zw,sc],sc]}),n})();const fa=function(n){return{iconActive:n}};function gU(n,t){if(1&n){const e=de();y(0,"mat-icon",9),I("click",function(){return q(e),M().fastClick()}),w(1," fast_forward "),v()}if(2&n){const e=M();x("ngClass",qt(1,fa,5===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function mU(n,t){if(1&n){const e=de();y(0,"mat-icon",10),I("click",function(){return q(e),M().fasterClick()}),w(1," skip_next "),v()}if(2&n){const e=M();x("ngClass",qt(1,fa,2===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function vU(n,t){if(1&n){const e=de();y(0,"mat-icon",11),I("click",function(){return q(e),M().fastestClick()}),w(1," bolt "),v()}if(2&n){const e=M();x("ngClass",qt(1,fa,1===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function yU(n,t){if(1&n){const e=de();y(0,"input",12),I("change",function(r){return q(e),M().pauseOnDeath(r)}),v()}2&n&&x("checked",M().activityService.pauseOnDeath)}function _U(n,t){1&n&&(y(0,"label",13),w(1,"Pause on Death"),v())}function bU(n,t){if(1&n){const e=de();y(0,"tr",14),I("dragover",function(r){return q(e),M().allowDrop(r)})("drop",function(r){const s=q(e).index;return M().drop(s,r)})("dragstart",function(r){const s=q(e).index;return M().drag(s,r)}),y(1,"td"),w(2),v(),y(3,"td"),we(4,"progress",15),v(),y(5,"td")(6,"mat-icon",16),I("click",function(){const o=q(e).$implicit;return M().onPlusClick(o)}),w(7,"add"),v(),y(8,"mat-icon",17),I("click",function(){const o=q(e).$implicit;return M().onMinusClick(o)}),w(9,"remove"),v(),y(10,"mat-icon",18),I("click",function(){const o=q(e).$implicit;return M().onUpClick(o)}),w(11,"arrow_upward"),v(),y(12,"mat-icon",19),I("click",function(){const o=q(e).$implicit;return M().onDownClick(o)}),w(13,"arrow_downward"),v(),y(14,"mat-icon",20),I("click",function(){const o=q(e).$implicit;return M().onRemoveClick(o)}),w(15,"clear"),v()()()}if(2&n){const e=t.$implicit,i=t.index,r=M();S(2),ul("",r.activityService.getActivityByType(e.activity).name[r.activityService.getActivityByType(e.activity).level]," (",e.repeatTimes," ",1===e.repeatTimes?"day":"days",")"),S(2),x("value",e===r.currentLoopEntry?r.currentTickCount:i<r.currentIndex?e.repeatTimes:0)("max",e.repeatTimes)}}let CU=(()=>{class n{constructor(e,i,r,o){this.mainLoopService=e,this.activityService=i,this.characterService=r,this.logService=o,this.currentLoopEntry=void 0,this.currentIndex=0,this.currentTickCount=0,this.exhaustionDays=0,this.unlockFastSpeed=!1,this.unlockFasterSpeed=!1,this.unlockFastestSpeed=!1,this.character=r.characterState}ngOnInit(){this.mainLoopService.tickSubject.subscribe(()=>{if(!this.characterService.characterState.dead){if(this.exhaustionDays>0)return void this.exhaustionDays--;if(this.activityService.activityLoop.length>0&&this.currentIndex<this.activityService.activityLoop.length){this.currentLoopEntry=this.activityService.activityLoop[this.currentIndex];let e=this.activityService.getActivityByType(this.currentLoopEntry.activity);e.consequence[e.level](),this.character.status.stamina.value<0&&(this.logService.addLogMessage("You collapse to the ground, completely exhausted. It takes you 5 days to recover enough to work again.","INJURY","EVENT"),this.exhaustionDays=5,this.character.status.stamina.value=this.character.status.stamina.max),this.currentTickCount<=this.currentLoopEntry.repeatTimes?this.currentTickCount++:(this.currentIndex++,this.currentTickCount=2,this.currentIndex==this.activityService.activityLoop.length&&(this.currentIndex=0),this.currentLoopEntry=this.activityService.activityLoop[this.currentIndex])}else 0==this.activityService.activityLoop.length?this.mainLoopService.pause=!0:this.currentIndex=0}})}pauseClick(){this.mainLoopService.pause=!0}standardClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=10}fastClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=5}fasterClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=2}fastestClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=1}onPlusClick(e){e.repeatTimes++}onMinusClick(e){e.repeatTimes--}onUpClick(e){let i=this.activityService.activityLoop.indexOf(e);if(0!=i&&this.activityService.activityLoop.length>1){let r=this.activityService.activityLoop[i-1];this.activityService.activityLoop[i-1]=e,this.activityService.activityLoop[i]=r}}onDownClick(e){let i=this.activityService.activityLoop.indexOf(e);if(i!=this.activityService.activityLoop.length-1&&this.activityService.activityLoop.length>1){let r=this.activityService.activityLoop[i+1];this.activityService.activityLoop[i+1]=e,this.activityService.activityLoop[i]=r}}onRemoveClick(e){let i=this.activityService.activityLoop.indexOf(e);this.currentIndex>=this.activityService.activityLoop.length-1&&(this.currentIndex=0),this.activityService.activityLoop.splice(i,1)}pauseOnDeath(e){e.target instanceof HTMLInputElement&&(this.activityService.pauseOnDeath=e.target.checked)}allowDrop(e){var i;"activityloop"==(null===(i=e.dataTransfer)||void 0===i?void 0:i.types[0])&&e.preventDefault()}drag(e,i){var r;null===(r=i.dataTransfer)||void 0===r||r.setData("activityloop",""+e)}drop(e,i){var r;i.preventDefault();let o=(null===(r=i.dataTransfer)||void 0===r?void 0:r.getData("activityloop"))+"",s=parseInt(o);if(s>=0&&s<this.activityService.activityLoop.length){let a=this.activityService.activityLoop.splice(s,1);this.activityService.activityLoop.splice(e,0,a[0])}}}return n.\u0275fac=function(e){return new(e||n)(b(fi),b(Qs),b(bt),b(hi))},n.\u0275cmp=ct({type:n,selectors:[["app-time-panel"]],decls:13,vars:12,consts:[[1,"panelHeader"],["tooltip","Pause the game (spacebar)",3,"ngClass","click"],["tooltip","Standard Game Speed",3,"ngClass","click"],["tooltip","Fast Game Speed",3,"ngClass","click",4,"ngIf"],["tooltip","Faster Game Speed",3,"ngClass","click",4,"ngIf"],["tooltip","Fastest Game Speed",3,"ngClass","click",4,"ngIf"],["type","checkbox","id","pauseOnDeath",3,"checked","change",4,"ngIf"],["for","pauseOnDeath",4,"ngIf"],["draggable","true",3,"dragover","drop","dragstart",4,"ngFor","ngForOf"],["tooltip","Fast Game Speed",3,"ngClass","click"],["tooltip","Faster Game Speed",3,"ngClass","click"],["tooltip","Fastest Game Speed",3,"ngClass","click"],["type","checkbox","id","pauseOnDeath",3,"checked","change"],["for","pauseOnDeath"],["draggable","true",3,"dragover","drop","dragstart"],[1,"activity-progress",3,"value","max"],["tooltip","Spend more days on this.",3,"click"],["tooltip","Spend fewer days on this.",3,"click"],["tooltip","Move this activity up in the schedule.",3,"click"],["tooltip","Move this activity down in the schedule.",3,"click"],["tooltip","Remove this activity from the schedule.",3,"click"]],template:function(e,i){1&e&&(y(0,"h3",0),w(1," How will you spend your days? "),y(2,"mat-icon",1),I("click",function(){return i.pauseClick()}),w(3," pause "),v(),y(4,"mat-icon",2),I("click",function(){return i.standardClick()}),w(5," play_arrow "),v(),V(6,gU,2,3,"mat-icon",3),V(7,mU,2,3,"mat-icon",4),V(8,vU,2,3,"mat-icon",5),V(9,yU,1,1,"input",6),V(10,_U,2,0,"label",7),v(),y(11,"table"),V(12,bU,16,5,"tr",8),v()),2&e&&(S(2),x("ngClass",qt(8,fa,i.mainLoopService.pause)),S(2),x("ngClass",qt(10,fa,10===i.mainLoopService.tickDivider&&!i.mainLoopService.pause)),S(2),x("ngIf",i.mainLoopService.unlockFastSpeed),S(1),x("ngIf",i.mainLoopService.unlockFasterSpeed),S(1),x("ngIf",i.mainLoopService.unlockFastestSpeed),S(1),x("ngIf",i.activityService.autoRestart),S(1),x("ngIf",i.activityService.autoRestart),S(2),x("ngForOf",i.activityService.activityLoop))},directives:[hr,pi,vo,xn,li],styles:["table[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%]{border-bottom:1px #dddddd solid;white-space:nowrap}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){text-align:end}mat-icon[_ngcontent-%COMP%]{border:1px black solid;height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}.activity-progress[_ngcontent-%COMP%]{width:60px}label[_ngcontent-%COMP%]{font-size:10px;vertical-align:top}.iconActive[_ngcontent-%COMP%]{background-color:#0ff}.panelHeader[_ngcontent-%COMP%]{white-space:nowrap}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#efefef;display:flex;flex-direction:column;flex-grow:1}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column}.rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:360px;max-width:320px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.attributesPanel[_ngcontent-%COMP%]{overflow:auto}.activityPanel[_ngcontent-%COMP%]{flex-grow:3;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{flex-grow:1;height:160px;min-height:160px;max-height:160px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}.cheat[_ngcontent-%COMP%]{font-size:3px}.panel[_ngcontent-%COMP%]{background-color:#fcfcfc;margin:4px;border:2px solid #121212;border-radius:4px;box-shadow:2px 2px 2px 1px #aaa}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid #121212;color:#000;font-size:14px;font-weight:400;margin:0 4px}"]}),n})();function SU(n,t){if(1&n&&(y(0,"span",3),De(1,"number"),De(2,"number"),y(3,"mat-icon"),w(4),v(),w(5),De(6,"camelToTitle"),De(7,"number"),v()),2&n){const e=M().$implicit,i=M();Gd("tooltip","",e.value.description," Your aptitude of ",Un(1,6,e.value.aptitude,"1.0-2")," multiplies your gains by ",Un(2,9,i.characterService.characterState.getAptitudeMultipier(e.value.aptitude),"1.0-2"),"."),S(4),Mt(e.value.icon),S(1),Xi(" ",dt(6,12,e.key),": ",Un(7,14,e.value.value,"1.0-1")," ")}}function wU(n,t){if(1&n&&(y(0,"div"),V(1,SU,8,17,"span",2),v()),2&n){const e=t.$implicit;S(1),x("ngIf",0!==e.value.value)}}let QD=(()=>{class n{constructor(e){this.characterService=e,this.originalOrder=()=>0,this.character=e.characterState}}return n.\u0275fac=function(e){return new(e||n)(b(bt))},n.\u0275cmp=ct({type:n,selectors:[["app-attributes-panel"]],decls:4,vars:4,consts:[[1,"panelHeader"],[4,"ngFor","ngForOf"],["placement","right",3,"tooltip",4,"ngIf"],["placement","right",3,"tooltip"]],template:function(e,i){1&e&&(y(0,"h3",0),w(1,"Attributes"),v(),V(2,wU,2,1,"div",1),De(3,"keyvalue")),2&e&&(S(2),x("ngForOf",Un(3,1,i.character.attributes,i.originalOrder)))},styles:["mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:2px;vertical-align:middle}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#efefef;display:flex;flex-direction:column;flex-grow:1}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column}.rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:360px;max-width:320px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.attributesPanel[_ngcontent-%COMP%]{overflow:auto}.activityPanel[_ngcontent-%COMP%]{flex-grow:3;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{flex-grow:1;height:160px;min-height:160px;max-height:160px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}.cheat[_ngcontent-%COMP%]{font-size:3px}.panel[_ngcontent-%COMP%]{background-color:#fcfcfc;margin:4px;border:2px solid #121212;border-radius:4px;box-shadow:2px 2px 2px 1px #aaa}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid #121212;color:#000;font-size:14px;font-weight:400;margin:0 4px}"]}),n})(),XD=(()=>{class n{constructor(e){this.characterService=e,this.Math=Math}}return n.\u0275fac=function(e){return new(e||n)(b(bt))},n.\u0275cmp=ct({type:n,selectors:[["app-health-panel"]],decls:23,vars:20,consts:[[1,"panelHeader"],["placement","right",3,"tooltip"],[1,"health"],[1,"status-progress",3,"value","max"],[1,"stamina"],[1,"nourishment"]],template:function(e,i){1&e&&(y(0,"h3",0),w(1),De(2,"floor"),De(3,"number"),De(4,"number"),v(),y(5,"table")(6,"tr")(7,"td",1),w(8,"Health"),v(),y(9,"td",2)(10,"progress",3),we(11,"div"),v()(),y(12,"td",1),w(13,"Stamina"),v(),y(14,"td",4)(15,"progress",3),we(16,"div"),v()()(),y(17,"tr")(18,"td",1),w(19,"Nutrition"),v(),y(20,"td",5)(21,"progress",3),we(22,"div"),v()()()()),2&e&&(S(1),ul("You are ",dt(2,12,i.characterService.characterState.age/365)," years, ",Un(3,14,i.characterService.characterState.age%365,"1.0-0")," days old. You expect to live ",Un(4,17,i.characterService.characterState.lifespan/365,"1.0-1")," years.\n"),S(6),Ve("tooltip",i.characterService.characterState.status.health.description),S(3),x("value",i.Math.floor(i.characterService.characterState.status.health.value))("max",i.Math.floor(i.characterService.characterState.status.health.max)),S(2),Ve("tooltip",i.characterService.characterState.status.stamina.description),S(3),x("value",i.characterService.characterState.status.stamina.value)("max",i.characterService.characterState.status.stamina.max),S(3),Ve("tooltip",i.characterService.characterState.status.nourishment.description),S(3),x("value",i.characterService.characterState.status.nourishment.value)("max",i.characterService.characterState.status.nourishment.max))},styles:["progress[_ngcontent-%COMP%]{text-align:center;height:-moz-fit-content;height:fit-content;width:130px}progress[_ngcontent-%COMP%]:after{content:attr(value);line-height:30px}.panelHeader[_ngcontent-%COMP%]{white-space:nowrap}.health[_ngcontent-%COMP%] > progress[_ngcontent-%COMP%]{accent-color:red}.stamina[_ngcontent-%COMP%] > progress[_ngcontent-%COMP%]{accent-color:lightgreen}.nourishment[_ngcontent-%COMP%] > progress[_ngcontent-%COMP%]{accent-color:yellow}.status-progress[_ngcontent-%COMP%]{height:30px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#efefef;display:flex;flex-direction:column;flex-grow:1}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column}.rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:360px;max-width:320px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.attributesPanel[_ngcontent-%COMP%]{overflow:auto}.activityPanel[_ngcontent-%COMP%]{flex-grow:3;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{flex-grow:1;height:160px;min-height:160px;max-height:160px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}.cheat[_ngcontent-%COMP%]{font-size:3px}.panel[_ngcontent-%COMP%]{background-color:#fcfcfc;margin:4px;border:2px solid #121212;border-radius:4px;box-shadow:2px 2px 2px 1px #aaa}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid #121212;color:#000;font-size:14px;font-weight:400;margin:0 4px}"]}),n})();function DU(n,t){if(1&n){const e=de();y(0,"tr")(1,"td")(2,"button",4),I("click",function(){q(e);const r=M().$implicit;return M().onClick(r)}),w(3),v()(),y(4,"td"),w(5),we(6,"br"),w(7),v()()}if(2&n){const e=M().$implicit;S(3),Mt(e.name[e.level]),S(2),We(" ",e.description[e.level]," "),S(2),We(" ",e.consequenceDescription[e.level]," ")}}function EU(n,t){if(1&n&&(so(0),V(1,DU,8,3,"tr",3),ao()),2&n){const e=t.$implicit,i=M();S(1),x("ngIf",i.meetsRequirements(e))}}let MU=(()=>{class n{constructor(e,i,r){this.gameStateService=e,this.activityService=i,this.character=r.characterState}onClick(e){this.activityService.activityLoop.push({activity:e.activityType,repeatTimes:1})}meetsRequirements(e){return this.activityService.meetsRequirements(e)}}return n.\u0275fac=function(e){return new(e||n)(b(Rw),b(Qs),b(bt))},n.\u0275cmp=ct({type:n,selectors:[["app-activity-panel"]],decls:5,vars:1,consts:[[1,"panelHeader"],[1,"activitiesContainer"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"click"]],template:function(e,i){1&e&&(y(0,"h3",0),w(1,"Activities"),v(),y(2,"div",1)(3,"table"),V(4,EU,2,1,"ng-container",2),v()()),2&e&&(S(4),x("ngForOf",i.activityService.activities))},directives:[li,xn],styles:["td[_ngcontent-%COMP%]{border-bottom:1px #dddddd solid}.activitiesContainer[_ngcontent-%COMP%]{min-width:400px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#efefef;display:flex;flex-direction:column;flex-grow:1}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column}.rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:360px;max-width:320px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.attributesPanel[_ngcontent-%COMP%]{overflow:auto}.activityPanel[_ngcontent-%COMP%]{flex-grow:3;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{flex-grow:1;height:160px;min-height:160px;max-height:160px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}.cheat[_ngcontent-%COMP%]{font-size:3px}.panel[_ngcontent-%COMP%]{background-color:#fcfcfc;margin:4px;border:2px solid #121212;border-radius:4px;box-shadow:2px 2px 2px 1px #aaa}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid #121212;color:#000;font-size:14px;font-weight:400;margin:0 4px}"]}),n})();function xU(n,t){if(1&n){const e=de();y(0,"button",7),I("click",function(){return q(e),M().battleService.trouble()}),w(1,"Look for Trouble"),v()}}function AU(n,t){if(1&n){const e=de();y(0,"input",8),I("change",function(r){return q(e),M().autoTroubleChange(r)}),v()}2&n&&x("checked",M().battleService.autoTroubleEnabled)}function TU(n,t){1&n&&(y(0,"label",9),w(1,"Look for Trouble"),v())}function IU(n,t){if(1&n){const e=de();y(0,"button",7),I("click",function(){q(e);const r=M().$implicit;return M().battleService.fight(r)}),w(1,"Fight"),v()}}function kU(n,t){1&n&&(y(0,"span"),w(1,"Fighting"),v())}function PU(n,t){if(1&n&&(so(0),y(1,"tr")(2,"td"),V(3,IU,2,0,"button",2),V(4,kU,2,0,"span",10),v(),y(5,"td"),w(6),De(7,"titlecase"),v(),y(8,"td",11)(9,"progress",12),we(10,"div"),v()(),y(11,"td",13)(12,"mat-icon"),w(13,"compare_arrows"),v(),w(14),v(),y(15,"td",14)(16,"mat-icon"),w(17,"manage_accounts"),v(),w(18),v(),y(19,"td",15)(20,"mat-icon"),w(21,"shield"),v(),w(22),v()(),ao()),2&n){const e=t.$implicit,i=M();S(3),x("ngIf",i.battleService.currentEnemy!==e),S(1),x("ngIf",i.battleService.currentEnemy===e),S(2),Xi("",dt(7,9,e.enemy.name)," ",e.quantity>1?"("+e.quantity+")":"",""),S(3),x("value",e.enemy.health)("max",e.enemy.maxHealth),S(5),Mt(e.enemy.accuracy),S(4),Mt(e.enemy.attack),S(4),Mt(e.enemy.defense)}}let OU=(()=>{class n{constructor(e){this.battleService=e}ngOnInit(){}autoTroubleChange(e){e.target instanceof HTMLInputElement&&(this.battleService.autoTroubleEnabled=e.target.checked)}}return n.\u0275fac=function(e){return new(e||n)(b(To))},n.\u0275cmp=ct({type:n,selectors:[["app-battle-panel"]],decls:11,vars:4,consts:[["tooltip","Monsters come out at night. You'll need to be strong enough to fight them off if you want to become an immortal."],[1,"rightAligned"],[3,"click",4,"ngIf"],["type","checkbox","id","autoTroubleCheckbox",3,"checked","change",4,"ngIf"],["for","autoTroubleCheckbox",4,"ngIf"],[1,"battleContainer"],[4,"ngFor","ngForOf"],[3,"click"],["type","checkbox","id","autoTroubleCheckbox",3,"checked","change"],["for","autoTroubleCheckbox"],[4,"ngIf"],[1,"health"],[1,"status-progress",3,"value","max"],["tooltip","Accuracy"],["tooltip","Attack Power"],["tooltip","Defense"]],template:function(e,i){1&e&&(y(0,"h3")(1,"mat-icon",0),w(2,"fort"),v(),w(3," Battles "),y(4,"span",1),V(5,xU,2,0,"button",2),V(6,AU,1,1,"input",3),V(7,TU,2,0,"label",4),v()(),y(8,"div",5)(9,"table"),V(10,PU,23,11,"ng-container",6),v()()),2&e&&(S(5),x("ngIf",!i.battleService.autoTroubleUnlocked),S(1),x("ngIf",i.battleService.autoTroubleUnlocked),S(1),x("ngIf",i.battleService.autoTroubleUnlocked),S(3),x("ngForOf",i.battleService.enemies))},directives:[hr,pi,xn,li],pipes:[yo],styles:["progress[_ngcontent-%COMP%]{text-align:center;height:-moz-fit-content;height:fit-content;width:130px}progress[_ngcontent-%COMP%]:after{content:attr(value);line-height:30px}.panelHeader[_ngcontent-%COMP%]{white-space:nowrap}.health[_ngcontent-%COMP%] > progress[_ngcontent-%COMP%]{accent-color:red}.status-progress[_ngcontent-%COMP%]{height:30px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:2px;vertical-align:middle}.rightAligned[_ngcontent-%COMP%]{float:right;margin-right:6px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#efefef;display:flex;flex-direction:column;flex-grow:1}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column}.rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:360px;max-width:320px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.attributesPanel[_ngcontent-%COMP%]{overflow:auto}.activityPanel[_ngcontent-%COMP%]{flex-grow:3;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{flex-grow:1;height:160px;min-height:160px;max-height:160px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}.cheat[_ngcontent-%COMP%]{font-size:3px}.panel[_ngcontent-%COMP%]{background-color:#fcfcfc;margin:4px;border:2px solid #121212;border-radius:4px;box-shadow:2px 2px 2px 1px #aaa}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid #121212;color:#000;font-size:14px;font-weight:400;margin:0 4px}"]}),n})();const No=function(n){return{highlightSlot:n}};let RU=(()=>{class n{constructor(e,i){this.inventoryService=i,this.character=e.characterState}getSelectedItemSlot(){var e;const i=null===(e=this.inventoryService.selectedItem)||void 0===e?void 0:e.item;return i&&Xs(i)?null==i?void 0:i.slot:null}allowDrop(e){var i;"inventory"==(null===(i=e.dataTransfer)||void 0===i?void 0:i.types[0])&&e.preventDefault()}drag(e,i){var r;null===(r=i.dataTransfer)||void 0===r||r.setData("equipment",e)}drop(e,i){var r;i.preventDefault();let o=(null===(r=i.dataTransfer)||void 0===r?void 0:r.getData("inventory"))+"",s=parseInt(o);if(s>=0&&s<this.inventoryService.itemStacks.length){let a=this.inventoryService.itemStacks[s];a&&(this.inventoryService.equip(a),this.inventoryService.selectedItem=null)}}}return n.\u0275fac=function(e){return new(e||n)(b(bt),b(He))},n.\u0275cmp=ct({type:n,selectors:[["app-equipment-panel"]],decls:31,vars:42,consts:[[1,"panelHeader"],["draggable","true","placement","left",1,"equipmentSlot",3,"ngClass","tooltip","dragover","drop","dragstart"]],template:function(e,i){1&e&&(y(0,"h3",0),w(1,"Equipment"),v(),y(2,"table")(3,"tr"),we(4,"td"),y(5,"td",1),I("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("head",o)})("dragstart",function(o){return i.drag("head",o)}),w(6),De(7,"titlecase"),v(),we(8,"td"),v(),y(9,"tr")(10,"td",1),I("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("rightHand",o)})("dragstart",function(o){return i.drag("rightHand",o)}),w(11),De(12,"titlecase"),v(),y(13,"td",1),I("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("body",o)})("dragstart",function(o){return i.drag("body",o)}),w(14),De(15,"titlecase"),v(),y(16,"td",1),I("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("leftHand",o)})("dragstart",function(o){return i.drag("leftHand",o)}),w(17),De(18,"titlecase"),v()(),y(19,"tr"),we(20,"td"),y(21,"td",1),I("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("legs",o)})("dragstart",function(o){return i.drag("legs",o)}),w(22),De(23,"titlecase"),v(),we(24,"td"),v(),y(25,"tr"),we(26,"td"),y(27,"td",1),I("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("feet",o)})("dragstart",function(o){return i.drag("feet",o)}),w(28),De(29,"titlecase"),v(),we(30,"td"),v()()),2&e&&(S(5),Ve("tooltip",null==i.character.equipment.head?null:i.character.equipment.head.description),x("ngClass",qt(30,No,"head"===i.getSelectedItemSlot())),S(1),We(" ",dt(7,18,null==i.character.equipment.head?null:i.character.equipment.head.name)," "),S(4),Ve("tooltip",null==i.character.equipment.rightHand?null:i.character.equipment.rightHand.description),x("ngClass",qt(32,No,"rightHand"===i.getSelectedItemSlot())),S(1),We(" ",dt(12,20,null==i.character.equipment.rightHand?null:i.character.equipment.rightHand.name)," "),S(2),Ve("tooltip",null==i.character.equipment.body?null:i.character.equipment.body.description),x("ngClass",qt(34,No,"body"===i.getSelectedItemSlot())),S(1),We(" ",dt(15,22,null==i.character.equipment.body?null:i.character.equipment.body.name)," "),S(2),Ve("tooltip",null==i.character.equipment.leftHand?null:i.character.equipment.leftHand.description),x("ngClass",qt(36,No,"leftHand"===i.getSelectedItemSlot())),S(1),We(" ",dt(18,24,null==i.character.equipment.leftHand?null:i.character.equipment.leftHand.name)," "),S(4),Ve("tooltip",null==i.character.equipment.legs?null:i.character.equipment.legs.description),x("ngClass",qt(38,No,"legs"===i.getSelectedItemSlot())),S(1),We(" ",dt(23,26,null==i.character.equipment.legs?null:i.character.equipment.legs.name)," "),S(5),Ve("tooltip",null==i.character.equipment.feet?null:i.character.equipment.feet.description),x("ngClass",qt(40,No,"feet"===i.getSelectedItemSlot())),S(1),We(" ",dt(29,28,null==i.character.equipment.feet?null:i.character.equipment.feet.name)," "))},directives:[vo,pi],pipes:[yo],styles:[".equipmentSlot[_ngcontent-%COMP%]{border:1px solid black;width:80px;height:32px;font-size:x-small;text-align:center;border-spacing:0px;cursor:pointer}.highlightSlot[_ngcontent-%COMP%]{background-color:#0ff}table[_ngcontent-%COMP%]{margin:auto}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#efefef;display:flex;flex-direction:column;flex-grow:1}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column}.rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:360px;max-width:320px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.attributesPanel[_ngcontent-%COMP%]{overflow:auto}.activityPanel[_ngcontent-%COMP%]{flex-grow:3;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{flex-grow:1;height:160px;min-height:160px;max-height:160px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}.cheat[_ngcontent-%COMP%]{font-size:3px}.panel[_ngcontent-%COMP%]{background-color:#fcfcfc;margin:4px;border:2px solid #121212;border-radius:4px;box-shadow:2px 2px 2px 1px #aaa}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid #121212;color:#000;font-size:14px;font-weight:400;margin:0 4px}"]}),n})();function FU(n,t){if(1&n){const e=de();y(0,"mat-icon",11),I("click",function(){return q(e),M().storeClicked()}),w(1," shopping_cart "),v()}}function NU(n,t){1&n&&we(0,"div",13),2&n&&Ai("tooltip","You don't own a ",M().$implicit,", but your home could hold one.")}function LU(n,t){if(1&n&&(y(0,"div",13),w(1),De(2,"titlecase"),v()),2&n){const e=M().$implicit,i=M();Ve("tooltip",null==i.homeService.furniture[e]?null:i.homeService.furniture[e].description),S(1),Mt(dt(2,2,null==i.homeService.furniture[e]?null:i.homeService.furniture[e].name))}}function VU(n,t){if(1&n&&(y(0,"div"),V(1,NU,1,1,"div",12),V(2,LU,3,4,"div",12),v()),2&n){const e=t.$implicit,i=M();S(1),x("ngIf",!i.homeService.furniture[e]),S(1),x("ngIf",i.homeService.furniture[e])}}function BU(n,t){if(1&n){const e=de();y(0,"button",8),I("click",function(){return q(e),M().upgradeClick()}),De(1,"number"),w(2," Get a better house "),v()}if(2&n){const e=M();vs("tooltip","A better home will cost ",Un(1,2,e.homeService.nextHome.cost,"1.0-0")," taels and take up ",e.homeService.nextHome.landRequired," land.")}}let HU=(()=>{class n{constructor(e,i,r,o){this.characterService=e,this.homeService=i,this.dialog=r,this.storeService=o,this.character=e.characterState}upgradeClick(){this.homeService.upgradeToNextHome()}buyClick(){this.homeService.buyLand()}fieldClick(){this.homeService.addField()}storeClicked(){this.storeService.setStoreInventory("furniture"),this.dialog.open(_c,{width:"500px",data:{someField:"foo"}})}}return n.\u0275fac=function(e){return new(e||n)(b(bt),b(Tt),b(Zp),b(Of))},n.\u0275cmp=ct({type:n,selectors:[["app-home-panel"]],decls:22,vars:13,consts:[[1,"homeContainer"],[1,"panelHeader"],[3,"tooltip"],["class","rightFloat","tooltip","Buy Furniture",3,"click",4,"ngIf"],[1,"homeInfo"],[1,"furnitureSlots"],[4,"ngFor","ngForOf"],[1,"buttonSpan"],["placement","bottom",3,"tooltip","click"],["placement","bottom","tooltip","Convert a plot of land to a field. You'll need to work at farming it to make it produce much food. Once the harvest is over, you will get the food you've grown and the land will be available again.",3,"click"],["placement","bottom",3,"tooltip","click",4,"ngIf"],["tooltip","Buy Furniture",1,"rightFloat",3,"click"],["class","furnitureSlot",3,"tooltip",4,"ngIf"],[1,"furnitureSlot",3,"tooltip"]],template:function(e,i){1&e&&(y(0,"div",0)(1,"h3",1)(2,"mat-icon",2),w(3,"home"),v(),w(4),V(5,FU,2,0,"mat-icon",3),v(),y(6,"div",4),w(7),v(),y(8,"div",4),w(9),v(),y(10,"div",4)(11,"mat-icon",2),w(12,"grass"),v(),w(13),v(),y(14,"div",5),V(15,VU,3,2,"div",6),v(),y(16,"span",7)(17,"button",8),I("click",function(){return i.buyClick()}),w(18," Buy Land "),v(),y(19,"button",9),I("click",function(){return i.fieldClick()}),w(20," Plow Field "),v(),V(21,BU,3,5,"button",10),v()()),2&e&&(S(2),Ve("tooltip",i.homeService.home.description),S(2),We(" You live in a ",i.homeService.home.name," "),S(1),x("ngIf",i.homeService.home.furnitureSlots.length),S(2),Xi("It costs ",i.homeService.home.costPerDay," ",1===i.homeService.home.costPerDay?"tael":"taels"," per day to maintain your home"),S(2),Xi("You own ",i.homeService.land," open ",1===i.homeService.land?"plot":"plots"," of land"),S(2),Ve("tooltip",i.homeService.fieldsTooltip),S(2),Xi(" Your ",i.homeService.fields.length," fields are growing ",i.homeService.fieldYields," food "),S(2),x("ngForOf",i.homeService.home.furnitureSlots),S(2),Ai("tooltip","Buy a plot of land for ",i.homeService.landPrice," taels."),S(4),x("ngIf",i.homeService.home.name!==i.homeService.nextHome.name))},directives:[hr,pi,xn,li],pipes:[yo,_o],styles:[".homeContainer[_ngcontent-%COMP%]{position:relative;height:100%;padding-left:2px}.homeInfo[_ngcontent-%COMP%]{font-size:12px;margin-top:-2px;margin-bottom:-4px}.buttonSpan[_ngcontent-%COMP%]{position:absolute;bottom:1px;left:1px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin-top:2px;margin-bottom:2px;vertical-align:middle}.furnitureSlots[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.furnitureSlot[_ngcontent-%COMP%]{border:1px solid black;width:50px;height:36px;margin:1px;font-size:x-small;text-align:center;border-spacing:0px;cursor:pointer}.rightFloat[_ngcontent-%COMP%]{float:right}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#efefef;display:flex;flex-direction:column;flex-grow:1}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column}.rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:360px;max-width:320px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.attributesPanel[_ngcontent-%COMP%]{overflow:auto}.activityPanel[_ngcontent-%COMP%]{flex-grow:3;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{flex-grow:1;height:160px;min-height:160px;max-height:160px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}.cheat[_ngcontent-%COMP%]{font-size:3px}.panel[_ngcontent-%COMP%]{background-color:#fcfcfc;margin:4px;border:2px solid #121212;border-radius:4px;box-shadow:2px 2px 2px 1px #aaa}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid #121212;color:#000;font-size:14px;font-weight:400;margin:0 4px}"]}),n})();function jU(n,t){1&n&&(y(0,"mat-icon",9),w(1," soup_kitchen "),v())}function UU(n,t){if(1&n&&(y(0,"tr"),w(1),v()),2&n){const e=M().$implicit;S(1),Mt(null==e?null:e.quantity)}}const $U=function(n){return{selectedItem:n}};function qU(n,t){if(1&n){const e=de();y(0,"div")(1,"table",10),I("click",function(r){const s=q(e).$implicit;return M().slotClicked(s,r)})("contextmenu",function(r){const s=q(e).$implicit;return M().slotRightClicked(s,r)})("dragover",function(r){return q(e),M().allowDrop(r)})("drop",function(r){const s=q(e).index;return M().drop(s,r)})("dragstart",function(r){const s=q(e).index;return M().drag(s,r)}),y(2,"tr"),w(3),De(4,"titlecase"),v(),V(5,UU,2,1,"tr",11),v()()}if(2&n){const e=t.$implicit,i=M();S(1),Ve("tooltip",null==e||null==e.item?null:e.item.description),x("ngClass",qt(6,$U,null!==e&&e===i.inventoryService.selectedItem)),S(2),Mt(dt(4,4,null==e||null==e.item?null:e.item.name)),S(2),x("ngIf",((null==e?null:e.quantity)||0)>1)}}function zU(n,t){if(1&n){const e=de();y(0,"button",19),I("click",function(){return q(e),M(2).autoSell()}),w(1,"Autosell"),v()}}function GU(n,t){if(1&n){const e=de();y(0,"button",13),I("click",function(){return q(e),M(2).use()}),w(1),v()}if(2&n){const e=M(2);Ai("tooltip","",e.inventoryService.selectedItem.item.useDescription," Shift-click items to use."),S(1),We(" ",e.inventoryService.selectedItem.item.useLabel," ")}}function WU(n,t){if(1&n){const e=de();y(0,"button",13),I("click",function(){return q(e),M(2).autoUse()}),w(1),v()}if(2&n){const e=M(2);Ai("tooltip","",e.inventoryService.selectedItem.item.useDescription,"  Ctrl-click items to auto-use."),S(1),We(" Auto-",e.inventoryService.selectedItem.item.useLabel," ")}}function YU(n,t){if(1&n){const e=de();y(0,"button",20),I("click",function(){return q(e),M(2).autoBalance()}),w(1," Auto-balance "),v()}}function KU(n,t){if(1&n){const e=de();y(0,"button",14),I("click",function(){return q(e),M(2).equip()}),w(1,"Equip"),v()}}function ZU(n,t){if(1&n){const e=de();y(0,"div",12)(1,"button",13),I("click",function(){return q(e),M().sell(1)}),w(2,"Sell"),v(),y(3,"button",13),I("click",function(){return q(e),M().sellStack()}),w(4,"Sell Stack"),v(),y(5,"button",14),I("click",function(){return q(e),M().sellAll()}),w(6,"Sell All"),v(),V(7,zU,2,0,"button",15),V(8,GU,2,2,"button",16),V(9,WU,2,2,"button",16),V(10,YU,2,0,"button",17),V(11,KU,2,0,"button",18),v()}if(2&n){const e=M();S(1),vs("tooltip","Sell one ",e.inventoryService.selectedItem.item.name," for ",e.inventoryService.selectedItem.item.value," taels. Right-click items to sell."),S(2),vs("tooltip","Sell all the ",e.inventoryService.selectedItem.item.name," in this inventory slot for ",e.inventoryService.selectedItem.item.value*e.inventoryService.selectedItem.quantity," taels.  Shift-right-click items to sell the stack."),S(4),x("ngIf",e.inventoryService.autoSellUnlocked),S(1),x("ngIf",void 0!==e.inventoryService.selectedItem.item.useLabel),S(1),x("ngIf",void 0!==e.inventoryService.selectedItem.item.useLabel&&e.inventoryService.autoUseUnlocked),S(1),x("ngIf",void 0!==e.inventoryService.selectedItem.item.useLabel&&e.inventoryService.autoBalanceUnlocked),S(1),x("ngIf","equipment"===e.inventoryService.selectedItem.item.type)}}let QU=(()=>{class n{constructor(e,i){this.inventoryService=e,this.characterService=i,this.equipmentSlots=Object.keys(this.characterService.characterState.equipment)}slotClicked(e,i){if(i.preventDefault(),i.shiftKey){let r=null;r!=e&&(r=this.inventoryService.selectedItem),this.inventoryService.selectedItem=e,this.use(),this.inventoryService.selectedItem=r}else i.ctrlKey?(this.inventoryService.selectedItem=e,this.autoUse()):this.inventoryService.selectedItem=this.inventoryService.selectedItem==e?null:e}slotRightClicked(e,i){i.preventDefault(),this.inventoryService.selectedItem=e,i.ctrlKey?this.autoSell():i.shiftKey?this.sellStack():this.sell(1)}sellAll(){this.inventoryService.selectedItem&&this.inventoryService.sellAll(this.inventoryService.selectedItem.item)}sellStack(){this.inventoryService.selectedItem&&this.sell(this.inventoryService.selectedItem.quantity)}sell(e){this.inventoryService.selectedItem&&this.inventoryService.sell(this.inventoryService.selectedItem,e)}autoSell(){this.inventoryService.selectedItem&&this.inventoryService.autoSell(this.inventoryService.selectedItem.item)}use(){this.inventoryService.selectedItem&&this.inventoryService.useItemStack(this.inventoryService.selectedItem)}autoUse(){this.inventoryService.selectedItem&&this.inventoryService.autoUse(this.inventoryService.selectedItem.item)}autoBalance(){this.inventoryService.selectedItem&&this.inventoryService.autoBalance(this.inventoryService.selectedItem.item)}equip(){this.inventoryService.selectedItem&&(this.inventoryService.equip(this.inventoryService.selectedItem),this.inventoryService.selectedItem=null)}allowDrop(e){var i,r;("inventory"==(null===(i=e.dataTransfer)||void 0===i?void 0:i.types[0])||"equipment"==(null===(r=e.dataTransfer)||void 0===r?void 0:r.types[0]))&&e.preventDefault()}drag(e,i){var r;this.inventoryService.selectedItem=this.inventoryService.itemStacks[e],null===(r=i.dataTransfer)||void 0===r||r.setData("inventory",e+"")}drop(e,i){var r,o,s,a;if(i.preventDefault(),"inventory"==(null===(r=i.dataTransfer)||void 0===r?void 0:r.types[0])){let l=(null===(o=i.dataTransfer)||void 0===o?void 0:o.getData("inventory"))+"",c=parseInt(l);if(c==e)return;if(c>=0&&c<this.inventoryService.itemStacks.length){let u=this.inventoryService.itemStacks[c],d=this.inventoryService.itemStacks[e],h=null==u?void 0:u.item,f=null==d?void 0:d.item;if(h&&f&&Xs(h)&&Xs(f)&&h.slot==f.slot)return this.inventoryService.itemStacks[e]=null,this.inventoryService.itemStacks[c]=null,this.inventoryService.selectedItem=null,void this.inventoryService.mergeEquipment(h,f,e);this.inventoryService.itemStacks[e]=u,this.inventoryService.itemStacks[c]=d}}else if("equipment"==(null===(s=i.dataTransfer)||void 0===s?void 0:s.types[0])){let l=(null===(a=i.dataTransfer)||void 0===a?void 0:a.getData("equipment"))+"",c=this.characterService.characterState.equipment[l];c&&this.inventoryService.openInventorySlots()>0&&(this.inventoryService.addItem(c),this.characterService.characterState.equipment[l]=null,this.inventoryService.selectedItem=null)}}}return n.\u0275fac=function(e){return new(e||n)(b(He),b(bt))},n.\u0275cmp=ct({type:n,selectors:[["app-inventory-panel"]],decls:16,vars:7,consts:[[1,"inventoryContainer"],[1,"panelHeader"],[1,"inventoryLabelColumn"],[1,"moneyLabelColumn"],[1,"moneyColumn"],["class","noFood","placement","left","tooltip","You have no food in your inventory. You will spend money on food each day to avoid starvation.",4,"ngIf"],[1,"inventoryGrid"],[4,"ngFor","ngForOf"],["class","inventoryButtons",4,"ngIf"],["placement","left","tooltip","You have no food in your inventory. You will spend money on food each day to avoid starvation.",1,"noFood"],["draggable","true","placement","bottom",1,"itemSlot",3,"ngClass","tooltip","click","contextmenu","dragover","drop","dragstart"],[4,"ngIf"],[1,"inventoryButtons"],["placement","left",3,"tooltip","click"],[3,"click"],["tooltip","Automatically sell this kind of item whenever you get one. Ctrl-right-click items to autosell.",3,"click",4,"ngIf"],["placement","left",3,"tooltip","click",4,"ngIf"],["placement","left","tooltip","Balance between automatically using and selling this item.",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],["tooltip","Automatically sell this kind of item whenever you get one. Ctrl-right-click items to autosell.",3,"click"],["placement","left","tooltip","Balance between automatically using and selling this item.",3,"click"]],template:function(e,i){1&e&&(y(0,"div",0)(1,"h3",1)(2,"table")(3,"tr")(4,"td",2),w(5,"Inventory"),v(),y(6,"td",3),w(7,"Money: "),v(),y(8,"td",4),w(9),De(10,"number"),v(),y(11,"td"),V(12,jU,2,0,"mat-icon",5),v()()()(),y(13,"div",6),V(14,qU,6,8,"div",7),v(),V(15,ZU,12,9,"div",8),v()),2&e&&(S(9),We("",Un(10,4,i.characterService.characterState.money,"1.0-0")," Taels"),S(3),x("ngIf",i.inventoryService.noFood),S(2),x("ngForOf",i.inventoryService.itemStacks),S(1),x("ngIf",i.inventoryService.selectedItem))},directives:[xn,hr,pi,li,vo],pipes:[_o,yo],styles:[".inventoryContainer[_ngcontent-%COMP%]{position:relative;height:100%}.itemSlot[_ngcontent-%COMP%]{border:1px solid #121212;width:52px;height:52px;margin:1px;font-size:x-small;text-align:center;border-spacing:0px;background-color:#ffffe0;cursor:pointer}.selectedItem[_ngcontent-%COMP%]{background-color:#0ff}.itemSlot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{line-height:12px}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;height:calc(100% - 80px);overflow:auto;margin-top:2px;margin-left:2px;border-bottom:1px solid #121212}.inventoryButtons[_ngcontent-%COMP%]{position:absolute;bottom:1px;left:1px}table[_ngcontent-%COMP%]{width:100%}.inventoryLabelColumn[_ngcontent-%COMP%]{width:100px}.moneyLabelColumn[_ngcontent-%COMP%]{width:50px;font-size:12px}.moneyColumn[_ngcontent-%COMP%]{width:140px;font-size:12px}.noFood[_ngcontent-%COMP%]{font-size:16px;float:right;margin-top:4px;vertical-align:middle;color:red}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#efefef;display:flex;flex-direction:column;flex-grow:1}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column}.rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:360px;max-width:320px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.attributesPanel[_ngcontent-%COMP%]{overflow:auto}.activityPanel[_ngcontent-%COMP%]{flex-grow:3;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{flex-grow:1;height:160px;min-height:160px;max-height:160px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}.cheat[_ngcontent-%COMP%]{font-size:3px}.panel[_ngcontent-%COMP%]{background-color:#fcfcfc;margin:4px;border:2px solid #121212;border-radius:4px;box-shadow:2px 2px 2px 1px #aaa}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid #121212;color:#000;font-size:14px;font-weight:400;margin:0 4px}"]}),n})();function XU(n,t){if(1&n&&(y(0,"div",17),w(1),v()),2&n){const e=M().$implicit;x("ngClass",e.type),S(1),We(" ",e.message," ")}}function JU(n,t){if(1&n&&(so(0),V(1,XU,2,2,"div",16),ao()),2&n){const e=t.$implicit,i=M();S(1),x("ngIf",i.logService.enabledTopics.includes(e.topic))}}let e3=(()=>{class n{constructor(e){this.logService=e,this.log=[{message:"Once in a very long while, a soul emerges from the chaos that is destined for immortality. You are such a soul.",type:"STANDARD",topic:"EVENT"},{message:"Your journey to immortality begins as a humble youth leaves home to experience the world.",type:"STANDARD",topic:"EVENT"},{message:"Be careful, the world can be a dangerous place.",type:"STANDARD",topic:"EVENT"}]}ngOnInit(){this.logService.logAdded.subscribe(e=>{var i,r;if(0==this.log.length)this.log.unshift(e);else if(this.log[0].message.includes(e.message)){let o=null===(r=null===(i=this.log[0].message.split(" ").pop())||void 0===i?void 0:i.replace("(",""))||void 0===r?void 0:r.replace(")",""),s=0;o&&(s=parseInt(o)),0==s||isNaN(s)?this.log[0].message=e.message+" (2)":(s++,this.log[0].message=e.message+" ("+s+")")}else this.log.unshift(e);this.log.length>100&&this.log.splice(100,1)})}topicFilterSystem(e){e.target instanceof HTMLInputElement&&(this.logService.systemTopicEnabled=e.target.checked,this.logService.updateEnabledTopics())}topicFilterCombat(e){e.target instanceof HTMLInputElement&&(this.logService.combatTopicEnabled=e.target.checked,this.logService.updateEnabledTopics())}topicFilterRebirth(e){e.target instanceof HTMLInputElement&&(this.logService.rebirthTopicEnabled=e.target.checked,this.logService.updateEnabledTopics())}topicFilterEvent(e){e.target instanceof HTMLInputElement&&(this.logService.eventTopicEnabled=e.target.checked,this.logService.updateEnabledTopics())}}return n.\u0275fac=function(e){return new(e||n)(b(hi))},n.\u0275cmp=ct({type:n,selectors:[["app-log-panel"]],decls:24,vars:5,consts:[[1,"log"],[1,"panelHeader"],[1,"filters"],["type","checkbox","id","filterSystem",3,"checked","change"],["for","filterSystem"],["type","checkbox","id","filterRebirth",3,"checked","change"],["for","filterRebirth"],["type","checkbox","id","filterEvent",3,"checked","change"],["for","filterEvent"],["type","checkbox","id","filterCombat",3,"checked","change"],["for","filterCombat"],[1,"logContainer"],[4,"ngFor","ngForOf"],[1,"disclaimer"],[1,"disclaimerLeft"],[1,"disclaimerRight"],["class","logEntryDiv",3,"ngClass",4,"ngIf"],[1,"logEntryDiv",3,"ngClass"]],template:function(e,i){1&e&&(y(0,"div",0)(1,"h3",1)(2,"span"),w(3,"Log"),v(),y(4,"span",2)(5,"input",3),I("change",function(o){return i.topicFilterSystem(o)}),v(),y(6,"label",4),w(7,"Show Game System Messages"),v(),y(8,"input",5),I("change",function(o){return i.topicFilterRebirth(o)}),v(),y(9,"label",6),w(10,"Show Reincarnation Messages"),v(),y(11,"input",7),I("change",function(o){return i.topicFilterEvent(o)}),v(),y(12,"label",8),w(13,"Show Event Messages"),v(),y(14,"input",9),I("change",function(o){return i.topicFilterCombat(o)}),v(),y(15,"label",10),w(16,"Show Combat Messages"),v()()(),y(17,"div",11),V(18,JU,2,1,"ng-container",12),v(),y(19,"div",13)(20,"span",14),w(21," Alpha development version, expect a lot of changes. If things look broken, use Ctrl-F5 to force a refresh and/or do a Hard Reset. "),v(),y(22,"span",15),w(23," This game should be hosted on immortalityidle.github.io. If you see it somewhere else, it's stolen. "),v()()()),2&e&&(S(5),x("checked",i.logService.systemTopicEnabled),S(3),x("checked",i.logService.rebirthTopicEnabled),S(3),x("checked",i.logService.eventTopicEnabled),S(3),x("checked",i.logService.combatTopicEnabled),S(4),x("ngForOf",i.log))},directives:[li,xn,vo],styles:[".log[_ngcontent-%COMP%]{height:100%}.STANDARD[_ngcontent-%COMP%]{color:#000}.INJURY[_ngcontent-%COMP%]{color:red}.logEntryDiv[_ngcontent-%COMP%]{border-top:1px #eeeeee dotted;white-space:nowrap}.filters[_ngcontent-%COMP%]{float:right}.logContainer[_ngcontent-%COMP%]{margin-top:-18px;height:100px;width:100%;overflow:auto}.disclaimer[_ngcontent-%COMP%]{bottom:1px;font-size:x-small;margin:10px}.disclaimerRight[_ngcontent-%COMP%]{float:right}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#efefef;display:flex;flex-direction:column;flex-grow:1}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column}.rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:360px;max-width:320px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.attributesPanel[_ngcontent-%COMP%]{overflow:auto}.activityPanel[_ngcontent-%COMP%]{flex-grow:3;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{flex-grow:1;height:160px;min-height:160px;max-height:160px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}.cheat[_ngcontent-%COMP%]{font-size:3px}.panel[_ngcontent-%COMP%]{background-color:#fcfcfc;margin:4px;border:2px solid #121212;border-radius:4px;box-shadow:2px 2px 2px 1px #aaa}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid #121212;color:#000;font-size:14px;font-weight:400;margin:0 4px}"]}),n})();function t3(n,t){if(1&n){const e=de();y(0,"span")(1,"mat-icon",24),I("click",function(){return q(e),M().ascensionStoreClicked()}),w(2," keyboard_double_arrow_up "),v()()}}let n3=(()=>{class n{transform(e){return Math.floor(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=pt({name:"floor",type:n,pure:!0}),n})(),r3=(()=>{class n{transform(e){return(e=e.split(/(?=[A-Z])/).join(" "))[0].toUpperCase()+e.slice(1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=pt({name:"camelToTitle",type:n,pure:!0}),n})(),o3=(()=>{class n{constructor(e,i,r,o,s){this.mainLoopService=e,this.gameStateService=i,this.storeService=r,this.characterService=o,this.dialog=s,this.title="immortalityidle"}handleKeyboardEvent(e){"Space"==e.code&&(this.mainLoopService.pause=!this.mainLoopService.pause,e.preventDefault())}ngOnInit(){this.gameStateService.loadFromLocalStorage(),this.mainLoopService.start()}hardResetClicked(){confirm("This will reset everything, are you sure?")&&this.gameStateService.hardReset()}saveClicked(e){e.preventDefault(),this.gameStateService.savetoLocalStorage()}storeClicked(){this.storeService.setStoreInventory("manuals"),this.dialog.open(_c,{width:"500px",data:{someField:"foo"}})}storeOptionsClicked(){this.storeService.setStoreInventory("options"),this.dialog.open(_c,{width:"500px",data:{someField:"foo"}})}cheat(e){e.preventDefault(),this.gameStateService.cheat()}rebirthClicked(e){e.preventDefault(),this.gameStateService.rebirth()}ascensionStoreClicked(){this.storeService.setStoreInventory("ascension"),this.dialog.open(_c,{width:"500px",data:{someField:"foo"}})}}return n.\u0275fac=function(e){return new(e||n)(b(fi),b(Rw),b(Of),b(bt),b(Zp))},n.\u0275cmp=ct({type:n,selectors:[["app-root"]],hostBindings:function(e,i){1&e&&I("keydown",function(o){return i.handleKeyboardEvent(o)},!1,$m)},decls:33,vars:1,consts:[[1,"wrapper"],[1,"mainContainer"],[1,"top-line"],[1,"gameTitle"],["tooltip","A store that sells special items for aspiring immortals.",3,"click"],["tooltip","Configuration options for purchased items.",3,"click"],[4,"ngIf"],["href","","tooltip","Voluntarily end this life, allowing your current attributes to strengthen your aptitudes in the next life.",3,"click"],["href","",1,"cheat",3,"click"],["href","","tooltip","Autosaves fire every couple of minutes, but sometimes an immortal needs to save right now.",3,"click"],["href","","tooltip","Completely restart your journey toward immortality.","placement","left",3,"click"],[1,"panelContainer"],[1,"leftPanel"],[1,"timePanel","panel"],[1,"attributesPanel","panel"],[1,"healthPanel","panel"],[1,"centerPanel"],[1,"activityPanel","panel"],[1,"battlePanel","panel"],[1,"rightPanel"],[1,"equipmentPanel","panel"],[1,"homePanel","panel"],[1,"inventoryPanel","panel"],[1,"logPanel","panel"],["tooltip","Ascension Store.",3,"click"]],template:function(e,i){1&e&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),w(4," Immortality Idle - Can you become an immortal? "),v(),y(5,"span")(6,"mat-icon",4),I("click",function(){return i.storeClicked()}),w(7," shopping_cart "),v(),y(8,"mat-icon",5),I("click",function(){return i.storeOptionsClicked()}),w(9," settings "),v()(),V(10,t3,3,0,"span",6),y(11,"span")(12,"a",7),I("click",function(o){return i.rebirthClicked(o)}),w(13,"Reincarnate"),v(),y(14,"a",8),I("click",function(o){return i.cheat(o)}),w(15,"."),v()(),y(16,"a",9),I("click",function(o){return i.saveClicked(o)}),w(17,"Save"),v(),y(18,"a",10),I("click",function(){return i.hardResetClicked()}),w(19,"Hard Reset"),v()(),y(20,"div",11)(21,"div",12),we(22,"app-time-panel",13)(23,"app-attributes-panel",14)(24,"app-health-panel",15),v(),y(25,"div",16),we(26,"app-activity-panel",17)(27,"app-battle-panel",18),v(),y(28,"div",19),we(29,"app-equipment-panel",20)(30,"app-home-panel",21)(31,"app-inventory-panel",22),v()(),we(32,"app-log-panel",23),v()()),2&e&&(S(10),x("ngIf",i.characterService.characterState.attributes.spirituality.value>10))},directives:[hr,pi,xn,CU,QD,XD,MU,OU,RU,HU,QU,e3],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#efefef;display:flex;flex-direction:column;flex-grow:1}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column}.rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:360px;max-width:320px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.attributesPanel[_ngcontent-%COMP%]{overflow:auto}.activityPanel[_ngcontent-%COMP%]{flex-grow:3;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{flex-grow:1;height:160px;min-height:160px;max-height:160px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}.cheat[_ngcontent-%COMP%]{font-size:3px}.panel[_ngcontent-%COMP%]{background-color:#fcfcfc;margin:4px;border:2px solid #121212;border-radius:4px;box-shadow:2px 2px 2px 1px #aaa}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid #121212;color:#000;font-size:14px;font-weight:400;margin:0 4px}"]}),n})();const s3=[ZD,D0];let a3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ze({type:n,bootstrap:[o3]}),n.\u0275inj=je({providers:[],imports:[[AC,CL,nU,KB,Zh,RL.forRoot({"show-delay":500,hideDelay:50}),...s3],ZD,D0]}),n})();au(QD,[li,xn,pi,hr],[pC,_o,r3]),au(XD,[pi],[n3,_o]),function OP(){Hb=!1}(),qR().bootstrapModule(a3).catch(n=>console.error(n))}},ce=>{ce(ce.s=928)}]);