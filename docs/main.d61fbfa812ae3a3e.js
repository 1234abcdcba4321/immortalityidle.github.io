"use strict";(self.webpackChunkimmortalityidle=self.webpackChunkimmortalityidle||[]).push([[179],{894:()=>{function pe(n){return"function"==typeof n}function Go(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const _a=Go(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Ir(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class yt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(pe(i))try{i()}catch(o){t=o instanceof _a?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{lm(o)}catch(s){t=null!=t?t:[],s instanceof _a?t=[...t,...s.errors]:t.push(s)}}if(t)throw new _a(t)}}add(t){var e;if(t&&t!==this)if(this.closed)lm(t);else{if(t instanceof yt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Ir(e,t)}remove(t){const{_finalizers:e}=this;e&&Ir(e,t),t instanceof yt&&t._removeParent(this)}}yt.EMPTY=(()=>{const n=new yt;return n.closed=!0,n})();const sm=yt.EMPTY;function am(n){return n instanceof yt||n&&"closed"in n&&pe(n.remove)&&pe(n.add)&&pe(n.unsubscribe)}function lm(n){pe(n)?n():n.unsubscribe()}const Xi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Sa={setTimeout(n,t,...e){const{delegate:i}=Sa;return(null==i?void 0:i.setTimeout)?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=Sa;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function cm(n){Sa.setTimeout(()=>{const{onUnhandledError:t}=Xi;if(!t)throw n;t(n)})}function Zc(){}const uE=Xc("C",void 0,void 0);function Xc(n,t,e){return{kind:n,value:t,error:e}}let Qi=null;function ba(n){if(Xi.useDeprecatedSynchronousErrorHandling){const t=!Qi;if(t&&(Qi={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=Qi;if(Qi=null,e)throw i}}else n()}class Qc extends yt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,am(t)&&t.add(this)):this.destination=vE}static create(t,e,i){return new Ca(t,e,i)}next(t){this.isStopped?eu(function dE(n){return Xc("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?eu(function hE(n){return Xc("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?eu(uE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pE=Function.prototype.bind;function Jc(n,t){return pE.call(n,t)}class mE{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){wa(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){wa(i)}else wa(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){wa(e)}}}class Ca extends Qc{constructor(t,e,i){let r;if(super(),pe(t)||!t)r={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=i?i:void 0};else{let o;this&&Xi.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Jc(t.next,o),error:t.error&&Jc(t.error,o),complete:t.complete&&Jc(t.complete,o)}):r=t}this.destination=new mE(r)}}function wa(n){Xi.useDeprecatedSynchronousErrorHandling?function fE(n){Xi.useDeprecatedSynchronousErrorHandling&&Qi&&(Qi.errorThrown=!0,Qi.error=n)}(n):cm(n)}function eu(n,t){const{onStoppedNotification:e}=Xi;e&&Sa.setTimeout(()=>e(n,t))}const vE={closed:!0,next:Zc,error:function gE(n){throw n},complete:Zc},tu="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ei(n){return n}let Ve=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function _E(n){return n&&n instanceof Qc||function yE(n){return n&&pe(n.next)&&pe(n.error)&&pe(n.complete)}(n)&&am(n)}(e)?e:new Ca(e,i,r);return ba(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=hm(i))((r,o)=>{const s=new Ca({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[tu](){return this}pipe(...e){return function um(n){return 0===n.length?Ei:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=hm(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function hm(n){var t;return null!==(t=null!=n?n:Xi.Promise)&&void 0!==t?t:Promise}const SE=Go(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ee=(()=>{class n extends Ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new dm(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new SE}next(e){ba(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){ba(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){ba(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?sm:(this.currentObservers=null,o.push(e),new yt(()=>{this.currentObservers=null,Ir(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new Ve;return e.source=this,e}}return n.create=(t,e)=>new dm(t,e),n})();class dm extends Ee{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:sm}}function fm(n){return pe(null==n?void 0:n.lift)}function et(n){return t=>{if(fm(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function $e(n,t,e,i,r){return new bE(n,t,e,i,r)}class bE extends Qc{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function de(n,t){return et((e,i)=>{let r=0;e.subscribe($e(i,o=>{i.next(n.call(t,o,r++))}))})}function Ji(n){return this instanceof Ji?(this.v=n,this):new Ji(n)}function DE(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(d){i[d]&&(r[d]=function(f){return new Promise(function(p,v){o.push([d,f,p,v])>1||a(d,f)})})}function a(d,f){try{!function l(d){d.value instanceof Ji?Promise.resolve(d.value.v).then(c,u):h(o[0][2],d)}(i[d](f))}catch(p){h(o[0][3],p)}}function c(d){a("next",d)}function u(d){a("throw",d)}function h(d,f){d(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function EE(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function gm(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const iu=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function vm(n){return pe(null==n?void 0:n.then)}function ym(n){return pe(n[tu])}function _m(n){return Symbol.asyncIterator&&pe(null==n?void 0:n[Symbol.asyncIterator])}function Sm(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const bm=function kE(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Cm(n){return pe(null==n?void 0:n[bm])}function wm(n){return DE(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield Ji(e.read());if(r)return yield Ji(void 0);yield yield Ji(i)}}finally{e.releaseLock()}})}function Dm(n){return pe(null==n?void 0:n.getReader)}function $t(n){if(n instanceof Ve)return n;if(null!=n){if(ym(n))return function AE(n){return new Ve(t=>{const e=n[tu]();if(pe(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(iu(n))return function TE(n){return new Ve(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(vm(n))return function xE(n){return new Ve(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,cm)})}(n);if(_m(n))return Em(n);if(Cm(n))return function IE(n){return new Ve(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Dm(n))return function PE(n){return Em(wm(n))}(n)}throw Sm(n)}function Em(n){return new Ve(t=>{(function OE(n,t){var e,i,r,o;return function CE(n,t,e,i){return new(e||(e=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(h){s(h)}}function l(u){try{c(i.throw(u))}catch(h){s(h)}}function c(u){u.done?o(u.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=EE(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function li(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function at(n,t,e=1/0){return pe(t)?at((i,r)=>de((o,s)=>t(i,o,r,s))($t(n(i,r))),e):("number"==typeof t&&(e=t),et((i,r)=>function RE(n,t,e,i,r,o,s,a){const l=[];let c=0,u=0,h=!1;const d=()=>{h&&!l.length&&!c&&t.complete()},f=v=>c<i?p(v):l.push(v),p=v=>{o&&t.next(v),c++;let w=!1;$t(e(v,u++)).subscribe($e(t,D=>{null==r||r(D),o?f(D):t.next(D)},()=>{w=!0},void 0,()=>{if(w)try{for(c--;l.length&&c<i;){const D=l.shift();s?li(t,s,()=>p(D)):p(D)}d()}catch(D){t.error(D)}}))};return n.subscribe($e(t,f,()=>{h=!0,d()})),()=>{null==a||a()}}(i,r,n,e)))}function Wo(n=1/0){return at(Ei,n)}const ci=new Ve(n=>n.complete());function Mm(n){return n&&pe(n.schedule)}function ru(n){return n[n.length-1]}function km(n){return pe(ru(n))?n.pop():void 0}function Yo(n){return Mm(ru(n))?n.pop():void 0}function Am(n,t=0){return et((e,i)=>{e.subscribe($e(i,r=>li(i,n,()=>i.next(r),t),()=>li(i,n,()=>i.complete(),t),r=>li(i,n,()=>i.error(r),t)))})}function Tm(n,t=0){return et((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function xm(n,t){if(!n)throw new Error("Iterable cannot be null");return new Ve(e=>{li(e,t,()=>{const i=n[Symbol.asyncIterator]();li(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function pt(n,t){return t?function UE(n,t){if(null!=n){if(ym(n))return function NE(n,t){return $t(n).pipe(Tm(t),Am(t))}(n,t);if(iu(n))return function VE(n,t){return new Ve(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(vm(n))return function BE(n,t){return $t(n).pipe(Tm(t),Am(t))}(n,t);if(_m(n))return xm(n,t);if(Cm(n))return function HE(n,t){return new Ve(e=>{let i;return li(e,t,()=>{i=n[bm](),li(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>pe(null==i?void 0:i.return)&&i.return()})}(n,t);if(Dm(n))return function jE(n,t){return xm(wm(n),t)}(n,t)}throw Sm(n)}(n,t):$t(n)}function Im(...n){const t=Yo(n),e=function LE(n,t){return"number"==typeof ru(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?$t(i[0]):Wo(e)(pt(i,t)):ci}function jn(n){return n<=0?()=>ci:et((t,e)=>{let i=0;t.subscribe($e(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Pm(n={}){const{connector:t=(()=>new Ee),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s=null,a=null,l=null,c=0,u=!1,h=!1;const d=()=>{null==a||a.unsubscribe(),a=null},f=()=>{d(),s=l=null,u=h=!1},p=()=>{const v=s;f(),null==v||v.unsubscribe()};return et((v,w)=>{c++,!h&&!u&&d();const D=l=null!=l?l:t();w.add(()=>{c--,0===c&&!h&&!u&&(a=ou(p,r))}),D.subscribe(w),s||(s=new Ca({next:C=>D.next(C),error:C=>{h=!0,d(),a=ou(f,e,C),D.error(C)},complete:()=>{u=!0,d(),a=ou(f,i),D.complete()}}),pt(v).subscribe(s))})(o)}}function ou(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(jn(1)).subscribe(()=>n())}function Me(n){for(let t in n)if(n[t]===Me)return t;throw Error("Could not find renamed property on target object.")}function su(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Se(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Se).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function au(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const qE=Me({__forward_ref__:Me});function Te(n){return n.__forward_ref__=Te,n.toString=function(){return Se(this())},n}function ee(n){return Om(n)?n():n}function Om(n){return"function"==typeof n&&n.hasOwnProperty(qE)&&n.__forward_ref__===Te}class L extends Error{constructor(t,e){super(function lu(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function X(n){return"string"==typeof n?n:null==n?"":String(n)}function xt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():X(n)}function Da(n,t){const e=t?` in ${t}`:"";throw new L(-201,`No provider for ${xt(n)} found${e}`)}function Gt(n,t){null==n&&function Oe(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function O(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ye(n){return{providers:n.providers||[],imports:n.imports||[]}}function cu(n){return Rm(n,Ea)||Rm(n,Lm)}function Rm(n,t){return n.hasOwnProperty(t)?n[t]:null}function Fm(n){return n&&(n.hasOwnProperty(uu)||n.hasOwnProperty(ZE))?n[uu]:null}const Ea=Me({\u0275prov:Me}),uu=Me({\u0275inj:Me}),Lm=Me({ngInjectableDef:Me}),ZE=Me({ngInjectorDef:Me});var W=(()=>((W=W||{})[W.Default=0]="Default",W[W.Host=1]="Host",W[W.Self=2]="Self",W[W.SkipSelf=4]="SkipSelf",W[W.Optional=8]="Optional",W))();let hu;function Mi(n){const t=hu;return hu=n,t}function Nm(n,t,e){const i=cu(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&W.Optional?null:void 0!==t?t:void Da(Se(n),"Injector")}function ki(n){return{toString:n}.toString()}var En=(()=>((En=En||{})[En.OnPush=0]="OnPush",En[En.Default=1]="Default",En))(),Mn=(()=>{return(n=Mn||(Mn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Mn;var n})();const QE="undefined"!=typeof globalThis&&globalThis,JE="undefined"!=typeof window&&window,eM="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ce=QE||"undefined"!=typeof global&&global||JE||eM,Pr={},ke=[],Ma=Me({\u0275cmp:Me}),du=Me({\u0275dir:Me}),fu=Me({\u0275pipe:Me}),Bm=Me({\u0275mod:Me}),hi=Me({\u0275fac:Me}),Ko=Me({__NG_ELEMENT_ID__:Me});let tM=0;function He(n){return ki(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===En.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||ke,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Mn.Emulated,id:"c",styles:n.styles||ke,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,o=n.features,s=n.pipes;return i.id+=tM++,i.inputs=Um(n.inputs,e),i.outputs=Um(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(Vm):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(Hm):null,i})}function Zo(n,t,e){const i=n.\u0275cmp;i.directiveDefs=()=>t.map(Vm),i.pipeDefs=()=>e.map(Hm)}function Vm(n){return Dt(n)||function Ai(n){return n[du]||null}(n)}function Hm(n){return function er(n){return n[fu]||null}(n)}const jm={};function tt(n){return ki(()=>{const t={type:n.type,bootstrap:n.bootstrap||ke,declarations:n.declarations||ke,imports:n.imports||ke,exports:n.exports||ke,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(jm[n.id]=n.type),t})}function Um(n,t){if(null==n)return Pr;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}const U=He;function _t(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Dt(n){return n[Ma]||null}function un(n,t){const e=n[Bm]||null;if(!e&&!0===t)throw new Error(`Type ${Se(n)} does not have '\u0275mod' property.`);return e}function Un(n){return Array.isArray(n)&&"object"==typeof n[1]}function An(n){return Array.isArray(n)&&!0===n[1]}function gu(n){return 0!=(8&n.flags)}function xa(n){return 2==(2&n.flags)}function Ia(n){return 1==(1&n.flags)}function Tn(n){return null!==n.template}function sM(n){return 0!=(512&n[2])}function rr(n,t){return n.hasOwnProperty(hi)?n[hi]:null}class cM{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Yt(){return $m}function $m(n){return n.type.prototype.ngOnChanges&&(n.setInput=hM),uM}function uM(){const n=Gm(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===Pr)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function hM(n,t,e,i){const r=Gm(n)||function dM(n,t){return n[zm]=t}(n,{previous:Pr,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[e],l=s[a];o[a]=new cM(l&&l.currentValue,t,s===Pr),n[i]=t}Yt.ngInherit=!0;const zm="__ngSimpleChanges__";function Gm(n){return n[zm]||null}let bu;function Cu(){return void 0!==bu?bu:"undefined"!=typeof document?document:void 0}function ze(n){return!!n.listen}const Wm={createRenderer:(n,t)=>Cu()};function nt(n){for(;Array.isArray(n);)n=n[0];return n}function Pa(n,t){return nt(t[n])}function fn(n,t){return nt(t[n.index])}function wu(n,t){return n.data[t]}function Nr(n,t){return n[t]}function Kt(n,t){const e=t[n];return Un(e)?e:e[0]}function Ym(n){return 4==(4&n[2])}function Du(n){return 128==(128&n[2])}function Ti(n,t){return null==t?null:n[t]}function Km(n){n[18]=0}function Eu(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const Y={lFrame:ig(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Zm(){return Y.bindingsEnabled}function k(){return Y.lFrame.lView}function fe(){return Y.lFrame.tView}function H(n){return Y.lFrame.contextLView=n,n[8]}function lt(){let n=Xm();for(;null!==n&&64===n.type;)n=n.parent;return n}function Xm(){return Y.lFrame.currentTNode}function qn(n,t){const e=Y.lFrame;e.currentTNode=n,e.isParent=t}function Mu(){return Y.lFrame.isParent}function ku(){Y.lFrame.isParent=!1}function Oa(){return Y.isInCheckNoChangesMode}function Ra(n){Y.isInCheckNoChangesMode=n}function It(){const n=Y.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function di(){return Y.lFrame.bindingIndex}function Br(){return Y.lFrame.bindingIndex++}function fi(n){const t=Y.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function TM(n,t){const e=Y.lFrame;e.bindingIndex=e.bindingRootIndex=n,Au(t)}function Au(n){Y.lFrame.currentDirectiveIndex=n}function Tu(n){const t=Y.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function eg(){return Y.lFrame.currentQueryIndex}function xu(n){Y.lFrame.currentQueryIndex=n}function IM(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function tg(n,t,e){if(e&W.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&W.Host||(r=IM(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;t=r,n=o}const i=Y.lFrame=ng();return i.currentTNode=t,i.lView=n,!0}function Fa(n){const t=ng(),e=n[1];Y.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function ng(){const n=Y.lFrame,t=null===n?null:n.child;return null===t?ig(n):t}function ig(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function rg(){const n=Y.lFrame;return Y.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const og=rg;function La(){const n=rg();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Pt(){return Y.lFrame.selectedIndex}function xi(n){Y.lFrame.selectedIndex=n}function Ge(){const n=Y.lFrame;return wu(n.tView,n.selectedIndex)}function Na(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(e,u)}}function Ba(n,t,e){sg(n,t,3,e)}function Va(n,t,e,i){(3&n[2])===e&&sg(n,t,e,i)}function Iu(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function sg(n,t,e,i){const o=null!=i?i:-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(HM(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function HM(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class ts{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Ha(n,t,e){const i=ze(n);let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const s=e[r++],a=e[r++],l=e[r++];i?n.setAttribute(t,a,l,s):t.setAttributeNS(s,a,l)}else{const s=o,a=e[++r];Ou(s)?i&&n.setProperty(t,s,a):i?n.setAttribute(t,s,a):t.setAttribute(s,a),r++}}return r}function ag(n){return 3===n||4===n||6===n}function Ou(n){return 64===n.charCodeAt(0)}function ja(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||lg(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function lg(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function cg(n){return-1!==n}function Vr(n){return 32767&n}function Hr(n,t){let e=function zM(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let Ru=!0;function Ua(n){const t=Ru;return Ru=n,t}let GM=0;function is(n,t){const e=Lu(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,Fu(i.data,n),Fu(t,null),Fu(i.blueprint,null));const r=qa(n,t),o=n.injectorIndex;if(cg(r)){const s=Vr(r),a=Hr(r,t),l=a[1].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function Fu(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Lu(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function qa(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){const o=r[1],s=o.type;if(i=2===s?o.declTNode:1===s?r[6]:null,null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function $a(n,t,e){!function WM(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Ko)&&(i=e[Ko]),null==i&&(i=e[Ko]=GM++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function dg(n,t,e){if(e&W.Optional)return n;Da(t,"NodeInjector")}function fg(n,t,e,i){if(e&W.Optional&&void 0===i&&(i=null),0==(e&(W.Self|W.Host))){const r=n[9],o=Mi(void 0);try{return r?r.get(t,i,e&W.Optional):Nm(t,i,e&W.Optional)}finally{Mi(o)}}return dg(i,t,e)}function pg(n,t,e,i=W.Default,r){if(null!==n){const o=function XM(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Ko)?n[Ko]:void 0;return"number"==typeof t?t>=0?255&t:KM:t}(e);if("function"==typeof o){if(!tg(t,n,i))return i&W.Host?dg(r,e,i):fg(t,e,i,r);try{const s=o(i);if(null!=s||i&W.Optional)return s;Da(e)}finally{og()}}else if("number"==typeof o){let s=null,a=Lu(n,t),l=-1,c=i&W.Host?t[16][6]:null;for((-1===a||i&W.SkipSelf)&&(l=-1===a?qa(n,t):t[a+8],-1!==l&&vg(i,!1)?(s=t[1],a=Vr(l),t=Hr(l,t)):a=-1);-1!==a;){const u=t[1];if(gg(o,a,u.data)){const h=ZM(a,t,e,s,i,c);if(h!==mg)return h}l=t[a+8],-1!==l&&vg(i,t[1].data[a+8]===c)&&gg(o,a,t)?(s=u,a=Vr(l),t=Hr(l,t)):a=-1}}}return fg(t,e,i,r)}const mg={};function KM(){return new jr(lt(),k())}function ZM(n,t,e,i,r,o){const s=t[1],a=s.data[n+8],u=za(a,s,e,null==i?xa(a)&&Ru:i!=s&&0!=(3&a.type),r&W.Host&&o===a);return null!==u?rs(t,s,u,a):mg}function za(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,u=o>>20,d=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<d;f++){const p=s[f];if(f<l&&e===p||f>=l&&p.type===e)return f}if(r){const f=s[l];if(f&&Tn(f)&&f.type===e)return l}return null}function rs(n,t,e,i){let r=n[e];const o=t.data;if(function jM(n){return n instanceof ts}(r)){const s=r;s.resolving&&function $E(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new L(-200,`Circular dependency in DI detected for ${n}${e}`)}(xt(o[e]));const a=Ua(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Mi(s.injectImpl):null;tg(n,i,W.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function VM(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=$m(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==l&&Mi(l),Ua(a),s.resolving=!1,og()}}return r}function gg(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function vg(n,t){return!(n&W.Self||n&W.Host&&t)}class jr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return pg(this._tNode,this._lView,t,i,e)}}function St(n){return ki(()=>{const t=n.prototype.constructor,e=t[hi]||Nu(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[hi]||Nu(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Nu(n){return Om(n)?()=>{const t=Nu(ee(n));return t&&t()}:rr(n)}function Ur(n){return function YM(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(ag(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(lt(),n)}const $r="__parameters__";function Gr(n,t,e){return ki(()=>{const i=function Bu(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,u){const h=l.hasOwnProperty($r)?l[$r]:Object.defineProperty(l,$r,{value:[]})[$r];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class B{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=O({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const JM=new B("AnalyzeForEntryComponents");function pn(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),pn(i,t)):t!==n&&t.push(i)}return t}function $n(n,t){n.forEach(e=>Array.isArray(e)?$n(e,t):t(e))}function _g(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Ga(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function as(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function Zt(n,t,e){let i=Wr(n,t);return i>=0?n[1|i]=e:(i=~i,function nk(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Hu(n,t){const e=Wr(n,t);if(e>=0)return n[1|e]}function Wr(n,t){return function Cg(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const ls={},Uu="__NG_DI_FLAG__",Ya="ngTempTokenPath",ck=/\n/gm,Dg="__source",hk=Me({provide:String,useValue:Me});let cs;function Eg(n){const t=cs;return cs=n,t}function dk(n,t=W.Default){if(void 0===cs)throw new L(203,"");return null===cs?Nm(n,void 0,t):cs.get(n,t&W.Optional?null:void 0,t)}function y(n,t=W.Default){return(function XE(){return hu}()||dk)(ee(n),t)}const Ka=y;function qu(n){const t=[];for(let e=0;e<n.length;e++){const i=ee(n[e]);if(Array.isArray(i)){if(0===i.length)throw new L(900,"");let r,o=W.Default;for(let s=0;s<i.length;s++){const a=i[s],l=fk(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(y(r,o))}else t.push(y(i))}return t}function us(n,t){return n[Uu]=t,n.prototype[Uu]=t,n}function fk(n){return n[Uu]}const Za=us(Gr("Inject",n=>({token:n})),-1),xn=us(Gr("Optional"),8),Yr=us(Gr("SkipSelf"),4);let Qa,Ja;function Zr(n){var t;return(null===(t=function zu(){if(void 0===Qa&&(Qa=null,Ce.trustedTypes))try{Qa=Ce.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Qa}())||void 0===t?void 0:t.createHTML(n))||n}function Ig(n){var t;return(null===(t=function Gu(){if(void 0===Ja&&(Ja=null,Ce.trustedTypes))try{Ja=Ce.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Ja}())||void 0===t?void 0:t.createHTML(n))||n}class or{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Mk extends or{getTypeName(){return"HTML"}}class kk extends or{getTypeName(){return"Style"}}class Ak extends or{getTypeName(){return"Script"}}class Tk extends or{getTypeName(){return"URL"}}class xk extends or{getTypeName(){return"ResourceURL"}}function Xt(n){return n instanceof or?n.changingThisBreaksApplicationSecurity:n}function zn(n,t){const e=Rg(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function Rg(n){return n instanceof or&&n.getTypeName()||null}class Lk{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Zr(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Nk{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Zr(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=Zr(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const s=e.item(r).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const Vk=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Hk=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ds(n){return(n=String(n)).match(Vk)||n.match(Hk)?n:"unsafe:"+n}function Gn(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function fs(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const Ng=Gn("area,br,col,hr,img,wbr"),Bg=Gn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vg=Gn("rp,rt"),Wu=fs(Ng,fs(Bg,Gn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),fs(Vg,Gn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),fs(Vg,Bg)),Yu=Gn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ku=Gn("srcset"),Hg=fs(Yu,Ku,Gn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jk=Gn("script,style,template");class Uk{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Wu.hasOwnProperty(e))return this.sanitizedSomething=!0,!jk.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!Hg.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Yu[a]&&(l=ds(l)),Ku[a]&&(n=l,l=(n=String(n)).split(",").map(t=>ds(t.trim())).join(", ")),this.buf.push(" ",s,'="',jg(l),'"')}var n;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Wu.hasOwnProperty(e)&&!Ng.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(jg(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const qk=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$k=/([^\#-~ |!])/g;function jg(n){return n.replace(/&/g,"&amp;").replace(qk,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace($k,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let el;function Ug(n,t){let e=null;try{el=el||function Fg(n){const t=new Nk(n);return function Bk(){try{return!!(new window.DOMParser).parseFromString(Zr(""),"text/html")}catch(n){return!1}}()?new Lk(t):t}(n);let i=t?String(t):"";e=el.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=el.getInertBodyElement(i)}while(i!==o);return Zr((new Uk).sanitizeChildren(Zu(e)||e))}finally{if(e){const i=Zu(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Zu(n){return"content"in n&&function zk(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ye=(()=>((ye=ye||{})[ye.NONE=0]="NONE",ye[ye.HTML=1]="HTML",ye[ye.STYLE=2]="STYLE",ye[ye.SCRIPT=3]="SCRIPT",ye[ye.URL=4]="URL",ye[ye.RESOURCE_URL=5]="RESOURCE_URL",ye))();function qg(n){const t=function ps(){const n=k();return n&&n[12]}();return t?Ig(t.sanitize(ye.HTML,n)||""):zn(n,"HTML")?Ig(Xt(n)):Ug(Cu(),X(n))}const Gg="__ngContext__";function Mt(n,t){n[Gg]=t}function Ju(n){const t=function ms(n){return n[Gg]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function th(n){return n.ngOriginalError}function aA(n,...t){n.error(...t)}class Pi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=function sA(n){return n&&n.ngErrorLogger||aA}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&th(t);for(;e&&th(e);)e=th(e);return e||null}}const vA=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ce))();function Xg(n){return n.ownerDocument}function Wn(n){return n instanceof Function?n():n}var Qt=(()=>((Qt=Qt||{})[Qt.Important=1]="Important",Qt[Qt.DashCase=2]="DashCase",Qt))();function ih(n,t){return undefined(n,t)}function gs(n){const t=n[3];return An(t)?t[3]:t}function rh(n){return nv(n[13])}function oh(n){return nv(n[4])}function nv(n){for(;null!==n&&!An(n);)n=n[4];return n}function Qr(n,t,e,i,r){if(null!=i){let o,s=!1;An(i)?o=i:Un(i)&&(s=!0,i=i[0]);const a=nt(i);0===n&&null!==e?null==r?lv(t,e,a):sr(t,e,a,r||null,!0):1===n&&null!==e?sr(t,e,a,r||null,!0):2===n?function mv(n,t,e){const i=tl(n,t);i&&function xA(n,t,e,i){ze(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function OA(n,t,e,i,r){const o=e[7];o!==nt(e)&&Qr(t,n,i,o,r);for(let a=10;a<e.length;a++){const l=e[a];vs(l[1],l,n,t,i,o)}}(t,n,o,e,r)}}function ah(n,t,e){if(ze(n))return n.createElement(t,e);{const i=null!==e?function gM(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(e):null;return null===i?n.createElement(t):n.createElementNS(i,t)}}function rv(n,t){const e=n[9],i=e.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,Eu(r,-1)),e.splice(i,1)}function lh(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&rv(r,i),t>0&&(n[e-1][4]=i[4]);const o=Ga(n,10+t);!function CA(n,t){vs(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function ov(n,t){if(!(256&t[2])){const e=t[11];ze(e)&&e.destroyNode&&vs(n,t,e,3,null,null),function EA(n){let t=n[13];if(!t)return ch(n[1],n);for(;t;){let e=null;if(Un(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Un(t)&&ch(t[1],t),t=t[3];null===t&&(t=n),Un(t)&&ch(t[1],t),e=t&&t[4]}t=e}}(t)}}function ch(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function TA(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof ts)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(r)}finally{}}}}(n,t),function AA(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(t):nt(t[s]),l=i[r=e[o+2]],c=e[o+3];"boolean"==typeof c?a.removeEventListener(e[o],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),o+=2}else{const s=i[r=e[o+1]];e[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)i[o]();t[7]=null}}(n,t),1===t[1].type&&ze(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&An(t[3])){e!==t[3]&&rv(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function sv(n,t,e){return function av(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===Mn.None||r===Mn.Emulated)return null}return fn(i,e)}(n,t.parent,e)}function sr(n,t,e,i,r){ze(n)?n.insertBefore(t,e,i,r):t.insertBefore(e,i,r)}function lv(n,t,e){ze(n)?n.appendChild(t,e):t.appendChild(e)}function cv(n,t,e,i,r){null!==i?sr(n,t,e,i,r):lv(n,t,e)}function tl(n,t){return ze(n)?n.parentNode(t):t.parentNode}function uv(n,t,e){return dv(n,t,e)}let dv=function hv(n,t,e){return 40&n.type?fn(n,e):null};function nl(n,t,e,i){const r=sv(n,i,t),o=t[11],a=uv(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)cv(o,r,e[l],a,!1);else cv(o,r,e,a,!1)}function il(n,t){if(null!==t){const e=t.type;if(3&e)return fn(t,n);if(4&e)return hh(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return il(n,i);{const r=n[t.index];return An(r)?hh(-1,r):nt(r)}}if(32&e)return ih(t,n)()||nt(n[t.index]);{const i=pv(n,t);return null!==i?Array.isArray(i)?i[0]:il(gs(n[16]),i):il(n,t.next)}}return null}function pv(n,t){return null!==t?n[16][6].projection[t.projection]:null}function hh(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return il(i,r)}return t[7]}function dh(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===t&&(a&&Mt(nt(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)dh(n,t,e.child,i,r,o,!1),Qr(t,n,r,a,o);else if(32&l){const c=ih(e,i);let u;for(;u=c();)Qr(t,n,r,u,o);Qr(t,n,r,a,o)}else 16&l?gv(n,t,i,e,r,o):Qr(t,n,r,a,o);e=s?e.projectionNext:e.next}}function vs(n,t,e,i,r,o){dh(e,i,n.firstChild,t,r,o,!1)}function gv(n,t,e,i,r,o){const s=e[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Qr(t,n,r,l[c],o);else dh(n,t,l,s[3],r,o,!0)}function vv(n,t,e){ze(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function fh(n,t,e){ze(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function yv(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}const _v="ng-template";function FA(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==yv(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function Sv(n){return 4===n.type&&n.value!==_v}function LA(n,t,e){return t===(4!==n.type||e?n.value:_v)}function NA(n,t,e){let i=4;const r=n.attrs||[],o=function HA(n){for(let t=0;t<n.length;t++)if(ag(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!LA(n,l,e)||""===l&&1===t.length){if(In(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!FA(n.attrs,c,e)){if(In(i))return!1;s=!0}continue}const h=BA(8&i?"class":l,r,Sv(n),e);if(-1===h){if(In(i))return!1;s=!0;continue}if(""!==c){let d;d=h>o?"":r[h+1].toLowerCase();const f=8&i?d:null;if(f&&-1!==yv(f,c,0)||2&i&&c!==d){if(In(i))return!1;s=!0}}}}else{if(!s&&!In(i)&&!In(l))return!1;if(s&&In(l))continue;s=!1,i=l|1&i}}return In(i)||s}function In(n){return 0==(1&n)}function BA(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function jA(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function bv(n,t,e=!1){for(let i=0;i<t.length;i++)if(NA(n,t[i],e))return!0;return!1}function UA(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Cv(n,t){return n?":not("+t.trim()+")":t}function qA(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!In(s)&&(t+=Cv(o,r),r=""),i=s,o=o||!In(i);e++}return""!==r&&(t+=Cv(o,r)),t}const Q={};function _(n){wv(fe(),k(),Pt()+n,Oa())}function wv(n,t,e,i){if(!i)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&Ba(t,o,e)}else{const o=n.preOrderHooks;null!==o&&Va(t,o,0,e)}xi(e)}function rl(n,t){return n<<17|t<<2}function Pn(n){return n>>17&32767}function ph(n){return 2|n}function pi(n){return(131068&n)>>2}function mh(n,t){return-131069&n|t<<2}function gh(n){return 1|n}function Rv(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],o=e[i+1];if(-1!==o){const s=n.data[o];xu(r),s.contentQueries(2,t[o],o)}}}function ys(n,t,e,i,r,o,s,a,l,c){const u=t.blueprint.slice();return u[0]=r,u[2]=140|i,Km(u),u[3]=u[15]=n,u[8]=e,u[10]=s||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=o,u[16]=2==t.type?n[16]:u,u}function Jr(n,t,e,i,r){let o=n.data[t];if(null===o)o=function Eh(n,t,e,i,r){const o=Xm(),s=Mu(),l=n.data[t]=function aT(n,t,e,i,r,o){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,t,e,i,r),function AM(){return Y.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function es(){const n=Y.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return qn(o,!0),o}function eo(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function _s(n,t,e){Fa(t);try{const i=n.viewQuery;null!==i&&Rh(1,i,e);const r=n.template;null!==r&&Fv(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Rv(n,t),n.staticViewQueries&&Rh(2,n.viewQuery,e);const o=n.components;null!==o&&function rT(n,t){for(let e=0;e<t.length;e++)ET(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,La()}}function to(n,t,e,i){const r=t[2];if(256==(256&r))return;Fa(t);const o=Oa();try{Km(t),function Qm(n){return Y.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Fv(n,t,e,2,i);const s=3==(3&r);if(!o)if(s){const c=n.preOrderCheckHooks;null!==c&&Ba(t,c,null)}else{const c=n.preOrderHooks;null!==c&&Va(t,c,0,null),Iu(t,0)}if(function wT(n){for(let t=rh(n);null!==t;t=oh(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],o=r[3];0==(1024&r[2])&&Eu(o,1),r[2]|=1024}}}(t),function CT(n){for(let t=rh(n);null!==t;t=oh(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];Du(i)&&to(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&Rv(n,t),!o)if(s){const c=n.contentCheckHooks;null!==c&&Ba(t,c)}else{const c=n.contentHooks;null!==c&&Va(t,c,1),Iu(t,1)}!function nT(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)xi(~r);else{const o=r,s=e[++i],a=e[++i];TM(s,o),a(2,t[o])}}}finally{xi(-1)}}(n,t);const a=n.components;null!==a&&function iT(n,t){for(let e=0;e<t.length;e++)DT(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&Rh(2,l,i),!o)if(s){const c=n.viewCheckHooks;null!==c&&Ba(t,c)}else{const c=n.viewHooks;null!==c&&Va(t,c,2),Iu(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Eu(t[3],-1))}finally{La()}}function oT(n,t,e,i){const r=t[10],o=!Oa(),s=Ym(t);try{o&&!s&&r.begin&&r.begin(),s&&_s(n,t,i),to(n,t,e,i)}finally{o&&!s&&r.end&&r.end()}}function Fv(n,t,e,i,r){const o=Pt(),s=2&i;try{xi(-1),s&&t.length>20&&wv(n,t,20,Oa()),e(i,r)}finally{xi(o)}}function Lv(n,t,e){if(gu(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}function Mh(n,t,e){!Zm()||(function pT(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||is(e,t),Mt(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=Tn(l);c&&_T(t,e,l);const u=rs(t,n,a,e);Mt(u,t),null!==s&&ST(0,a-r,u,l,0,s),c&&(Kt(e.index,t)[8]=u)}}(n,t,e,fn(e,t)),128==(128&e.flags)&&function mT(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,a=function xM(){return Y.lFrame.currentDirectiveIndex}();try{xi(s);for(let l=i;l<r;l++){const c=n.data[l],u=t[l];Au(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&$v(c,u)}}finally{xi(-1),Au(a)}}(n,t,e))}function kh(n,t,e=fn){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function Nv(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=al(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function al(n,t,e,i,r,o,s,a,l,c){const u=20+i,h=u+r,d=function sT(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Q);return e}(u,h),f="function"==typeof c?c():c;return d[1]={type:n,blueprint:d,template:e,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function Hv(n,t,e,i){const r=Zv(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&Xv(n).push(i,r.length-1))}function jv(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function Jt(n,t,e,i,r,o,s,a){const l=fn(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(ey(n,e,u,i,r),xa(t)&&function uT(n,t){const e=Kt(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function cT(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,ze(o)?o.setProperty(l,i,r):Ou(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function Ah(n,t,e,i){let r=!1;if(Zm()){const o=function gT(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];bv(e,s.selectors,!1)&&(r||(r=[]),$a(is(e,t),n,s.type),Tn(s)?(zv(n,e),r.unshift(s)):r.push(s))}return r}(n,t,e),s=null===i?null:{"":-1};if(null!==o){r=!0,Gv(e,n.data.length,o.length);for(let u=0;u<o.length;u++){const h=o[u];h.providersResolver&&h.providersResolver(h)}let a=!1,l=!1,c=eo(n,t,o.length,null);for(let u=0;u<o.length;u++){const h=o[u];e.mergedAttrs=ja(e.mergedAttrs,h.hostAttrs),Wv(n,e,t,c,h),yT(c,h,s),null!==h.contentQueries&&(e.flags|=8),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(e.flags|=128);const d=h.type.prototype;!a&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}!function lT(n,t){const i=t.directiveEnd,r=n.data,o=t.attrs,s=[];let a=null,l=null;for(let c=t.directiveStart;c<i;c++){const u=r[c],h=u.inputs,d=null===o||Sv(t)?null:bT(h,o);s.push(d),a=jv(h,c,a),l=jv(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=l}(n,e)}s&&function vT(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new L(-301,!1);i.push(t[r],o)}}}(e,i,s)}return e.mergedAttrs=ja(e.mergedAttrs,e.attrs),r}function qv(n,t,e,i,r,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function fT(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,r,s)}}function $v(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function zv(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function yT(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Tn(t)&&(e[""]=n)}}function Gv(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Wv(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=rr(r.type)),s=new ts(o,Tn(r),null);n.blueprint[i]=s,e[i]=s,qv(n,t,0,i,eo(n,e,r.hostVars,Q),r)}function _T(n,t,e){const i=fn(t,n),r=Nv(e),o=n[10],s=ll(n,ys(n,r,null,e.onPush?64:16,i,t,o,o.createRenderer(i,e),null,null));n[t.index]=s}function Yn(n,t,e,i,r,o){const s=fn(n,t);!function Th(n,t,e,i,r,o,s){if(null==o)ze(n)?n.removeAttribute(t,r,e):t.removeAttribute(r);else{const a=null==s?X(o):s(o,i||"",r);ze(n)?n.setAttribute(t,r,a,e):e?t.setAttributeNS(e,r,a):t.setAttribute(r,a)}}(t[11],s,o,n.value,e,i,r)}function ST(n,t,e,i,r,o){const s=o[t];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],h=s[l++];null!==a?i.setInput(e,h,c,u):e[u]=h}}}function bT(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function Yv(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function DT(n,t){const e=Kt(t,n);if(Du(e)){const i=e[1];80&e[2]?to(i,e,i.template,e[8]):e[5]>0&&xh(e)}}function xh(n){for(let i=rh(n);null!==i;i=oh(i))for(let r=10;r<i.length;r++){const o=i[r];if(1024&o[2]){const s=o[1];to(s,o,s.template,o[8])}else o[5]>0&&xh(o)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=Kt(e[i],n);Du(r)&&r[5]>0&&xh(r)}}function ET(n,t){const e=Kt(t,n),i=e[1];(function MT(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),_s(i,e,e[8])}function ll(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Ih(n){for(;n;){n[2]|=64;const t=gs(n);if(sM(n)&&!t)return n;n=t}return null}function Oh(n,t,e){const i=t[10];i.begin&&i.begin();try{to(n,t,n.template,e)}catch(r){throw Jv(t,r),r}finally{i.end&&i.end()}}function Kv(n){!function Ph(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=Ju(e),r=i[1];oT(r,i,r.template,e)}}(n[8])}function Rh(n,t,e){xu(0),t(n,e)}const xT=(()=>Promise.resolve(null))();function Zv(n){return n[7]||(n[7]=[])}function Xv(n){return n.cleanup||(n.cleanup=[])}function Qv(n,t,e){return(null===n||Tn(n))&&(e=function _M(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(e[t.index])),e[11]}function Jv(n,t){const e=n[9],i=e?e.get(Pi,null):null;i&&i.handleError(t)}function ey(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],l=t[s],c=n.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function mi(n,t,e){const i=Pa(t,n);!function iv(n,t,e){ze(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function cl(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=au(r,a):2==o&&(i=au(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}const Fh=new B("INJECTOR",-1);class ty{get(t,e=ls){if(e===ls){const i=new Error(`NullInjectorError: No provider for ${Se(t)}!`);throw i.name="NullInjectorError",i}return e}}const Lh=new B("Set Injector scope."),Ss={},OT={};let Nh;function ny(){return void 0===Nh&&(Nh=new ty),Nh}function iy(n,t=null,e=null,i){const r=ry(n,t,e,i);return r._resolveInjectorDefTypes(),r}function ry(n,t=null,e=null,i){return new RT(n,e,t||ny(),i)}class RT{constructor(t,e,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&$n(e,a=>this.processProvider(a,t,e)),$n([t],a=>this.processInjectorType(a,[],o)),this.records.set(Fh,no(void 0,this));const s=this.records.get(Lh);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:Se(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=ls,i=W.Default){this.assertNotDestroyed();const r=Eg(this),o=Mi(void 0);try{if(!(i&W.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function UT(n){return"function"==typeof n||"object"==typeof n&&n instanceof B}(t)&&cu(t);a=l&&this.injectableDefInScope(l)?no(Bh(t),Ss):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&W.Self?ny():this.parent).get(t,e=i&W.Optional&&e===ls?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[Ya]=s[Ya]||[]).unshift(Se(t)),r)throw s;return function pk(n,t,e,i){const r=n[Ya];throw t[Dg]&&r.unshift(t[Dg]),n.message=function mk(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=Se(t);if(Array.isArray(t))r=t.map(Se).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Se(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(ck,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Ya]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{Mi(o),Eg(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,r)=>t.push(Se(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new L(205,!1)}processInjectorType(t,e,i){if(!(t=ee(t)))return!1;let r=Fm(t);const o=null==r&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==i.indexOf(s);if(void 0!==o&&(r=Fm(o)),null==r)return!1;if(null!=r.imports&&!a){let u;i.push(s);try{$n(r.imports,h=>{this.processInjectorType(h,e,i)&&(void 0===u&&(u=[]),u.push(h))})}finally{}if(void 0!==u)for(let h=0;h<u.length;h++){const{ngModule:d,providers:f}=u[h];$n(f,p=>this.processProvider(p,d,f||ke))}}this.injectorDefTypes.add(s);const l=rr(s)||(()=>new s);this.records.set(s,no(l,Ss));const c=r.providers;if(null!=c&&!a){const u=t;$n(c,h=>this.processProvider(h,u,c))}return void 0!==o&&void 0!==t.providers}processProvider(t,e,i){let r=io(t=ee(t))?t:ee(t&&t.provide);const o=function LT(n,t,e){return sy(n)?no(void 0,n.useValue):no(oy(n),Ss)}(t);if(io(t)||!0!==t.multi)this.records.get(r);else{let s=this.records.get(r);s||(s=no(void 0,Ss,!0),s.factory=()=>qu(s.multi),this.records.set(r,s)),r=t,s.multi.push(t)}this.records.set(r,o)}hydrate(t,e){return e.value===Ss&&(e.value=OT,e.value=e.factory()),"object"==typeof e.value&&e.value&&function jT(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ee(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Bh(n){const t=cu(n),e=null!==t?t.factory:rr(n);if(null!==e)return e;if(n instanceof B)throw new L(204,!1);if(n instanceof Function)return function FT(n){const t=n.length;if(t>0)throw as(t,"?"),new L(204,!1);const e=function YE(n){const t=n&&(n[Ea]||n[Lm]);if(t){const e=function KE(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new L(204,!1)}function oy(n,t,e){let i;if(io(n)){const r=ee(n);return rr(r)||Bh(r)}if(sy(n))i=()=>ee(n.useValue);else if(function BT(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...qu(n.deps||[]));else if(function NT(n){return!(!n||!n.useExisting)}(n))i=()=>y(ee(n.useExisting));else{const r=ee(n&&(n.useClass||n.provide));if(!function HT(n){return!!n.deps}(n))return rr(r)||Bh(r);i=()=>new r(...qu(n.deps))}return i}function no(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function sy(n){return null!==n&&"object"==typeof n&&hk in n}function io(n){return"function"==typeof n}let Ie=(()=>{class n{static create(e,i){var r;if(Array.isArray(e))return iy({name:""},i,e,"");{const o=null!==(r=e.name)&&void 0!==r?r:"";return iy({name:o},e.parent,e.providers,o)}}}return n.THROW_IF_NOT_FOUND=ls,n.NULL=new ty,n.\u0275prov=O({token:n,providedIn:"any",factory:()=>y(Fh)}),n.__NG_ELEMENT_ID__=-1,n})();function ZT(n,t){Na(Ju(n)[1],lt())}function me(n){let t=function yy(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Tn(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new L(903,"");r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=jh(n.inputs),s.declaredInputs=jh(n.declaredInputs),s.outputs=jh(n.outputs);const a=r.hostBindings;a&&e1(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&QT(n,l),c&&JT(n,c),su(n.inputs,r.inputs),su(n.declaredInputs,r.declaredInputs),su(n.outputs,r.outputs),Tn(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===me&&(e=!1)}}t=Object.getPrototypeOf(t)}!function XT(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=ja(r.hostAttrs,e=ja(e,r.hostAttrs))}}(i)}function jh(n){return n===Pr?{}:n===ke?[]:n}function QT(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function JT(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function e1(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let ul=null;function ro(){if(!ul){const n=Ce.Symbol;if(n&&n.iterator)ul=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(ul=i)}}}return ul}function bs(n){return!!Uh(n)&&(Array.isArray(n)||!(n instanceof Map)&&ro()in n)}function Uh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Kn(n,t,e){return n[t]=e}function kt(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function ar(n,t,e,i){const r=kt(n,t,e);return kt(n,t+1,i)||r}function hl(n,t,e,i,r){const o=ar(n,t,e,i);return kt(n,t+2,r)||o}function gn(n,t,e,i){const r=k();return kt(r,Br(),t)&&(fe(),Yn(Ge(),r,n,t,e,i)),gn}function so(n,t,e,i){return kt(n,Br(),e)?t+X(e)+i:Q}function ao(n,t,e,i,r,o){const a=ar(n,di(),e,r);return fi(2),a?t+X(e)+i+X(r)+o:Q}function lo(n,t,e,i,r,o,s,a){const c=hl(n,di(),e,r,s);return fi(3),c?t+X(e)+i+X(r)+o+X(s)+a:Q}function co(n,t,e,i,r,o,s,a,l,c){const h=function mn(n,t,e,i,r,o){const s=ar(n,t,e,i);return ar(n,t+2,r,o)||s}(n,di(),e,r,s,l);return fi(4),h?t+X(e)+i+X(r)+o+X(s)+a+X(l)+c:Q}function I(n,t,e,i,r,o,s,a){const l=k(),c=fe(),u=n+20,h=c.firstCreatePass?function l1(n,t,e,i,r,o,s,a,l){const c=t.consts,u=Jr(t,n,4,s||null,Ti(c,a));Ah(t,e,u,Ti(c,l)),Na(t,u);const h=u.tViews=al(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,o,s):c.data[u];qn(h,!1);const d=l[11].createComment("");nl(c,l,d,h),Mt(d,l),ll(l,l[u]=Yv(d,l,d,h)),Ia(h)&&Mh(c,l,h),null!=s&&kh(l,h,a)}function b(n,t=W.Default){const e=k();return null===e?y(n,t):pg(lt(),e,ee(n),t)}function fl(){throw new Error("invalid")}function E(n,t,e){const i=k();return kt(i,Br(),t)&&Jt(fe(),Ge(),i,n,t,i[11],e,!1),E}function Wh(n,t,e,i,r){const s=r?"class":"style";ey(n,e,t.inputs[s],s,i)}function g(n,t,e,i){const r=k(),o=fe(),s=20+n,a=r[11],l=r[s]=ah(a,t,function BM(){return Y.lFrame.currentNamespace}()),c=o.firstCreatePass?function T1(n,t,e,i,r,o,s){const a=t.consts,c=Jr(t,n,2,r,Ti(a,o));return Ah(t,e,c,Ti(a,s)),null!==c.attrs&&cl(c,c.attrs,!1),null!==c.mergedAttrs&&cl(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,r,0,t,e,i):o.data[s];qn(c,!0);const u=c.mergedAttrs;null!==u&&Ha(a,l,u);const h=c.classes;null!==h&&fh(a,l,h);const d=c.styles;return null!==d&&vv(a,l,d),64!=(64&c.flags)&&nl(o,r,l,c),0===function CM(){return Y.lFrame.elementDepthCount}()&&Mt(l,r),function wM(){Y.lFrame.elementDepthCount++}(),Ia(c)&&(Mh(o,r,c),Lv(o,c,r)),null!==i&&kh(r,c),g}function m(){let n=lt();Mu()?ku():(n=n.parent,qn(n,!1));const t=n;!function DM(){Y.lFrame.elementDepthCount--}();const e=fe();return e.firstCreatePass&&(Na(e,n),gu(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function qM(n){return 0!=(16&n.flags)}(t)&&Wh(e,t,k(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function $M(n){return 0!=(32&n.flags)}(t)&&Wh(e,t,k(),t.stylesWithoutHost,!1),m}function ie(n,t,e,i){return g(n,t,e,i),m(),ie}function go(n,t,e){const i=k(),r=fe(),o=n+20,s=r.firstCreatePass?function x1(n,t,e,i,r){const o=t.consts,s=Ti(o,i),a=Jr(t,n,8,"ng-container",s);return null!==s&&cl(a,s,!0),Ah(t,e,a,Ti(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,e):r.data[o];qn(s,!0);const a=i[o]=i[11].createComment("");return nl(r,i,a,s),Mt(a,i),Ia(s)&&(Mh(r,i,s),Lv(r,s,i)),null!=e&&kh(i,s),go}function vo(){let n=lt();const t=fe();return Mu()?ku():(n=n.parent,qn(n,!1)),t.firstCreatePass&&(Na(t,n),gu(n)&&t.queries.elementEnd(n)),vo}function Yh(n,t,e){return go(n,t,e),vo(),Yh}function re(){return k()}function ws(n){return!!n&&"function"==typeof n.then}const Kh=function Vy(n){return!!n&&"function"==typeof n.subscribe};function x(n,t,e,i){const r=k(),o=fe(),s=lt();return Hy(o,r,r[11],s,n,t,!!e,i),x}function Zh(n,t){const e=lt(),i=k(),r=fe();return Hy(r,i,Qv(Tu(r.data),e,i),e,n,t,!1),Zh}function Hy(n,t,e,i,r,o,s,a){const l=Ia(i),u=n.firstCreatePass&&Xv(n),h=t[8],d=Zv(t);let f=!0;if(3&i.type||a){const w=fn(i,t),D=a?a(w):w,C=d.length,T=a?P=>a(nt(P[i.index])):i.index;if(ze(e)){let P=null;if(!a&&l&&(P=function I1(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[7],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=o,P.__ngLastListenerFn__=o,f=!1;else{o=Xh(i,t,h,o,!1);const V=e.listen(D,r,o);d.push(o,V),u&&u.push(r,T,C,C+1)}}else o=Xh(i,t,h,o,!0),D.addEventListener(r,o,s),d.push(o),u&&u.push(r,T,C,s)}else o=Xh(i,t,h,o,!1);const p=i.outputs;let v;if(f&&null!==p&&(v=p[r])){const w=v.length;if(w)for(let D=0;D<w;D+=2){const ve=t[v[D]][v[D+1]].subscribe(o),_e=d.length;d.push(o,ve),u&&u.push(r,i.index,_e,-(_e+1))}}}function jy(n,t,e,i){try{return!1!==e(i)}catch(r){return Jv(n,r),!1}}function Xh(n,t,e,i,r){return function o(s){if(s===Function)return i;const a=2&n.flags?Kt(n.index,t):t;0==(32&t[2])&&Ih(a);let l=jy(t,0,i,s),c=o.__ngNextListenerFn__;for(;c;)l=jy(t,0,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function M(n=1){return function PM(n){return(Y.lFrame.contextLView=function OM(n,t){for(;n>0;)t=t[15],n--;return t}(n,Y.lFrame.contextLView))[8]}(n)}function P1(n,t){let e=null;const i=function VA(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?bv(n,o,!0):UA(i,o))return r}else e=r}return e}function Re(n,t,e){return yo(n,"",t,"",e),Re}function yo(n,t,e,i,r){const o=k(),s=so(o,t,e,i);return s!==Q&&Jt(fe(),Ge(),o,n,s,o[11],r,!1),yo}function Fi(n,t,e,i,r,o,s){const a=k(),l=ao(a,t,e,i,r,o);return l!==Q&&Jt(fe(),Ge(),a,n,l,a[11],s,!1),Fi}function Qh(n,t,e,i,r,o,s,a,l){const c=k(),u=lo(c,t,e,i,r,o,s,a);return u!==Q&&Jt(fe(),Ge(),c,n,u,c[11],l,!1),Qh}function Jh(n,t,e,i,r,o,s,a,l,c,u){const h=k(),d=co(h,t,e,i,r,o,s,a,l,c);return d!==Q&&Jt(fe(),Ge(),h,n,d,h[11],u,!1),Jh}function Ky(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?Pn(o):pi(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];F1(n[a],t)&&(l=!0,n[a+1]=i?gh(u):ph(u)),a=i?Pn(u):pi(u)}l&&(n[e+1]=i?ph(o):gh(o))}function F1(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Wr(n,t)>=0}function ed(n,t,e){return Rn(n,t,e,!1),ed}function So(n,t){return Rn(n,t,null,!0),So}function Rn(n,t,e,i){const r=k(),o=fe(),s=fi(2);o.firstUpdatePass&&function i_(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Pt()],s=function n_(n,t){return t>=n.expandoStartIndex}(n,e);(function a_(n,t){return 0!=(n.flags&(t?16:32))})(o,i)&&null===t&&!s&&(t=!1),t=function $1(n,t,e,i){const r=Tu(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Ds(e=td(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=td(r,n,t,e,i),null===o){let l=function z1(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==pi(i))return n[Pn(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=td(null,n,t,l[1],i),l=Ds(l,t.attrs,i),function G1(n,t,e,i){n[Pn(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function W1(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=Ds(i,n[o].hostAttrs,e);return Ds(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function O1(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Pn(s),l=pi(s);n[i]=e;let u,c=!1;if(Array.isArray(e)){const h=e;u=h[1],(null===u||Wr(h,u)>0)&&(c=!0)}else u=e;if(r)if(0!==l){const d=Pn(n[a+1]);n[i+1]=rl(d,a),0!==d&&(n[d+1]=mh(n[d+1],i)),n[a+1]=function GA(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=rl(a,0),0!==a&&(n[a+1]=mh(n[a+1],i)),a=i;else n[i+1]=rl(l,0),0===a?a=i:n[l+1]=mh(n[l+1],i),l=i;c&&(n[i+1]=ph(n[i+1])),Ky(n,u,i,!0),Ky(n,u,i,!1),function R1(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Wr(o,t)>=0&&(e[i+1]=gh(e[i+1]))}(t,u,n,i,o),s=rl(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}(o,n,s,i),t!==Q&&kt(r,s,t)&&function o_(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1];pl(function Mv(n){return 1==(1&n)}(c)?s_(l,t,e,r,pi(c),s):void 0)||(pl(o)||function Ev(n){return 2==(2&n)}(c)&&(o=s_(l,null,e,r,a,s)),function RA(n,t,e,i,r){const o=ze(n);if(t)r?o?n.addClass(e,i):e.classList.add(i):o?n.removeClass(e,i):e.classList.remove(i);else{let s=-1===i.indexOf("-")?void 0:Qt.DashCase;if(null==r)o?n.removeStyle(e,i,s):e.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),s|=Qt.Important),o?n.setStyle(e,i,r,s):e.style.setProperty(i,r,a?"important":"")}}}(i,s,Pa(Pt(),e),r,o))}(o,o.data[Pt()],r,r[11],n,r[s+1]=function Z1(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Se(Xt(n)))),n}(t,e),i,s)}function td(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=Ds(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Ds(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Zt(n,s,!!e||t[++o]))}return void 0===n?null:n}function s_(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,h=null===u;let d=e[r+1];d===Q&&(d=h?ke:void 0);let f=h?Hu(d,i):u===i?d:void 0;if(c&&!pl(f)&&(f=Hu(l,i)),pl(f)&&(a=f,s))return a;const p=n[r+1];r=s?Pn(p):pi(p)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=Hu(l,i))}return a}function pl(n){return void 0!==n}function S(n,t=""){const e=k(),i=fe(),r=n+20,o=i.firstCreatePass?Jr(i,r,1,t,null):i.data[r],s=e[r]=function sh(n,t){return ze(n)?n.createText(t):n.createTextNode(t)}(e[11],t);nl(i,e,s,o),qn(o,!1)}function Ne(n){return we("",n,""),Ne}function we(n,t,e){const i=k(),r=so(i,n,t,e);return r!==Q&&mi(i,Pt(),r),we}function Ln(n,t,e,i,r){const o=k(),s=ao(o,n,t,e,i,r);return s!==Q&&mi(o,Pt(),s),Ln}function ml(n,t,e,i,r,o,s){const a=k(),l=lo(a,n,t,e,i,r,o,s);return l!==Q&&mi(a,Pt(),l),ml}function nd(n,t,e){const i=k();return kt(i,Br(),t)&&Jt(fe(),Ge(),i,n,t,i[11],e,!0),nd}function id(n,t,e){const i=k();if(kt(i,Br(),t)){const o=fe(),s=Ge();Jt(o,s,i,n,t,Qv(Tu(o.data),s,i),e,!0)}return id}const lr=void 0;var gx=["en",[["a","p"],["AM","PM"],lr],[["AM","PM"],lr,lr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lr,"{1} 'at' {0}",lr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mx(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let bo={};function Rt(n){const t=function vx(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=D_(t);if(e)return e;const i=t.split("-")[0];if(e=D_(i),e)return e;if("en"===i)return gx;throw new Error(`Missing locale data for the locale "${n}".`)}function D_(n){return n in bo||(bo[n]=Ce.ng&&Ce.ng.common&&Ce.ng.common.locales&&Ce.ng.common.locales[n]),bo[n]}var F=(()=>((F=F||{})[F.LocaleId=0]="LocaleId",F[F.DayPeriodsFormat=1]="DayPeriodsFormat",F[F.DayPeriodsStandalone=2]="DayPeriodsStandalone",F[F.DaysFormat=3]="DaysFormat",F[F.DaysStandalone=4]="DaysStandalone",F[F.MonthsFormat=5]="MonthsFormat",F[F.MonthsStandalone=6]="MonthsStandalone",F[F.Eras=7]="Eras",F[F.FirstDayOfWeek=8]="FirstDayOfWeek",F[F.WeekendRange=9]="WeekendRange",F[F.DateFormat=10]="DateFormat",F[F.TimeFormat=11]="TimeFormat",F[F.DateTimeFormat=12]="DateTimeFormat",F[F.NumberSymbols=13]="NumberSymbols",F[F.NumberFormats=14]="NumberFormats",F[F.CurrencyCode=15]="CurrencyCode",F[F.CurrencySymbol=16]="CurrencySymbol",F[F.CurrencyName=17]="CurrencyName",F[F.Currencies=18]="Currencies",F[F.Directionality=19]="Directionality",F[F.PluralCase=20]="PluralCase",F[F.ExtraData=21]="ExtraData",F))();const gl="en-US";let E_=gl;function sd(n,t,e,i,r){if(n=ee(n),Array.isArray(n))for(let o=0;o<n.length;o++)sd(n[o],t,e,i,r);else{const o=fe(),s=k();let a=io(n)?n:ee(n.provide),l=oy(n);const c=lt(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(io(n)||!n.multi){const f=new ts(l,r,b),p=ld(a,t,r?u:u+d,h);-1===p?($a(is(c,s),o,a),ad(o,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(f),s.push(f)):(e[p]=f,s[p]=f)}else{const f=ld(a,t,u+d,h),p=ld(a,t,u,u+d),v=f>=0&&e[f],w=p>=0&&e[p];if(r&&!w||!r&&!v){$a(is(c,s),o,a);const D=function mI(n,t,e,i,r){const o=new ts(n,e,b);return o.multi=[],o.index=t,o.componentProviders=0,K_(o,r,i&&!e),o}(r?pI:fI,e.length,r,i,l);!r&&w&&(e[p].providerFactory=D),ad(o,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(D),s.push(D)}else ad(o,n,f>-1?f:p,K_(e[r?p:f],l,!r&&i));!r&&i&&w&&e[p].componentProviders++}}}function ad(n,t,e,i){const r=io(t),o=function VT(n){return!!n.useClass}(t);if(r||o){const l=(o?ee(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function K_(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function ld(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function fI(n,t,e,i){return cd(this.multi,[])}function pI(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=rs(e,e[1],this.providerFactory.index,i);o=a.slice(0,s),cd(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],cd(r,o);return o}function cd(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Be(n,t=[]){return e=>{e.providersResolver=(i,r)=>function dI(n,t,e){const i=fe();if(i.firstCreatePass){const r=Tn(n);sd(e,i.data,i.blueprint,r,!0),sd(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class Z_{}class yI{resolveComponentFactory(t){throw function vI(n){const t=Error(`No component factory found for ${Se(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Li=(()=>{class n{}return n.NULL=new yI,n})();function _I(){return wo(lt(),k())}function wo(n,t){return new it(fn(n,t))}let it=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=_I,n})();function SI(n){return n instanceof it?n.nativeElement:n}class Ts{}let Qn=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function CI(){const n=k(),e=Kt(lt().index,n);return function bI(n){return n[11]}(Un(e)?e:n)}(),n})(),wI=(()=>{class n{}return n.\u0275prov=O({token:n,providedIn:"root",factory:()=>null}),n})();class cr{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const DI=new cr("13.3.3"),ud={};function bl(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&i.push(nt(o)),An(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&bl(l[1],l,c,i)}const s=e.type;if(8&s)bl(n,t,e.child,i);else if(32&s){const a=ih(e,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=pv(t,e);if(Array.isArray(a))i.push(...a);else{const l=gs(t[16]);bl(l[1],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class xs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return bl(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(An(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(lh(t,i),Ga(e,i))}this._attachedToViewContainer=!1}ov(this._lView[1],this._lView)}onDestroy(t){Hv(this._lView[1],this._lView,null,t)}markForCheck(){Ih(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Oh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function AT(n,t,e){Ra(!0);try{Oh(n,t,e)}finally{Ra(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new L(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function DA(n,t){vs(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new L(902,"");this._appRef=t}}class EI extends xs{constructor(t){super(t),this._view=t}detectChanges(){Kv(this._view)}checkNoChanges(){!function TT(n){Ra(!0);try{Kv(n)}finally{Ra(!1)}}(this._view)}get context(){return null}}class Q_ extends Li{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Dt(t);return new hd(e,this.ngModule)}}function J_(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class hd extends Z_{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function $A(n){return n.map(qA).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return J_(this.componentDef.inputs)}get outputs(){return J_(this.componentDef.outputs)}create(t,e,i,r){const o=(r=r||this.ngModule)?function kI(n,t){return{get:(e,i,r)=>{const o=n.get(e,ud,r);return o!==ud||i===ud?o:t.get(e,i,r)}}}(t,r.injector):t,s=o.get(Ts,Wm),a=o.get(wI,null),l=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=i?function Vv(n,t,e){if(ze(n))return n.selectRootElement(t,e===Mn.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):ah(s.createRenderer(null,this.componentDef),c,function MI(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(c)),h=this.componentDef.onPush?576:528,d=function vy(n,t){return{components:[],scheduler:n||vA,clean:xT,playerHandler:t||null,flags:0}}(),f=al(0,null,null,1,0,null,null,null,null,null),p=ys(null,f,d,h,null,null,s,l,a,o);let v,w;Fa(p);try{const D=function my(n,t,e,i,r,o){const s=e[1];e[20]=n;const l=Jr(s,20,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(cl(l,c,!0),null!==n&&(Ha(r,n,c),null!==l.classes&&fh(r,n,l.classes),null!==l.styles&&vv(r,n,l.styles)));const u=i.createRenderer(n,t),h=ys(e,Nv(t),null,t.onPush?64:16,e[20],l,i,u,o||null,null);return s.firstCreatePass&&($a(is(l,e),s,t.type),zv(s,l),Gv(l,e.length,1)),ll(e,h),e[20]=h}(u,this.componentDef,p,s,l);if(u)if(i)Ha(l,u,["ng-version",DI.full]);else{const{attrs:C,classes:T}=function zA(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!In(r))break;r=o}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);C&&Ha(l,u,C),T&&T.length>0&&fh(l,u,T.join(" "))}if(w=wu(f,20),void 0!==e){const C=w.projection=[];for(let T=0;T<this.ngContentSelectors.length;T++){const P=e[T];C.push(null!=P?Array.from(P):null)}}v=function gy(n,t,e,i,r){const o=e[1],s=function dT(n,t,e){const i=lt();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Wv(n,i,t,eo(n,t,1,null),e));const r=rs(t,n,i.directiveStart,i);Mt(r,t);const o=fn(i,t);return o&&Mt(o,t),r}(o,e,t);if(i.components.push(s),n[8]=s,r&&r.forEach(l=>l(s,t)),t.contentQueries){const l=lt();t.contentQueries(1,s,l.directiveStart)}const a=lt();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(xi(a.index),qv(e[1],a,0,a.directiveStart,a.directiveEnd,t),$v(t,s)),s}(D,this.componentDef,p,d,[ZT]),_s(f,p,null)}finally{La()}return new TI(this.componentType,v,wo(w,p),p,w)}}class TI extends class gI{}{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new EI(r),this.componentType=t}get injector(){return new jr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class gi{}class eS{}const Do=new Map;class iS extends gi{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Q_(this);const i=un(t);this._bootstrapComponents=Wn(i.bootstrap),this._r3Injector=ry(t,e,[{provide:gi,useValue:this},{provide:Li,useValue:this.componentFactoryResolver}],Se(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Ie.THROW_IF_NOT_FOUND,i=W.Default){return t===Ie||t===gi||t===Fh?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class dd extends eS{constructor(t){super(),this.moduleType=t,null!==un(t)&&function II(n){const t=new Set;!function e(i){const r=un(i,!0),o=r.id;null!==o&&(function tS(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Se(t)} vs ${Se(t.name)}`)}(o,Do.get(o),i),Do.set(o,i));const s=Wn(r.imports);for(const a of s)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new iS(this.moduleType,t)}}function en(n,t,e,i){return rS(k(),It(),n,t,e,i)}function fd(n,t,e,i,r){return oS(k(),It(),n,t,e,i,r)}function Is(n,t){const e=n[t];return e===Q?void 0:e}function rS(n,t,e,i,r,o){const s=t+e;return kt(n,s,r)?Kn(n,s+1,o?i.call(o,r):i(r)):Is(n,s+1)}function oS(n,t,e,i,r,o,s){const a=t+e;return ar(n,a,r,o)?Kn(n,a+2,s?i.call(s,r,o):i(r,o)):Is(n,a+2)}function J(n,t){const e=fe();let i;const r=n+20;e.firstCreatePass?(i=function HI(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=rr(i.type)),s=Mi(b);try{const a=Ua(!1),l=o();return Ua(a),function c1(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,k(),r,l),l}finally{Mi(s)}}function De(n,t,e){const i=n+20,r=k(),o=Nr(r,i);return Ps(r,i)?rS(r,It(),t,o.transform,e,o):o.transform(e)}function Vt(n,t,e,i){const r=n+20,o=k(),s=Nr(o,r);return Ps(o,r)?oS(o,It(),t,s.transform,e,i,s):s.transform(e,i)}function cS(n,t,e,i,r){const o=n+20,s=k(),a=Nr(s,o);return Ps(s,o)?function sS(n,t,e,i,r,o,s,a){const l=t+e;return hl(n,l,r,o,s)?Kn(n,l+3,a?i.call(a,r,o,s):i(r,o,s)):Is(n,l+3)}(s,It(),t,a.transform,e,i,r,a):a.transform(e,i,r)}function Ps(n,t){return n[1].data[t].pure}function pd(n){return t=>{setTimeout(n,void 0,t)}}const Ae=class qI extends Ee{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var r,o,s;let a=t,l=e||(()=>null),c=i;if(t&&"object"==typeof t){const h=t;a=null===(r=h.next)||void 0===r?void 0:r.bind(h),l=null===(o=h.error)||void 0===o?void 0:o.bind(h),c=null===(s=h.complete)||void 0===s?void 0:s.bind(h)}this.__isAsync&&(l=pd(l),a&&(a=pd(a)),c&&(c=pd(c)));const u=super.subscribe({next:a,error:l,complete:c});return t instanceof yt&&t.add(u),u}};function $I(){return this._results[ro()]()}class md{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=ro(),i=md.prototype;i[e]||(i[e]=$I)}get changes(){return this._changes||(this._changes=new Ae)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=pn(t);(this._changesDetected=!function ek(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Jn=(()=>{class n{}return n.__NG_ELEMENT_ID__=WI,n})();const zI=Jn,GI=class extends zI{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=ys(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(e)),_s(e,i,t),new xs(i)}};function WI(){return Cl(lt(),k())}function Cl(n,t){return 4&n.type?new GI(t,n,wo(n,t)):null}let vn=(()=>{class n{}return n.__NG_ELEMENT_ID__=YI,n})();function YI(){return dS(lt(),k())}const KI=vn,uS=class extends KI{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return wo(this._hostTNode,this._hostLView)}get injector(){return new jr(this._hostTNode,this._hostLView)}get parentInjector(){const t=qa(this._hostTNode,this._hostLView);if(cg(t)){const e=Hr(t,this._hostLView),i=Vr(t);return new jr(e[1].data[i+8],e)}return new jr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=hS(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const r=t.createEmbeddedView(e||{});return this.insert(r,i),r}createComponent(t,e,i,r,o){const s=t&&!function ss(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const h=e||{};a=h.index,i=h.injector,r=h.projectableNodes,o=h.ngModuleRef}const l=s?t:new hd(Dt(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const d=(s?c:this.parentInjector).get(gi,null);d&&(o=d)}const u=l.create(c,r,void 0,o);return this.insert(u.hostView,a),u}insert(t,e){const i=t._lView,r=i[1];if(function bM(n){return An(n[3])}(i)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const h=i[3],d=new uS(h,h[6],h[3]);d.detach(d.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;!function MA(n,t,e,i){const r=10+i,o=e.length;i>0&&(e[r-1][4]=t),i<o-10?(t[4]=e[r],_g(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function kA(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(r,i,s,o);const a=hh(o,s),l=i[11],c=tl(l,s[7]);return null!==c&&function wA(n,t,e,i,r,o){i[0]=r,i[6]=t,vs(n,i,e,1,r,o)}(r,s[6],l,i,c,a),t.attachToViewContainerRef(),_g(gd(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=hS(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=lh(this._lContainer,e);i&&(Ga(gd(this._lContainer),e),ov(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=lh(this._lContainer,e);return i&&null!=Ga(gd(this._lContainer),e)?new xs(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function hS(n){return n[8]}function gd(n){return n[8]||(n[8]=[])}function dS(n,t){let e;const i=t[n.index];if(An(i))e=i;else{let r;if(8&n.type)r=nt(i);else{const o=t[11];r=o.createComment("");const s=fn(n,t);sr(o,tl(o,s),r,function IA(n,t){return ze(n)?n.nextSibling(t):t.nextSibling}(o,s),!1)}t[n.index]=e=Yv(i,t,r,n),ll(t,e)}return new uS(e,n,t)}class vd{constructor(t){this.queryList=t,this.matches=null}clone(){return new vd(this.queryList)}setDirty(){this.queryList.setDirty()}}class yd{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new yd(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==yS(t,e).matches&&this.queries[e].setDirty()}}class fS{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class _d{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new _d(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Sd{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Sd(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,QI(e,o)),this.matchTNodeWithReadOption(t,e,za(e,t,o,!1,!1))}else i===Jn?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,za(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===it||r===vn||r===Jn&&4&e.type)this.addMatch(e.index,-2);else{const o=za(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function QI(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function eP(n,t,e,i){return-1===e?function JI(n,t){return 11&n.type?wo(n,t):4&n.type?Cl(n,t):null}(t,n):-2===e?function tP(n,t,e){return e===it?wo(t,n):e===Jn?Cl(t,n):e===vn?dS(t,n):void 0}(n,t,i):rs(n,n[1],e,t)}function pS(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:eP(t,o[c],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function bd(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=pS(n,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let h=10;h<u.length;h++){const d=u[h];d[17]===d[3]&&bd(d[1],d,c,i)}if(null!==u[9]){const h=u[9];for(let d=0;d<h.length;d++){const f=h[d];bd(f[1],f,c,i)}}}}}return i}function wl(n){const t=k(),e=fe(),i=eg();xu(i+1);const r=yS(e,i);if(n.dirty&&Ym(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?bd(e,t,i,[]):pS(e,t,r,i);n.reset(o,SI),n.notifyOnChanges()}return!0}return!1}function mS(n,t,e){const i=fe();i.firstCreatePass&&(function vS(n,t,e){null===n.queries&&(n.queries=new _d),n.queries.track(new Sd(t,e))}(i,new fS(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),function gS(n,t,e){const i=new md(4==(4&e));Hv(n,t,i,i.destroy),null===t[19]&&(t[19]=new yd),t[19].queries.push(new vd(i))}(i,k(),t)}function yS(n,t){return n.queries.getByIndex(t)}function _S(n,t){return Cl(n,t)}function kl(...n){}const Ad=new B("Application Initializer");let Td=(()=>{class n{constructor(e){this.appInits=e,this.resolve=kl,this.reject=kl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(ws(o))e.push(o);else if(Kh(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(y(Ad,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rs=new B("AppId",{providedIn:"root",factory:function LS(){return`${xd()}${xd()}${xd()}`}});function xd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const NS=new B("Platform Initializer"),Id=new B("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),BS=new B("appBootstrapListener");let SP=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const vi=new B("LocaleId",{providedIn:"root",factory:()=>Ka(vi,W.Optional|W.SkipSelf)||function bP(){return"undefined"!=typeof $localize&&$localize.locale||gl}()});class wP{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let VS=(()=>{class n{compileModuleSync(e){return new dd(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=Wn(un(e).declarations).reduce((s,a)=>{const l=Dt(a);return l&&s.push(new hd(l)),s},[]);return new wP(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const EP=(()=>Promise.resolve(0))();function Pd(n){"undefined"==typeof Zone?EP.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class be{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ae(!1),this.onMicrotaskEmpty=new Ae(!1),this.onStable=new Ae(!1),this.onError=new Ae(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function MP(){let n=Ce.requestAnimationFrame,t=Ce.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function TP(n){const t=()=>{!function AP(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ce,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Rd(n),n.isCheckStableRunning=!0,Od(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Rd(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{try{return HS(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),jS(n)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return HS(n),e.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),jS(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Rd(n),Od(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!be.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(be.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,kP,kl,kl);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const kP={};function Od(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Rd(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function HS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function jS(n){n._nesting--,Od(n)}class xP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ae,this.onMicrotaskEmpty=new Ae,this.onStable=new Ae,this.onError=new Ae}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}let Fd=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{be.assertNotInAngularZone(),Pd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pd(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(y(be))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),IP=(()=>{class n{constructor(){this._applications=new Map,Ld.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Ld.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class PP{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let Nn,Ld=new PP;const US=new B("AllowMultipleToken");class qS{constructor(t,e){this.name=t,this.token=e}}function $S(n,t,e=[]){const i=`Platform: ${t}`,r=new B(i);return(o=[])=>{let s=zS();if(!s||s.injector.get(US,!1))if(n)n(e.concat(o).concat({provide:r,useValue:!0}));else{const a=e.concat(o).concat({provide:r,useValue:!0},{provide:Lh,useValue:"platform"});!function LP(n){if(Nn&&!Nn.destroyed&&!Nn.injector.get(US,!1))throw new L(400,"");Nn=n.get(BP);const t=n.get(NS,null);t&&t.forEach(e=>e())}(Ie.create({providers:a,name:i}))}return function NP(n){const t=zS();if(!t)throw new L(401,"");return t}()}}function zS(){return Nn&&!Nn.destroyed?Nn:null}let BP=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function VP(n,t){let e;return e="noop"===n?new xP:("zone.js"===n?void 0:n)||new be({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:be,useValue:a}];return a.run(()=>{const c=Ie.create({providers:l,parent:this.injector,name:e.moduleType.name}),u=e.create(c),h=u.injector.get(Pi,null);if(!h)throw new L(402,"");return a.runOutsideAngular(()=>{const d=a.onError.subscribe({next:f=>{h.handleError(f)}});u.onDestroy(()=>{Nd(this._modules,u),d.unsubscribe()})}),function HP(n,t,e){try{const i=e();return ws(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(h,a,()=>{const d=u.injector.get(Td);return d.runInitializers(),d.donePromise.then(()=>(function bx(n){Gt(n,"Expected localeId to be defined"),"string"==typeof n&&(E_=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get(vi,gl)||gl),this._moduleDoBootstrap(u),u))})})}bootstrapModule(e,i=[]){const r=GS({},i);return function RP(n,t,e){const i=new dd(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(Fs);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new L(403,"");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new L(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(y(Ie))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function GS(n,t){return Array.isArray(t)?t.reduce(GS,n):Object.assign(Object.assign({},n),t)}let Fs=(()=>{class n{constructor(e,i,r,o){this._zone=e,this._injector=i,this._exceptionHandler=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Ve(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new Ve(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),Pd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),u.unsubscribe()}});this.isStable=Im(s,a.pipe(Pm()))}bootstrap(e,i){if(!this._initStatus.done)throw new L(405,"");let r;r=e instanceof Z_?e:this._injector.get(Li).resolveComponentFactory(e),this.componentTypes.push(r.componentType);const o=function FP(n){return n.isBoundToModule}(r)?void 0:this._injector.get(gi),a=r.create(Ie.NULL,[],i||r.selector,o),l=a.location.nativeElement,c=a.injector.get(Fd,null),u=c&&a.injector.get(IP);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),Nd(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new L(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Nd(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(BS,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(y(be),y(Ie),y(Pi),y(Td))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Nd(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let YS=!0,Ls=(()=>{class n{}return n.__NG_ELEMENT_ID__=qP,n})();function qP(n){return function $P(n,t,e){if(xa(n)&&!e){const i=Kt(n.index,t);return new xs(i,i)}return 47&n.type?new xs(t[16],t):null}(lt(),k(),16==(16&n))}class JS{constructor(){}supports(t){return bs(t)}create(t){return new ZP(t)}}const KP=(n,t)=>t;class ZP{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||KP}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<tb(i,r,o)?e:i,a=tb(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,u=l-r;if(c!=u){for(let d=0;d<c;d++){const f=d<o.length?o[d]:o[d]=0,p=f+d;u<=p&&p<c&&(o[d]=f+1)}o[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!bs(t))throw new L(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function a1(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[ro()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new XP(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new eb),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eb),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class XP{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QP{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class eb{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new QP,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tb(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class nb{constructor(){}supports(t){return t instanceof Map||Uh(t)}create(){return new JP}}class JP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Uh(t)))throw new L(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new eO(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class eO{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ib(){return new xl([new JS])}let xl=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||ib()),deps:[[n,new Yr,new xn]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new L(901,"")}}return n.\u0275prov=O({token:n,providedIn:"root",factory:ib}),n})();function rb(){return new Ns([new nb])}let Ns=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||rb()),deps:[[n,new Yr,new xn]]}}find(e){const i=this.factories.find(o=>o.supports(e));if(i)return i;throw new L(901,"")}}return n.\u0275prov=O({token:n,providedIn:"root",factory:rb}),n})();const iO=$S(null,"core",[]);let rO=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(y(Fs))},n.\u0275mod=tt({type:n}),n.\u0275inj=Ye({}),n})(),Il=null;function ei(){return Il}const ce=new B("DocumentToken");let hr=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:function(){return function lO(){return y(ob)}()},providedIn:"platform"}),n})();const cO=new B("Location Initialized");let ob=(()=>{class n extends hr{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ei().getBaseHref(this._doc)}onPopState(e){const i=ei().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=ei().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){sb()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){sb()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(y(ce))},n.\u0275prov=O({token:n,factory:function(){return function uO(){return new ob(y(ce))}()},providedIn:"platform"}),n})();function sb(){return!!window.history.pushState}function Ud(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function ab(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function yi(n){return n&&"?"!==n[0]?"?"+n:n}let Mo=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:function(){return function hO(n){const t=y(ce).location;return new lb(y(hr),t&&t.origin||"")}()},providedIn:"root"}),n})();const qd=new B("appBaseHref");let lb=(()=>{class n extends Mo{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ud(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+yi(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+yi(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+yi(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(y(hr),y(qd,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),dO=(()=>{class n extends Mo{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ud(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+yi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+yi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(y(hr),y(qd,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),Bs=(()=>{class n{constructor(e,i){this._subject=new Ae,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=ab(cb(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+yi(i))}normalize(e){return n.stripTrailingSlash(function pO(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,cb(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+yi(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+yi(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=yi,n.joinWithSlash=Ud,n.stripTrailingSlash=ab,n.\u0275fac=function(e){return new(e||n)(y(Mo),y(hr))},n.\u0275prov=O({token:n,factory:function(){return function fO(){return new Bs(y(Mo),y(hr))}()},providedIn:"root"}),n})();function cb(n){return n.replace(/\/index.html$/,"")}var Ht=(()=>((Ht=Ht||{})[Ht.Decimal=0]="Decimal",Ht[Ht.Percent=1]="Percent",Ht[Ht.Currency=2]="Currency",Ht[Ht.Scientific=3]="Scientific",Ht))(),q=(()=>((q=q||{})[q.Decimal=0]="Decimal",q[q.Group=1]="Group",q[q.List=2]="List",q[q.PercentSign=3]="PercentSign",q[q.PlusSign=4]="PlusSign",q[q.MinusSign=5]="MinusSign",q[q.Exponential=6]="Exponential",q[q.SuperscriptingExponent=7]="SuperscriptingExponent",q[q.PerMille=8]="PerMille",q[q.Infinity=9]="Infinity",q[q.NaN=10]="NaN",q[q.TimeSeparator=11]="TimeSeparator",q[q.CurrencyDecimal=12]="CurrencyDecimal",q[q.CurrencyGroup=13]="CurrencyGroup",q))();function yn(n,t){const e=Rt(n),i=e[F.NumberSymbols][t];if(void 0===i){if(t===q.CurrencyDecimal)return e[F.NumberSymbols][q.Decimal];if(t===q.CurrencyGroup)return e[F.NumberSymbols][q.Group]}return i}function $d(n,t){return Rt(n)[F.NumberFormats][t]}const HO=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Kd(n,t,e,i,r,o,s=!1){let a="",l=!1;if(isFinite(n)){let c=function WO(n){let i,r,o,s,a,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;"0"===t.charAt(o);o++);if(o===(a=t.length))i=[0],r=1;else{for(a--;"0"===t.charAt(a);)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(t.charAt(o))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);s&&(c=function GO(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(c));let u=t.minInt,h=t.minFrac,d=t.maxFrac;if(o){const C=o.match(HO);if(null===C)throw new Error(`${o} is not a valid digit info`);const T=C[1],P=C[3],V=C[5];null!=T&&(u=Xd(T)),null!=P&&(h=Xd(P)),null!=V?d=Xd(V):null!=P&&h>d&&(d=h)}!function YO(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let s=o+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let h=s;h<i.length;h++)i[h]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let h=1;h<s;h++)i[h]=0}if(a>=5)if(s-1<0){for(let h=0;h>s;h--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=0!==o;const c=t+n.integerLen,u=i.reduceRight(function(h,d,f,p){return p[f]=(d+=h)<10?d:d-10,l&&(0===p[f]&&f>=c?p.pop():l=!1),d>=10?1:0},0);u&&(i.unshift(u),n.integerLen++)}(c,h,d);let f=c.digits,p=c.integerLen;const v=c.exponent;let w=[];for(l=f.every(C=>!C);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?w=f.splice(p,f.length):(w=f,f=[0]);const D=[];for(f.length>=t.lgSize&&D.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)D.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&D.unshift(f.join("")),a=D.join(yn(e,i)),w.length&&(a+=yn(e,r)+w.join("")),v&&(a+=yn(e,q.Exponential)+"+"+v)}else a=yn(e,q.Infinity);return a=n<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function Ni(n,t,e){return Kd(n,Zd($d(t,Ht.Decimal),yn(t,q.MinusSign)),t,q.Group,q.Decimal,e)}function Zd(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],s=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";e.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const h=l.charAt(u);"0"===h?e.minFrac=e.maxFrac=u+1:"#"===h?e.maxFrac=u+1:e.posSuf+=h}const c=a.split(",");if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const u=r.length-e.posPre.length-e.posSuf.length,h=o.indexOf("#");e.negPre=o.substr(0,h).replace(/'/g,""),e.negSuf=o.substr(h+u).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function Xd(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}let dr=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(bs(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Se(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(b(xl),b(Ns),b(it),b(Qn))},n.\u0275dir=U({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class QO{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jt=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new QO(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),yb(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{yb(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(b(vn),b(Jn),b(xl))},n.\u0275dir=U({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function yb(n,t){n.context.$implicit=t.item}let tn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new JO,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){_b("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){_b("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(b(vn),b(Jn))},n.\u0275dir=U({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class JO{constructor(){this.$implicit=null,this.ngIf=null}}function _b(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Se(t)}'.`)}let bb=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(b(vn))},n.\u0275dir=U({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Yt]}),n})();function Vn(n,t){return new L(2100,"")}const uR=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let ti=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw Vn();return e.replace(uR,i=>i[0].toUpperCase()+i.substr(1).toLowerCase())}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=_t({name:"titlecase",type:n,pure:!0}),n})(),Cb=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=wb}transform(e,i=wb){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const r=this.differ.diff(e),o=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(s=>{this.keyValues.push(function yR(n,t){return{key:n,value:t}}(s.key,s.currentValue))})),(r||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(b(Ns,16))},n.\u0275pipe=_t({name:"keyvalue",type:n,pure:!1}),n})();function wb(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const r=String(e),o=String(i);return r==o?0:r<o?-1:1}let Bi=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!tf(e))return null;r=r||this._locale;try{return Ni(nf(e),r,i)}catch(o){throw Vn()}}}return n.\u0275fac=function(e){return new(e||n)(b(vi,16))},n.\u0275pipe=_t({name:"number",type:n,pure:!0}),n})(),jl=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!tf(e))return null;r=r||this._locale;try{return function zO(n,t,e){return Kd(n,Zd($d(t,Ht.Percent),yn(t,q.MinusSign)),t,q.Group,q.Decimal,e,!0).replace(new RegExp("%","g"),yn(t,q.PercentSign))}(nf(e),r,i)}catch(o){throw Vn()}}}return n.\u0275fac=function(e){return new(e||n)(b(vi,16))},n.\u0275pipe=_t({name:"percent",type:n,pure:!0}),n})();function tf(n){return!(null==n||""===n||n!=n)}function nf(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}let Db=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw Vn();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=_t({name:"slice",type:n,pure:!1}),n})(),rf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=Ye({}),n})();const Eb="browser";let DR=(()=>{class n{}return n.\u0275prov=O({token:n,providedIn:"root",factory:()=>new ER(y(ce),window)}),n})();class ER{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function MR(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Mb(this.window.history)||Mb(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Mb(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class sf extends class AR extends class aO{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function sO(n){Il||(Il=n)}(new sf)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function TR(){return js=js||document.querySelector("base"),js?js.getAttribute("href"):null}();return null==e?null:function xR(n){Ul=Ul||document.createElement("a"),Ul.setAttribute("href",n);const t=Ul.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){js=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function ZO(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Ul,js=null;const kb=new B("TRANSITION_ID"),PR=[{provide:Ad,useFactory:function IR(n,t,e){return()=>{e.get(Td).donePromise.then(()=>{const i=ei(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[kb,ce,Ie],multi:!0}];class af{static init(){!function OP(n){Ld=n}(new af)}addToWindow(t){Ce.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},Ce.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ce.getAllAngularRootElements=()=>t.getAllRootElements(),Ce.frameworkStabilizers||(Ce.frameworkStabilizers=[]),Ce.frameworkStabilizers.push(i=>{const r=Ce.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?ei().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let OR=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const ql=new B("EventManagerPlugins");let $l=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(y(ql),y(be))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();class Ab{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=ei().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Tb=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),Us=(()=>{class n extends Tb{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(xb),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(xb))}}return n.\u0275fac=function(e){return new(e||n)(y(ce))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();function xb(n){ei().remove(n)}const lf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},cf=/%COMP%/g;function zl(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?zl(n,r,e):(r=r.replace(cf,n),e.push(r))}return e}function Ob(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Gl=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new uf(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Mn.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new VR(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case Mn.ShadowDom:return new HR(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=zl(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(y($l),y(Us),y(Rs))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();class uf{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(lf[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=lf[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=lf[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Qt.DashCase|Qt.Important)?t.style.setProperty(e,i,r&Qt.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Qt.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ob(i)):this.eventManager.addEventListener(t,e,Ob(i))}}class VR extends uf{constructor(t,e,i,r){super(t),this.component=i;const o=zl(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function LR(n){return"_ngcontent-%COMP%".replace(cf,n)}(r+"-"+i.id),this.hostAttr=function NR(n){return"_nghost-%COMP%".replace(cf,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class HR extends uf{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=zl(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let jR=(()=>{class n extends Ab{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(y(ce))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const Fb=["alt","control","meta","shift"],qR={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lb={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},$R={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let zR=(()=>{class n extends Ab{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ei().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="";if(Fb.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const a={};return a.domEventName=r,a.fullKey=s,a}static getEventFullKey(e){let i="",r=function GR(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Lb.hasOwnProperty(t)&&(t=Lb[t]))}return qR[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Fb.forEach(o=>{o!=r&&$R[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(y(ce))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const ZR=$S(iO,"browser",[{provide:Id,useValue:Eb},{provide:NS,useValue:function WR(){sf.makeCurrent(),af.init()},multi:!0},{provide:ce,useFactory:function KR(){return function vM(n){bu=n}(document),document},deps:[]}]),XR=[{provide:Lh,useValue:"root"},{provide:Pi,useFactory:function YR(){return new Pi},deps:[]},{provide:ql,useClass:jR,multi:!0,deps:[ce,be,Id]},{provide:ql,useClass:zR,multi:!0,deps:[ce]},{provide:Gl,useClass:Gl,deps:[$l,Us,Rs]},{provide:Ts,useExisting:Gl},{provide:Tb,useExisting:Us},{provide:Us,useClass:Us,deps:[ce]},{provide:Fd,useClass:Fd,deps:[be]},{provide:$l,useClass:$l,deps:[ql,be]},{provide:class kR{},useClass:OR,deps:[]}];let Nb=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Rs,useValue:e.appId},{provide:kb,useExisting:Rs},PR]}}}return n.\u0275fac=function(e){return new(e||n)(y(n,12))},n.\u0275mod=tt({type:n}),n.\u0275inj=Ye({providers:XR,imports:[rf,rO]}),n})();"undefined"!=typeof window&&window;let df=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:function(e){let i=null;return i=e?new(e||n):y(Hb),i},providedIn:"root"}),n})(),Hb=(()=>{class n extends df{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case ye.NONE:return i;case ye.HTML:return zn(i,"HTML")?Xt(i):Ug(this._doc,String(i)).toString();case ye.STYLE:return zn(i,"Style")?Xt(i):i;case ye.SCRIPT:if(zn(i,"Script"))return Xt(i);throw new Error("unsafe value used in a script context");case ye.URL:return Rg(i),zn(i,"URL")?Xt(i):ds(String(i));case ye.RESOURCE_URL:if(zn(i,"ResourceURL"))return Xt(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function Ik(n){return new Mk(n)}(e)}bypassSecurityTrustStyle(e){return function Pk(n){return new kk(n)}(e)}bypassSecurityTrustScript(e){return function Ok(n){return new Ak(n)}(e)}bypassSecurityTrustUrl(e){return function Rk(n){return new Tk(n)}(e)}bypassSecurityTrustResourceUrl(e){return function Fk(n){return new xk(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(y(ce))},n.\u0275prov=O({token:n,factory:function(e){let i=null;return i=e?new e:function aF(n){return new Hb(n.get(ce))}(y(Ie)),i},providedIn:"root"}),n})();function $(...n){return pt(n,Yo(n))}class Sn extends Ee{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:lF}=Array,{getPrototypeOf:cF,prototype:uF,keys:hF}=Object;function jb(n){if(1===n.length){const t=n[0];if(lF(t))return{args:t,keys:null};if(function dF(n){return n&&"object"==typeof n&&cF(n)===uF}(t)){const e=hF(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:fF}=Array;function ff(n){return de(t=>function pF(n,t){return fF(t)?n(...t):n(t)}(n,t))}function Ub(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function qb(n,t,e){n?li(e,n,t):t()}function qs(n,t){const e=pe(n)?n:()=>n,i=r=>r.error(e());return new Ve(t?r=>t.schedule(i,0,r):i)}const Wl=Go(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function pf(...n){return function vF(){return Wo(1)}()(pt(n,Yo(n)))}function mf(n){return new Ve(t=>{$t(n()).subscribe(t)})}function $b(){return et((n,t)=>{let e=null;n._refCount++;const i=$e(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class yF extends Ve{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,fm(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new yt;const e=this.getSubject();t.add(this.source.subscribe($e(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=yt.EMPTY)}return t}refCount(){return $b()(this)}}function fr(n,t){return et((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe($e(i,l=>{null==r||r.unsubscribe();let c=0;const u=o++;$t(n(l,u)).subscribe(r=$e(i,h=>i.next(t?t(l,h,u,c++):h),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function zb(...n){const t=Yo(n);return et((e,i)=>{(t?pf(n,e,t):pf(n,e)).subscribe(i)})}function _F(n,t,e,i,r){return(o,s)=>{let a=e,l=t,c=0;o.subscribe($e(s,u=>{const h=c++;l=a?n(l,u,h):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function Gb(n,t){return et(_F(n,t,arguments.length>=2,!0))}function nn(n,t){return et((e,i)=>{let r=0;e.subscribe($e(i,o=>n.call(t,o,r++)&&i.next(o)))})}function Si(n){return et((t,e)=>{let o,i=null,r=!1;i=t.subscribe($e(e,void 0,void 0,s=>{o=$t(n(s,Si(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function ko(n,t){return pe(t)?at(n,t,1):at(n,1)}function gf(n){return n<=0?()=>ci:et((t,e)=>{let i=[];t.subscribe($e(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Wb(n=SF){return et((t,e)=>{let i=!1;t.subscribe($e(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function SF(){return new Wl}function Yb(n){return et((t,e)=>{let i=!1;t.subscribe($e(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Ao(n,t){const e=arguments.length>=2;return i=>i.pipe(n?nn((r,o)=>n(r,o,i)):Ei,jn(1),e?Yb(t):Wb(()=>new Wl))}function At(n,t,e){const i=pe(n)||t||e?{next:n,error:t,complete:e}:n;return i?et((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe($e(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Ei}function Kb(n){return et((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class bi{constructor(t,e){this.id=t,this.url=e}}class vf extends bi{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class $s extends bi{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Zb extends bi{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class CF extends bi{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wF extends bi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DF extends bi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EF extends bi{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class MF extends bi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kF extends bi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xb{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qb{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class AF{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TF{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xF{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IF{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jb{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ae="primary";class PF{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function To(n){return new PF(n)}const e0="ngNavigationCancelingError";function yf(n){const t=Error("NavigationCancelingError: "+n);return t[e0]=!0,t}function RF(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ni(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!t0(n[r],t[r]))return!1;return!0}function t0(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function n0(n){return Array.prototype.concat.apply([],n)}function r0(n){return n.length>0?n[n.length-1]:null}function bt(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function ii(n){return Kh(n)?n:ws(n)?pt(Promise.resolve(n)):$(n)}const NF={exact:function a0(n,t,e){if(!mr(n.segments,t.segments)||!Yl(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!a0(n.children[i],t.children[i],e))return!1;return!0},subset:l0},o0={exact:function BF(n,t){return ni(n,t)},subset:function VF(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>t0(n[e],t[e]))},ignored:()=>!0};function s0(n,t,e){return NF[e.paths](n.root,t.root,e.matrixParams)&&o0[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function l0(n,t,e){return c0(n,t,t.segments,e)}function c0(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!mr(r,e)||t.hasChildren()||!Yl(r,e,i))}if(n.segments.length===e.length){if(!mr(n.segments,e)||!Yl(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!l0(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(mr(n.segments,r)&&Yl(n.segments,r,i)&&n.children[ae])&&c0(n.children[ae],t,o,i)}}function Yl(n,t,e){return t.every((i,r)=>o0[e](n[r].parameters,i.parameters))}class pr{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=To(this.queryParams)),this._queryParamMap}toString(){return UF.serialize(this)}}class ue{constructor(t,e){this.segments=t,this.children=e,this.parent=null,bt(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kl(this)}}class zs{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=To(this.parameters)),this._parameterMap}toString(){return p0(this)}}function mr(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class u0{}class h0{parse(t){const e=new XF(t);return new pr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Gs(t.root,!0)}`,i=function zF(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Zl(e)}=${Zl(r)}`).join("&"):`${Zl(e)}=${Zl(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function qF(n){return encodeURI(n)}(t.fragment)}`:""}`}}const UF=new h0;function Kl(n){return n.segments.map(t=>p0(t)).join("/")}function Gs(n,t){if(!n.hasChildren())return Kl(n);if(t){const e=n.children[ae]?Gs(n.children[ae],!1):"",i=[];return bt(n.children,(r,o)=>{o!==ae&&i.push(`${o}:${Gs(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function jF(n,t){let e=[];return bt(n.children,(i,r)=>{r===ae&&(e=e.concat(t(i,r)))}),bt(n.children,(i,r)=>{r!==ae&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===ae?[Gs(n.children[ae],!1)]:[`${r}:${Gs(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ae]?`${Kl(n)}/${e[0]}`:`${Kl(n)}/(${e.join("//")})`}}function d0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zl(n){return d0(n).replace(/%3B/gi,";")}function _f(n){return d0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xl(n){return decodeURIComponent(n)}function f0(n){return Xl(n.replace(/\+/g,"%20"))}function p0(n){return`${_f(n.path)}${function $F(n){return Object.keys(n).map(t=>`;${_f(t)}=${_f(n[t])}`).join("")}(n.parameters)}`}const GF=/^[^\/()?;=#]+/;function Ql(n){const t=n.match(GF);return t?t[0]:""}const WF=/^[^=?&#]+/,KF=/^[^&#]+/;class XF{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ue([],{}):new ue([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[ae]=new ue(t,e)),i}parseSegment(){const t=Ql(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new zs(Xl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ql(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Ql(this.remaining);r&&(i=r,this.capture(i))}t[Xl(e)]=Xl(i)}parseQueryParam(t){const e=function YF(n){const t=n.match(WF);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function ZF(n){const t=n.match(KF);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=f0(e),o=f0(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ql(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ae);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[ae]:new ue([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class m0{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Sf(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Sf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=bf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return bf(t,this._root).map(e=>e.value)}}function Sf(n,t){if(n===t.value)return t;for(const e of t.children){const i=Sf(n,e);if(i)return i}return null}function bf(n,t){if(n===t.value)return[t];for(const e of t.children){const i=bf(n,e);if(i.length)return i.unshift(t),i}return[]}class Ci{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function xo(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class g0 extends m0{constructor(t,e){super(t),this.snapshot=e,Cf(this,t)}toString(){return this.snapshot.toString()}}function v0(n,t){const e=function QF(n,t){const s=new Jl([],{},{},"",{},ae,t,null,n.root,-1,{});return new _0("",new Ci(s,[]))}(n,t),i=new Sn([new zs("",{})]),r=new Sn({}),o=new Sn({}),s=new Sn({}),a=new Sn(""),l=new Io(i,r,s,a,o,ae,t,e.root);return l.snapshot=e.root,new g0(new Ci(l,[]),e)}class Io{constructor(t,e,i,r,o,s,a,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(de(t=>To(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(de(t=>To(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function y0(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function JF(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Jl{constructor(t,e,i,r,o,s,a,l,c,u,h){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=To(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=To(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _0 extends m0{constructor(t,e){super(e),this.url=t,Cf(this,e)}toString(){return S0(this._root)}}function Cf(n,t){t.value._routerState=n,t.children.forEach(e=>Cf(n,e))}function S0(n){const t=n.children.length>0?` { ${n.children.map(S0).join(", ")} } `:"";return`${n.value}${t}`}function wf(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ni(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ni(t.params,e.params)||n.params.next(e.params),function FF(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ni(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ni(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Df(n,t){const e=ni(n.params,t.params)&&function HF(n,t){return mr(n,t)&&n.every((e,i)=>ni(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Df(n.parent,t.parent))}function Ws(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function tL(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ws(n,i,r);return Ws(n,i)})}(n,t,e);return new Ci(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ws(n,a)),s}}const i=function nL(n){return new Io(new Sn(n.url),new Sn(n.params),new Sn(n.queryParams),new Sn(n.fragment),new Sn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Ws(n,o));return new Ci(i,r)}}function ec(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ys(n){return"object"==typeof n&&null!=n&&n.outlets}function Ef(n,t,e,i,r){let o={};if(i&&bt(i,(a,l)=>{o[l]=Array.isArray(a)?a.map(c=>`${c}`):`${a}`}),n===t)return new pr(e,o,r);const s=b0(n,t,e);return new pr(s,o,r)}function b0(n,t,e){const i={};return bt(n.children,(r,o)=>{i[o]=r===t?e:b0(r,t,e)}),new ue(n.segments,i)}class C0{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&ec(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Ys);if(r&&r!==r0(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mf{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function w0(n,t,e){if(n||(n=new ue([],{})),0===n.segments.length&&n.hasChildren())return tc(n,t,e);const i=function lL(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(Ys(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!E0(l,c,s))return o;i+=2}else{if(!E0(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new ue(n.segments.slice(0,i.pathIndex),{});return o.children[ae]=new ue(n.segments.slice(i.pathIndex),n.children),tc(o,0,r)}return i.match&&0===r.length?new ue(n.segments,{}):i.match&&!n.hasChildren()?kf(n,t,e):i.match?tc(n,0,r):kf(n,t,e)}function tc(n,t,e){if(0===e.length)return new ue(n.segments,{});{const i=function aL(n){return Ys(n[0])?n[0].outlets:{[ae]:n}}(e),r={};return bt(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=w0(n.children[s],t,o))}),bt(n.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new ue(n.segments,r)}}function kf(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Ys(o)){const l=cL(o.outlets);return new ue(i,l)}if(0===r&&ec(e[0])){i.push(new zs(n.segments[t].path,D0(e[0]))),r++;continue}const s=Ys(o)?o.outlets[ae]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&ec(a)?(i.push(new zs(s,D0(a))),r+=2):(i.push(new zs(s,{})),r++)}return new ue(i,{})}function cL(n){const t={};return bt(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=kf(new ue([],{}),0,e))}),t}function D0(n){const t={};return bt(n,(e,i)=>t[i]=`${e}`),t}function E0(n,t,e){return n==e.path&&ni(t,e.parameters)}class hL{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),wf(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=xo(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),bt(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=xo(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=xo(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=xo(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new IF(o.value.snapshot))}),t.children.length&&this.forwardEvent(new TF(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(wf(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),wf(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=function dL(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=l,s.outlet&&s.outlet.activateWith(r,l),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class Af{constructor(t,e){this.routes=t,this.module=e}}function Hi(n){return"function"==typeof n}function gr(n){return n instanceof pr}const Ks=Symbol("INITIAL_VALUE");function Zs(){return fr(n=>function mF(...n){const t=Yo(n),e=km(n),{args:i,keys:r}=jb(n);if(0===i.length)return pt([],t);const o=new Ve(function gF(n,t,e=Ei){return i=>{qb(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)qb(t,()=>{const c=pt(n[l],t);let u=!1;c.subscribe($e(i,h=>{o[l]=h,u||(u=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>Ub(r,s):Ei));return e?o.pipe(ff(e)):o}(n.map(t=>t.pipe(jn(1),zb(Ks)))).pipe(Gb((t,e)=>{let i=!1;return e.reduce((r,o,s)=>r!==Ks?r:(o===Ks&&(i=!0),i||!1!==o&&s!==e.length-1&&!gr(o)?r:o),t)},Ks),nn(t=>t!==Ks),de(t=>gr(t)?t:!0===t),jn(1)))}class yL{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Xs,this.attachRef=null}}class Xs{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new yL,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let M0=(()=>{class n{constructor(e,i,r,o,s){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ae,this.deactivateEvents=new Ae,this.attachEvents=new Ae,this.detachEvents=new Ae,this.name=o||ae,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const s=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new _L(e,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(b(Xs),b(vn),b(Li),Ur("name"),b(Ls))},n.\u0275dir=U({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class _L{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Io?this.route:t===Xs?this.childContexts:this.parent.get(t,e)}}let k0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=He({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&ie(0,"router-outlet")},directives:[M0],encapsulation:2}),n})();function A0(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];SL(i,bL(t,i))}}function SL(n,t){n.children&&A0(n.children,t)}function bL(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Tf(n){const t=n.children&&n.children.map(Tf),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ae&&(e.component=k0),e}function bn(n){return n.outlet||ae}function T0(n,t){const e=n.filter(i=>bn(i)===t);return e.push(...n.filter(i=>bn(i)!==t)),e}const x0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nc(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},x0):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||RF)(e,n,t);if(!o)return Object.assign({},x0);const s={};bt(o.posParams,(l,c)=>{s[c]=l.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function ic(n,t,e,i,r="corrected"){if(e.length>0&&function DL(n,t,e){return e.some(i=>rc(n,t,i)&&bn(i)!==ae)}(n,e,i)){const s=new ue(t,function wL(n,t,e,i){const r={};r[ae]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&bn(o)!==ae){const s=new ue([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,r[bn(o)]=s}return r}(n,t,i,new ue(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function EL(n,t,e){return e.some(i=>rc(n,t,i))}(n,e,i)){const s=new ue(n.segments,function CL(n,t,e,i,r,o){const s={};for(const a of i)if(rc(n,e,a)&&!r[bn(a)]){const l=new ue([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:t.length,s[bn(a)]=l}return Object.assign(Object.assign({},r),s)}(n,t,e,i,n.children,r));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const o=new ue(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function rc(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function I0(n,t,e,i){return!!(bn(n)===i||i!==ae&&rc(t,e,n))&&("**"===n.path||nc(t,n,e).matched)}function P0(n,t,e){return 0===t.length&&!n.children[e]}class oc{constructor(t){this.segmentGroup=t||null}}class O0{constructor(t){this.urlTree=t}}function Qs(n){return qs(new oc(n))}function R0(n){return qs(new O0(n))}class TL{constructor(t,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(gi)}apply(){const t=ic(this.urlTree.root,[],[],this.config).segmentGroup,e=new ue(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ae).pipe(de(o=>this.createUrlTree(xf(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Si(o=>{if(o instanceof O0)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof oc?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ae).pipe(de(r=>this.createUrlTree(xf(r),t.queryParams,t.fragment))).pipe(Si(r=>{throw r instanceof oc?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new ue([],{[ae]:t}):t;return new pr(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(de(o=>new ue([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return pt(r).pipe(ko(o=>{const s=i.children[o],a=T0(e,o);return this.expandSegmentGroup(t,a,s,o).pipe(de(l=>({segment:l,outlet:o})))}),Gb((o,s)=>(o[s.outlet]=s.segment,o),{}),function bF(n,t){const e=arguments.length>=2;return i=>i.pipe(n?nn((r,o)=>n(r,o,i)):Ei,gf(1),e?Yb(t):Wb(()=>new Wl))}())}expandSegment(t,e,i,r,o,s){return pt(i).pipe(ko(a=>this.expandSegmentAgainstRoute(t,e,i,a,r,o,s).pipe(Si(c=>{if(c instanceof oc)return $(null);throw c}))),Ao(a=>!!a),Si((a,l)=>{if(a instanceof Wl||"EmptyError"===a.name)return P0(e,r,o)?$(new ue([],{})):Qs(e);throw a}))}expandSegmentAgainstRoute(t,e,i,r,o,s,a){return I0(r,e,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s):Qs(e):Qs(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?R0(o):this.lineralizeSegments(i,o).pipe(at(s=>{const a=new ue(s,{});return this.expandSegment(t,a,e,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=nc(e,r,o);if(!a)return Qs(e);const h=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?R0(h):this.lineralizeSegments(r,h).pipe(at(d=>this.expandSegment(t,e,i,d.concat(c),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?$(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(de(h=>(i._loadedConfig=h,new ue(r,{})))):$(new ue(r,{}));const{matched:s,consumedSegments:a,remainingSegments:l}=nc(e,i,r);return s?this.getChildConfig(t,i,r).pipe(at(u=>{const h=u.module,d=u.routes,{segmentGroup:f,slicedSegments:p}=ic(e,a,l,d),v=new ue(f.segments,f.children);if(0===p.length&&v.hasChildren())return this.expandChildren(h,d,v).pipe(de(T=>new ue(a,T)));if(0===d.length&&0===p.length)return $(new ue(a,{}));const w=bn(i)===o;return this.expandSegment(h,v,d,p,w?ae:o,!0).pipe(de(C=>new ue(a.concat(C.segments),C.children)))})):Qs(e)}getChildConfig(t,e,i){return e.children?$(new Af(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?$(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe(at(r=>r?this.configLoader.load(t.injector,e).pipe(de(o=>(e._loadedConfig=o,o))):function kL(n){return qs(yf(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):$(new Af([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?$(r.map(s=>{const a=t.get(s);let l;if(function pL(n){return n&&Hi(n.canLoad)}(a))l=a.canLoad(e,i);else{if(!Hi(a))throw new Error("Invalid CanLoad guard");l=a(e,i)}return ii(l)})).pipe(Zs(),At(s=>{if(!gr(s))return;const a=yf(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),de(s=>!0===s)):$(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return $(i);if(r.numberOfChildren>1||!r.children[ae])return qs(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[ae]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new pr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return bt(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=e[a]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return bt(e.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,i,r)}),new ue(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function xf(n){const t={};for(const i of Object.keys(n.children)){const o=xf(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function xL(n){if(1===n.numberOfChildren&&n.children[ae]){const t=n.children[ae];return new ue(n.segments.concat(t.segments),t.children)}return n}(new ue(n.segments,t))}class F0{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class sc{constructor(t,e){this.component=t,this.route=e}}function PL(n,t,e){const i=n._root;return Js(i,t?t._root:null,e,[i.value])}function ac(n,t,e){const i=function RL(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function Js(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=xo(t);return n.children.forEach(s=>{(function FL(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function LL(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!mr(n.url,t.url);case"pathParamsOrQueryParamsChange":return!mr(n.url,t.url)||!ni(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Df(n,t)||!ni(n.queryParams,t.queryParams);default:return!Df(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new F0(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Js(n,t,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new sc(a.outlet.component,s))}else s&&ea(t,a,r),r.canActivateChecks.push(new F0(i)),Js(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),bt(o,(s,a)=>ea(s,e.getContext(a),r)),r}function ea(n,t,e){const i=xo(n),r=n.value;bt(i,(o,s)=>{ea(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new sc(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class zL{}function L0(n){return new Ve(t=>t.error(n))}class WL{constructor(t,e,i,r,o,s){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const t=ic(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ae);if(null===e)return null;const i=new Jl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ae,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ci(i,e),o=new _0(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=y0(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const s=e.children[o],a=T0(t,o),l=this.processSegmentGroup(a,s,o);if(null===l)return null;i.push(...l)}const r=N0(i);return function YL(n){n.sort((t,e)=>t.value.outlet===ae?-1:e.value.outlet===ae?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const o of t){const s=this.processSegmentAgainstRoute(o,e,i,r);if(null!==s)return s}return P0(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!I0(t,e,i,r))return null;let o,s=[],a=[];if("**"===t.path){const f=i.length>0?r0(i).parameters:{};o=new Jl(i,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,H0(t),bn(t),t.component,t,B0(e),V0(e)+i.length,j0(t))}else{const f=nc(e,t,i);if(!f.matched)return null;s=f.consumedSegments,a=f.remainingSegments,o=new Jl(s,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,H0(t),bn(t),t.component,t,B0(e),V0(e)+s.length,j0(t))}const l=function KL(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=ic(e,s,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const f=this.processChildren(l,c);return null===f?null:[new Ci(o,f)]}if(0===l.length&&0===u.length)return[new Ci(o,[])];const h=bn(t)===r,d=this.processSegment(l,c,u,h?ae:r);return null===d?null:[new Ci(o,d)]}}function ZL(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function N0(n){const t=[],e=new Set;for(const i of n){if(!ZL(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=N0(i.children);t.push(new Ci(i.value,r))}return t.filter(i=>!e.has(i))}function B0(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function V0(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function H0(n){return n.data||{}}function j0(n){return n.resolve||{}}function U0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function If(n){return fr(t=>{const e=n(t);return e?pt(e).pipe(de(()=>t)):$(t)})}class rN extends class iN{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Pf=new B("ROUTES");class q0{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe(de(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const s=o.create(t);return new Af(n0(s.injector.get(Pf,void 0,W.Self|W.Optional)).map(Tf),s)}),Si(o=>{throw e._loader$=void 0,o}));return e._loader$=new yF(r,()=>new Ee).pipe($b()),e._loader$}loadModuleFactory(t){return ii(t()).pipe(at(e=>e instanceof eS?$(e):pt(this.compiler.compileModuleAsync(e))))}}class sN{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function aN(n){throw n}function lN(n,t,e){return t.parse("/")}function $0(n,t){return $(null)}const cN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rn=(()=>{class n{constructor(e,i,r,o,s,a,l){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ee,this.errorHandler=aN,this.malformedUriErrorHandler=lN,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:$0,afterPreactivation:$0},this.urlHandlingStrategy=new sN,this.routeReuseStrategy=new rN,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(gi),this.console=s.get(SP);const h=s.get(be);this.isNgZoneEnabled=h instanceof be&&be.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function LF(){return new pr(new ue([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new q0(s,a,d=>this.triggerEvent(new Xb(d)),d=>this.triggerEvent(new Qb(d))),this.routerState=v0(this.currentUrlTree,this.rootComponentType),this.transitions=new Sn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(nn(r=>0!==r.id),de(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),fr(r=>{let o=!1,s=!1;return $(r).pipe(At(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),fr(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return z0(a.source)&&(this.browserUrlTree=a.extractedUrl),$(a).pipe(fr(h=>{const d=this.transitions.getValue();return i.next(new vf(h.id,this.serializeUrl(h.extractedUrl),h.source,h.restoredState)),d!==this.transitions.getValue()?ci:Promise.resolve(h)}),function IL(n,t,e,i){return fr(r=>function AL(n,t,e,i,r){return new TL(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(de(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),At(h=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:h.urlAfterRedirects})}),function XL(n,t,e,i,r){return at(o=>function GL(n,t,e,i,r="emptyOnly",o="legacy"){try{const s=new WL(n,t,e,i,r,o).recognize();return null===s?L0(new zL):$(s)}catch(s){return L0(s)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe(de(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,h=>this.serializeUrl(h),this.paramsInheritanceStrategy,this.relativeLinkResolution),At(h=>{if("eager"===this.urlUpdateStrategy){if(!h.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl);this.setBrowserUrl(f,h)}this.browserUrlTree=h.urlAfterRedirects}const d=new wF(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);i.next(d)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:d,extractedUrl:f,source:p,restoredState:v,extras:w}=a,D=new vf(d,this.serializeUrl(f),p,v);i.next(D);const C=v0(f,this.rootComponentType).snapshot;return $(Object.assign(Object.assign({},a),{targetSnapshot:C,urlAfterRedirects:f,extras:Object.assign(Object.assign({},w),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),ci}),If(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:h,extras:{skipLocationChange:d,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:h,skipLocationChange:!!d,replaceUrl:!!f})}),At(a=>{const l=new DF(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),de(a=>Object.assign(Object.assign({},a),{guards:PL(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function NL(n,t){return at(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?$(Object.assign(Object.assign({},e),{guardsResult:!0})):function BL(n,t,e,i){return pt(n).pipe(at(r=>function $L(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?$(o.map(a=>{const l=ac(a,t,r);let c;if(function vL(n){return n&&Hi(n.canDeactivate)}(l))c=ii(l.canDeactivate(n,t,e,i));else{if(!Hi(l))throw new Error("Invalid CanDeactivate guard");c=ii(l(n,t,e,i))}return c.pipe(Ao())})).pipe(Zs()):$(!0)}(r.component,r.route,e,t,i)),Ao(r=>!0!==r,!0))}(s,i,r,n).pipe(at(a=>a&&function fL(n){return"boolean"==typeof n}(a)?function VL(n,t,e,i){return pt(t).pipe(ko(r=>pf(function jL(n,t){return null!==n&&t&&t(new AF(n)),$(!0)}(r.route.parent,i),function HL(n,t){return null!==n&&t&&t(new xF(n)),$(!0)}(r.route,i),function qL(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function OL(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>mf(()=>$(s.guards.map(l=>{const c=ac(l,s.node,e);let u;if(function gL(n){return n&&Hi(n.canActivateChild)}(c))u=ii(c.canActivateChild(i,n));else{if(!Hi(c))throw new Error("Invalid CanActivateChild guard");u=ii(c(i,n))}return u.pipe(Ao())})).pipe(Zs())));return $(o).pipe(Zs())}(n,r.path,e),function UL(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return $(!0);const r=i.map(o=>mf(()=>{const s=ac(o,t,e);let a;if(function mL(n){return n&&Hi(n.canActivate)}(s))a=ii(s.canActivate(t,n));else{if(!Hi(s))throw new Error("Invalid CanActivate guard");a=ii(s(t,n))}return a.pipe(Ao())}));return $(r).pipe(Zs())}(n,r.route,e))),Ao(r=>!0!==r,!0))}(i,o,n,t):$(a)),de(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),At(a=>{if(gr(a.guardsResult)){const c=yf(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new EF(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),nn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),If(a=>{if(a.guards.canActivateChecks.length)return $(a).pipe(At(l=>{const c=new MF(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),fr(l=>{let c=!1;return $(l).pipe(function QL(n,t){return at(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return $(e);let o=0;return pt(r).pipe(ko(s=>function JL(n,t,e,i){return function eN(n,t,e,i){const r=U0(n);if(0===r.length)return $({});const o={};return pt(r).pipe(at(s=>function tN(n,t,e,i){const r=ac(n,t,i);return ii(r.resolve?r.resolve(t,e):r(t,e))}(n[s],t,e,i).pipe(At(a=>{o[s]=a}))),gf(1),at(()=>U0(o).length===r.length?$(o):ci))}(n._resolve,n,t,i).pipe(de(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),y0(n,e).resolve),null)))}(s.route,i,n,t)),At(()=>o++),gf(1),at(s=>o===r.length?$(e):ci))})}(this.paramsInheritanceStrategy,this.ngModule.injector),At({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),At(l=>{const c=new kF(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),If(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:h,extras:{skipLocationChange:d,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:h,skipLocationChange:!!d,replaceUrl:!!f})}),de(a=>{const l=function eL(n,t,e){const i=Ws(n,t._root,e?e._root:void 0);return new g0(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),At(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>de(i=>(new hL(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),At({next(){o=!0},complete(){o=!0}}),Kb(()=>{var a;o||s||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),Si(a=>{if(s=!0,function OF(n){return n&&n[e0]}(a)){const l=gr(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const c=new Zb(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),h={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||z0(r.source)};this.scheduleNavigation(u,"imperative",null,h,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new CF(r.id,this.serializeUrl(r.extractedUrl),a);i.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return ci}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},s=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(s){const l=Object.assign({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){A0(e),this.config=e.map(Tf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:s;let h=null;switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}return null!==h&&(h=this.removeEmptyProps(h)),function iL(n,t,e,i,r){if(0===e.length)return Ef(t.root,t.root,t.root,i,r);const o=function rL(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new C0(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return bt(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new C0(e,t,i)}(e);if(o.toRoot())return Ef(t.root,t.root,new ue([],{}),i,r);const s=function oL(n,t,e){if(n.isAbsolute)return new Mf(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new Mf(o,o===t.root,0)}const i=ec(n.commands[0])?0:1;return function sL(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Mf(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),a=s.processChildren?tc(s.segmentGroup,s.index,o.commands):w0(s.segmentGroup,s.index,o.commands);return Ef(t.root,s.segmentGroup,a,i,r)}(c,this.currentUrlTree,e,h,null!=u?u:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=gr(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function hN(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},cN):!1===i?Object.assign({},uN):i,gr(e))return s0(this.currentUrlTree,e,r);const o=this.parseUrl(e);return s0(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new $s(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,s){var a,l;if(this.disposed)return Promise.resolve(!1);let c,u,h;s?(c=s.resolve,u=s.reject,h=s.promise):h=new Promise((p,v)=>{c=p,u=v});const d=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),f=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):f=0,this.setTransition({id:d,targetPageId:f,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:c,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(p=>Promise.reject(p))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new Zb(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){fl()},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();function z0(n){return"imperative"!==n}class G0{}class W0{preload(t,e){return $(null)}}let Y0=(()=>{class n{constructor(e,i,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new q0(r,i,l=>e.triggerEvent(new Xb(l)),l=>e.triggerEvent(new Qb(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(nn(e=>e instanceof $s),ko(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(gi);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return pt(r).pipe(Wo(),de(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?$(i._loadedConfig):this.loader.load(e.injector,i)).pipe(at(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(y(rn),y(VS),y(Ie),y(G0))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),Ff=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof vf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof $s&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Jb&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Jb(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){fl()},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const vr=new B("ROUTER_CONFIGURATION"),K0=new B("ROUTER_FORROOT_GUARD"),mN=[Bs,{provide:u0,useClass:h0},{provide:rn,useFactory:function SN(n,t,e,i,r,o,s={},a,l){const c=new rn(null,n,t,e,i,r,n0(o));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function bN(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(s,c),s.enableTracing&&c.events.subscribe(u=>{var h,d;null===(h=console.group)||void 0===h||h.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(d=console.groupEnd)||void 0===d||d.call(console)}),c},deps:[u0,Xs,Bs,Ie,VS,Pf,vr,[class oN{},new xn],[class nN{},new xn]]},Xs,{provide:Io,useFactory:function CN(n){return n.routerState.root},deps:[rn]},Y0,W0,class pN{preload(t,e){return e().pipe(Si(()=>$(null)))}},{provide:vr,useValue:{enableTracing:!1}}];function gN(){return new qS("Router",rn)}let Z0=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[mN,X0(e),{provide:K0,useFactory:_N,deps:[[rn,new xn,new Yr]]},{provide:vr,useValue:i||{}},{provide:Mo,useFactory:yN,deps:[hr,[new Za(qd),new xn],vr]},{provide:Ff,useFactory:vN,deps:[rn,DR,vr]},{provide:G0,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:W0},{provide:qS,multi:!0,useFactory:gN},[Lf,{provide:Ad,multi:!0,useFactory:wN,deps:[Lf]},{provide:Q0,useFactory:DN,deps:[Lf]},{provide:BS,multi:!0,useExisting:Q0}]]}}static forChild(e){return{ngModule:n,providers:[X0(e)]}}}return n.\u0275fac=function(e){return new(e||n)(y(K0,8),y(rn,8))},n.\u0275mod=tt({type:n}),n.\u0275inj=Ye({}),n})();function vN(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Ff(n,t,e)}function yN(n,t,e={}){return e.useHash?new dO(n,t):new lb(n,t)}function _N(n){return"guarded"}function X0(n){return[{provide:JM,multi:!0,useValue:n},{provide:Pf,multi:!0,useValue:n}]}let Lf=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ee}appInitializer(){return this.injector.get(cO,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),o=this.injector.get(rn),s=this.injector.get(vr);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?$(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(vr),r=this.injector.get(Y0),o=this.injector.get(Ff),s=this.injector.get(rn),a=this.injector.get(Fs);e===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&s.initialNavigation(),r.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(y(Ie))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();function wN(n){return n.appInitializer.bind(n)}function DN(n){return n.bootstrapListener.bind(n)}const Q0=new B("Router Initializer"),MN=[];let kN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=Ye({imports:[[Z0.forRoot(MN)],Z0]}),n})();var J0=["adze","ahlspiess","aikuchi","aklys","arbir","arit","aruval","atgeir","axe","backsword","bakatwa","balisong","bardiche","barong","baselard","baton","battle-axe","bhuj","bichuwa","bilbo","bill","bisento","bludgeon","bokken","bolo","boomerang","brandistock","broadaxe","b\u014d","cambuk","cestus","changdao","chigiriki","chokut\u014d","ch\xfai","cinquedea","claw","claymore","club","colichemarde","crop","crowbill","cumberjung","cutlass","dadao","dagger","dao","doloire","dory","dotanuki","dussack","eku","emeici","estoc","falcata","falchion","falx","fan","fauchard","firangi","flail","flamberge","flyssa","fork","fu","gada","gauntlet","gladius","glaive","goad","goedendag","golok","guan","guisarme","gurz","hachiwara","hakapik","haladie","halberd","hammer","hanb\u014d","handaxe","harpe","hasta","hatchet","hwando","hwandudaedo","ida","iklwa","jambiya","jawbone","ji","jian","jukjangchangbo","jutte","j\u014d","kaiken","kalis","kama","kampilan","kanab\u014d","karabela","karambit","kard","kaskara","kastane","katana","katar","katzbalger","kerala","khanda","khanjali","khanjar","khopesh","kila","kilij","kirpan","klewang","knife","knives","knobkierrie","ko","kodachi","kopis","kora","kotiate","krabi","kris","kudi","kujang","kukri","kurunthadi","kusari-gama","kyoketsu-shoge","labrys","lance","lathi","liuyedao","longsword","luwuk","macana","mace","machete","macuahuitl","maduvu","mallet","mameluke","man-catcher","mandau","manriki","masakari","mattock","maul","menavlion","mere","messer","misericorde","moplah","morning-star","morningstar","mubuchae","mughal","naboot","nagamaki","naginata","nair","nandao","ngao","nihonto","nimcha","ninjato","nodachi","nulbjakchang","nunchaku","nyepel","ono","palstave","panabas","partisan","pata","patag","patu","piandao","pichangatti","pick","pickaxe","pike","pinuti","pitchfork","planson","pudao","pulwar","punyal","qama","qiang","quarterstaff","quauhol\u014dlli","ranseur","rapier","romphea","roundhead","rungu","saber","sabre","sagaris","sai","saif","saingeom","saintie","sang","sarissa","sasumata","scepter","scimitar","scythe","seax","shamshir","shareeravadi","shashka","shestopyor","shikomizue","shillelagh","shortsword","shuckra","sibat","sickle","sledgehammer","sodegarami","sovnya","spade","spadroon","spatha","spear","spetum","ssangsudo","staff","stick","suburito","surik","surujin","sword","swordstaff","szabla","tabak-toyok","tabarzin","taiaha","takoba","talibon","talwar","tambo","tant\u014d","tekkan","tekko","tekpi","tepoztopilli","tewhatewha","tibetan","tlaximaltepoztli","tomahawk","tonfa","tongi","trident","trishula","tsukub\u014d","tsurugi","ulfberh","vala\u0161ka","vechevoral","vettukathi","voulge","waddy","waki","wheel","wodao","wrench","xiphos","yanmaodao","yari","yatagan","yawara","yoroi-do","yubi-bo","zanbato","zhanmadao","zhua","zweih\xe4nder"],AN=["jacket","coat","breastplate","jerkin","hauberk","vest","tunic","chestguard"],TN=["pants","greaves","shinguards","trousers","shorts","leggings","skirt"],xN=["helmet","helm","mask","faceguard","cap","hat","hood"],IN=["sandals","boots","shoes","footwear","slippers"],Oo=["atrocious","awful","dreadful","cheap","crummy","lousy","poor","abominable","rough","sad","gross","stinking","imperfect","shoddy","inferior","bad","junky","unusual","aberrant","deviant","careless","cheesy","crappy","cruddy","defective","deficient","abnormal","dissatisfactory","erroneous","faulty","grungy","icky","inadequate","incorrect","slipshod","substandard","unsatisfactory","mediocre","inconsistent","anomalous","atypical","strange","ordinary","regular","common","fair","moderate","humdrum","intermediate","peculiar","medium","middling","standard","customary","everyday","passable","so-so","tolerable","undistinguished","unexceptional","usual","acceptable","excellent","exceptional","familiar","favorable","great","marvelous","positive","satisfactory","satisfying","superb","valuable","wonderful","boss","choice","nice","pleasing","prime","radical","superior","worthy","admirable","agreeable","commendable","congenial","deluxe","first-class","first-rate","gnarly","honorable","neat","precious","reputable","shipshape","splendid","stupendous","eminent","excellent","tiptop","odd","big","considerable","enormous","extreme","huge","immense","notable","strong","tremendous","vast","fat","husky","large","mammoth","ample","bulky","extended","rare","extensive","extravagant","gigantic","grievous","humongous","inordinate","jumbo","lengthy","long","oversize","prodigious","stupendous","titanic","towering","colossal","extraordinary","noteworthy","phenomenal","remarkable","singular","special","super","uncommon","unique","unprecedented","unimaginable","unthinkable"],ta=["irritation","annoyance","embarassment","confusion","frostbite","flames","wounding","light","darkness","power","decimation","destruction","supremacy","annihilation"],Nf=["partial","substantial","blinding","overwhelming","complete","burning","total","incalculable","unfathomable","obliterating","limitless","infinite","eternal","supreme","perfect"],na=["protection","defense","light","darkness","power","supremacy","invulnerability"],Bf=["partial","substantial","complete","total","incalculable","unfathomable","limitless","infinite","eternal","supreme","perfect"],Ro=["patchouli","alangium","lobelia","lovage","anemone","kudzu","marlberry","aster","milkvetch","safflower","cinnamon","velvet leaf","goldthread","lilac","jimson","dendrobium","ephedra","forsythia","honeylocust","licorice","holly","motherwort","arborvitae","snakeroot","foxglove","stringbush","ginger","ginkgo","ginseng"],lc=["rotten","wilted","poor","weak","low-grade","average","healthy","abundant","quality","great","exceptional","amazing","spiritual"];let on=(()=>{class n{constructor(){this.logTopic="STORY",this.enabledTopics="",this.storyLog=[{message:"Be careful, the world can be a dangerous place.",type:"STANDARD",topic:"STORY"},{message:"It may take you many reincarnations before you achieve your goals, but with each new life you will rise with greater aptitudes that allow you to learn and grow faster.",type:"STANDARD",topic:"STORY"},{message:"Your journey to immortality begins as a humble youth leaves home to experience the world. Choose the activities that will help you cultivate the attributes of an immortal.",type:"STANDARD",topic:"STORY"},{message:"Once in a very long while, a soul emerges from the chaos that is destined for immortality. You are such a soul.",type:"STANDARD",topic:"STORY"}],this.newStory="",this.newEvents="",this.newCombat="",this.eventLog=[],this.combatLog=[],this.currentLog=this.storyLog,this.updateLogTopic("STORY")}addLogMessage(e,i,r){var o,s;let a=this.eventLog;"COMBAT"==r?a=this.combatLog:"STORY"==r&&(a=this.storyLog);let l={message:e,type:i,topic:r};if(0==a.length)a.unshift(l);else if(a[0].message.includes(e)){let c=null===(s=null===(o=a[0].message.split(" ").pop())||void 0===o?void 0:o.replace("(",""))||void 0===s?void 0:s.replace(")",""),u=0;c&&(u=parseInt(c)),0==u||isNaN(u)?a[0].message=e+" (2)":(u++,a[0].message=e+" ("+u+")")}else a.unshift(l);a.length>100&&"STORY"!=r&&a.splice(100,1),this.logTopic!=r&&("STORY"==r?this.newStory=" (new)":"EVENT"==r?this.newEvents=" (new)":this.newCombat=" (new)")}getProperties(){return{logTopic:this.logTopic,storyLog:this.storyLog}}setProperties(e){this.storyLog=e.storyLog||[],this.updateLogTopic(e.logTopic)}updateLogTopic(e){this.logTopic=e,"COMBAT"==e?(this.newCombat="",this.currentLog=this.combatLog):"STORY"==e?(this.newStory="",this.currentLog=this.storyLog):(this.newEvents="",this.currentLog=this.eventLog)}reset(){this.storyLog=[{message:"Be careful, the world can be a dangerous place.",type:"STANDARD",topic:"STORY"},{message:"It may take you many reincarnations before you achieve your goals, but with each new life you will rise with greater aptitudes that allow you to learn and grow faster.",type:"STANDARD",topic:"STORY"},{message:"Your journey to immortality begins as a humble youth leaves home to experience the world. Choose the activities that will help you cultivate the attributes of an immortal.",type:"STANDARD",topic:"STORY"},{message:"Once in a very long while, a soul emerges from the chaos that is destined for immortality. You are such a soul.",type:"STANDARD",topic:"STORY"}],this.eventLog=[],this.combatLog=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class PN{constructor(t){this.logService=t,this.totalLives=1,this.dead=!1,this.attributeScalingLimit=10,this.attributeSoftCap=1e5,this.aptitudeGainDivider=100,this.condenseSoulCoreCost=10,this.condenseSoulCoreOriginalCost=10,this.reinforceMeridiansCost=1e3,this.reinforceMeridiansOriginalCost=1e3,this.bloodlineCost=100,this.bloodlineRank=0,this.manaUnlocked=!1,this.accuracy=0,this.accuracyExponentMultiplier=.01,this.attackPower=0,this.defense=0,this.attributes={strength:{description:"An immortal must have raw physical power.",value:1,lifeStartValue:1,aptitude:1,icon:"fitness_center"},toughness:{description:"An immortal must develop resilience to endure hardship.",value:1,lifeStartValue:1,aptitude:1,icon:"castle"},speed:{description:"An immortal must be quick of foot and hand.",value:1,lifeStartValue:1,aptitude:1,icon:"directions_run"},intelligence:{description:"An immortal must understand the workings of the universe.",value:1,lifeStartValue:1,aptitude:1,icon:"local_library"},charisma:{description:"An immortal must influence the hearts and minds of others.",value:1,lifeStartValue:1,aptitude:1,icon:"forum"},spirituality:{description:"An immortal must find deep connections to the divine.",value:0,lifeStartValue:0,aptitude:1,icon:"auto_awesome"},earthLore:{description:"Understanding the earth and how to draw power and materials from it.",value:0,lifeStartValue:0,aptitude:1,icon:"landslide"},metalLore:{description:"Understanding metals and how to forge and use them.",value:0,lifeStartValue:0,aptitude:1,icon:"hardware"},woodLore:{description:"Understanding plants and how to grow and care for them.",value:0,lifeStartValue:0,aptitude:1,icon:"forest"},waterLore:{description:"Understanding potions and pills and how to make and use them.",value:0,lifeStartValue:0,aptitude:1,icon:"emoji_food_beverage"},fireLore:{description:"Burn! Burn! BURN!!!",value:0,lifeStartValue:0,aptitude:1,icon:"emoji_food_beverage"},animalHandling:{description:"Skill in working with animals and monsters.",value:0,lifeStartValue:0,aptitude:1,icon:"pets"}},this.status={health:{description:"Physical well-being. Take too much damage and you will die.",value:100,max:100},stamina:{description:"Physical energy to accomplish tasks. Most activities use stamina, and if you let yourself run down you could get sick and have to stay in bed for a few days.",value:100,max:100},mana:{description:"Magical energy required for mysterious spiritual activities.",value:0,max:0},nourishment:{description:"Eating is essential to life. You will automatically eat whatever food you have available when you are hungry. If you run out of food you will automatically spend your money on a bowl of rice each day.",value:7,max:14}},this.money=300,this.age=6570,this.baseLifespan=10950,this.foodLifespan=0,this.alchemyLifespan=0,this.statLifespan=0,this.spiritualityLifespan=0,this.lifespan=this.baseLifespan+this.foodLifespan+this.alchemyLifespan+this.statLifespan+this.spiritualityLifespan,this.equipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null}}reincarnate(){this.totalLives++,this.status.health.value=100,this.status.health.max=100,this.status.stamina.value=100,this.status.stamina.max=100,this.status.nourishment.value=7,this.status.nourishment.max=14,this.status.mana.max=0,this.status.mana.value=0,this.age=6570,this.baseLifespan+=1,this.foodLifespan=0,this.alchemyLifespan=0,this.spiritualityLifespan=0;let t=0;t+=this.attributes.strength.value+this.attributes.toughness.value+this.attributes.speed.value+this.attributes.intelligence.value+this.attributes.charisma.value,this.statLifespan=this.getAptitudeMultipier(t/5),this.bloodlineRank<4&&(this.statLifespan*=.1);const e=Object.keys(this.attributes);for(const i in e)if(this.attributes[e[i]].value>0){let r=(this.attributes[e[i]].value-(this.attributes[e[i]].lifeStartValue||0))/this.aptitudeGainDivider;this.attributes[e[i]].aptitude+=r,this.logService.addLogMessage("Your aptitude for "+e[i]+" increased by "+Ni(r,"en-US","1.0-3"),"STANDARD","EVENT"),this.attributes[e[i]].value=this.getAttributeStartingValue(this.attributes[e[i]].value,this.attributes[e[i]].aptitude),this.attributes[e[i]].lifeStartValue=this.attributes[e[i]].value}this.money=this.bloodlineRank<3?0:this.bloodlineRank<4?this.money/8:4*this.money,this.recalculateDerivedStats(),0==this.bloodlineRank?this.equipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null}:1==this.bloodlineRank&&(this.equipment.body=null,this.equipment.head=null,this.equipment.legs=null,this.equipment.feet=null)}getAttributeStartingValue(t,e){return t<1?t/10:e<this.attributeSoftCap?e/10:this.attributeSoftCap/10+Math.log2(e-(this.attributeSoftCap-1))}recalculateDerivedStats(){var t,e,i,r,o,s;this.spiritualityLifespan=this.getAptitudeMultipier(this.attributes.spirituality.value),this.lifespan=this.baseLifespan+this.foodLifespan+this.alchemyLifespan+this.statLifespan+this.spiritualityLifespan,this.accuracy=1-Math.exp(0-this.getAptitudeMultipier(this.attributes.speed.value)*this.accuracyExponentMultiplier),this.defense=Math.floor(Math.log10(this.attributes.toughness.value)),this.attackPower=Math.floor(Math.log10(this.attributes.strength.value))||1,this.equipment.leftHand&&(this.attackPower+=(null===(t=this.equipment.leftHand.weaponStats)||void 0===t?void 0:t.baseDamage)||0),this.equipment.rightHand&&(this.attackPower+=(null===(e=this.equipment.rightHand.weaponStats)||void 0===e?void 0:e.baseDamage)||0),this.equipment.head&&(this.defense+=(null===(i=this.equipment.head.armorStats)||void 0===i?void 0:i.defense)||0),this.equipment.body&&(this.defense+=(null===(r=this.equipment.body.armorStats)||void 0===r?void 0:r.defense)||0),this.equipment.legs&&(this.defense+=(null===(o=this.equipment.legs.armorStats)||void 0===o?void 0:o.defense)||0),this.equipment.feet&&(this.defense+=(null===(s=this.equipment.feet.armorStats)||void 0===s?void 0:s.defense)||0)}getAptitudeMultipier(t){return t<this.attributeScalingLimit?t:t<10*this.attributeScalingLimit?this.attributeScalingLimit+(t-this.attributeScalingLimit)/4:t<100*this.attributeScalingLimit?this.attributeScalingLimit+9*this.attributeScalingLimit/4+(t-10*this.attributeScalingLimit)/20:t<this.attributeSoftCap?this.attributeScalingLimit+9*this.attributeScalingLimit/4+90*this.attributeScalingLimit/20+(t-100*this.attributeScalingLimit)/100:this.attributeScalingLimit+9*this.attributeScalingLimit/4+90*this.attributeScalingLimit/20+this.attributeScalingLimit*(this.attributeSoftCap-100)/100+Math.log2(t-this.attributeSoftCap+1)}increaseAttribute(t,e){let i=e*this.getAptitudeMultipier(this.attributes[t].aptitude);return this.attributes[t].value+=i,i}checkOverage(){this.status.health.value>this.status.health.max&&(this.status.health.value=this.status.health.max),this.status.stamina.value>this.status.stamina.max&&(this.status.stamina.value=this.status.stamina.max),this.status.nourishment.value>this.status.nourishment.max&&(this.status.nourishment.value=this.status.nourishment.max),this.status.mana.value>this.status.mana.max&&(this.status.mana.value=this.status.mana.max)}getProperties(){return{attributes:this.attributes,money:this.money,equipment:this.equipment,age:this.age,status:this.status,baseLifespan:this.baseLifespan,foodLifespan:this.foodLifespan,alchemyLifespan:this.alchemyLifespan,statLifespan:this.statLifespan,spiritualityLifespan:this.spiritualityLifespan,attributeScalingLimit:this.attributeScalingLimit,attributeSoftCap:this.attributeSoftCap,aptitudeGainDivider:this.aptitudeGainDivider,condenseSoulCoreCost:this.condenseSoulCoreCost,reinforceMeridiansCost:this.reinforceMeridiansCost,bloodlineCost:this.bloodlineCost,bloodlineRank:this.bloodlineRank,manaUnlocked:this.manaUnlocked,totalLives:this.totalLives}}setProperties(t){this.attributes=t.attributes,this.money=t.money,this.equipment=t.equipment,this.age=t.age||6570,this.status=t.status,this.baseLifespan=t.baseLifespan,this.foodLifespan=t.foodLifespan||0,this.alchemyLifespan=t.alchemyLifespan||0,this.statLifespan=t.statLifespan||0,this.spiritualityLifespan=t.spiritualityLifespan||0,this.attributeScalingLimit=t.attributeScalingLimit,this.attributeSoftCap=t.attributeSoftCap,this.aptitudeGainDivider=t.aptitudeGainDivider,this.condenseSoulCoreCost=t.condenseSoulCoreCost,this.reinforceMeridiansCost=t.reinforceMeridiansCost,this.bloodlineCost=t.bloodlineCost,this.bloodlineRank=t.bloodlineRank,this.manaUnlocked=t.manaUnlocked||!1,this.totalLives=t.totalLives||1,this.recalculateDerivedStats()}}var oe=(()=>{return(n=oe||(oe={}))[n.OddJobs=0]="OddJobs",n[n.Resting=1]="Resting",n[n.Begging=2]="Begging",n[n.Blacksmithing=3]="Blacksmithing",n[n.GatherHerbs=4]="GatherHerbs",n[n.ChopWood=5]="ChopWood",n[n.Woodworking=6]="Woodworking",n[n.Leatherworking=7]="Leatherworking",n[n.Farming=8]="Farming",n[n.Mining=9]="Mining",n[n.Smelting=10]="Smelting",n[n.Hunting=11]="Hunting",n[n.Fishing=12]="Fishing",n[n.Alchemy=13]="Alchemy",n[n.Burning=14]="Burning",n[n.BodyCultivation=15]="BodyCultivation",n[n.MindCultivation=16]="MindCultivation",n[n.CoreCultivation=17]="CoreCultivation",n[n.Recruiting=18]="Recruiting",n[n.Swim=19]="Swim",n[n.ForgeChains=20]="ForgeChains",n[n.AttachChains=21]="AttachChains",oe;var n})();let Cn=(()=>{class n{constructor(e){this.injector=e,this.tickSubject=new Ee,this.longTickSubject=new Ee,this.pause=!0,this.tickDivider=10,this.tickCount=0,this.totalTicks=0,this.unlockFastSpeed=!1,this.unlockFasterSpeed=!1,this.unlockFastestSpeed=!1,this.lastTime=(new Date).getTime(),this.bankedTicks=0,this.offlineDivider=10}getProperties(){return{unlockFastSpeed:this.unlockFastSpeed,unlockFasterSpeed:this.unlockFasterSpeed,unlockFastestSpeed:this.unlockFastestSpeed,lastTime:this.lastTime,tickDivider:this.tickDivider,pause:this.pause,bankedTicks:this.bankedTicks,totalTicks:this.totalTicks}}setProperties(e){this.unlockFastSpeed=e.unlockFastSpeed,this.unlockFasterSpeed=e.unlockFasterSpeed,this.unlockFastestSpeed=e.unlockFastestSpeed,this.tickDivider=e.tickDivider,this.pause=e.pause,this.lastTime=e.lastTime;let i=(new Date).getTime();this.bankedTicks=e.bankedTicks+Math.floor((i-this.lastTime)/(25*this.offlineDivider)),this.lastTime=i,this.totalTicks=e.totalTicks||0}start(){this.characterService||(this.characterService=this.injector.get(Ue)),window.setInterval(()=>{this.longTickSubject.next(!0)},1e3),window.setInterval(()=>{let e=(new Date).getTime(),i=e-this.lastTime;this.lastTime=e;let r=Math.floor(i/25)||1;if(!this.pause){this.bankedTicks>0&&(r+=10/this.tickDivider,this.bankedTicks-=10/this.tickDivider),this.characterService&&this.characterService.characterState.lifespan>100&&r++,this.characterService&&this.characterService.characterState.lifespan>1e3&&r++;for(let o=0;o<r;o++)this.tickCount++,this.tickCount>=this.tickDivider&&(this.tickCount=0,this.totalTicks++,this.tickSubject.next(!0))}},25)}}return n.\u0275fac=function(e){return new(e||n)(y(Ie))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ji=(()=>{class n{constructor(){this.reincarnateSubject=new Ee}reincarnate(){this.reincarnateSubject.next(void 0)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var gt=(()=>{return(n=gt||(gt={}))[n.Swim=0]="Swim",n[n.RaiseIsland=1]="RaiseIsland",n[n.BuildTower=2]="BuildTower",n[n.Tamewinds=3]="Tamewinds",n[n.LearnToFly=4]="LearnToFly",n[n.BefriendDragon=5]="BefriendDragon",n[n.ConquerTheWorld=6]="ConquerTheWorld",n[n.RearrangeTheStars=7]="RearrangeTheStars",n[n.OvercomeDeath=8]="OvercomeDeath",gt;var n})();let ia=(()=>{class n{constructor(e,i,r,o,s){this.injector=e,this.logService=i,this.characterService=r,this.impossibleTasksUnlocked=!1,this.activeTaskIndex=-1,this.nextTask=0,this.tasks=[{name:"Swim to the bottom of the ocean",description:"You find a scrap in an ancient text that leads you to believe that the secret of immortality lies buried deep beneath the ocean's currents.",taskType:gt.Swim,progress:0,progressRequired:1e5,complete:!1},{name:"Raise an island from the sea",description:"At the bottom of the ocean you find a sunken island full of mystical wonders. Some of them will certainly help you in your quest for immortality, but they look too fragile to move by themselves. You'll need to pull the entire island to the surface.",taskType:gt.RaiseIsland,progress:0,progressRequired:1e4,complete:!1},{name:"Build a tower past the heavens",description:"The undersea wonders point you to a secret shrine high above the clouds. You'll need to build an impossibly tall tower to reach it.",taskType:gt.BuildTower,progress:0,progressRequired:1e3,complete:!1},{name:"Tame the winds",description:"The entrance to the shrine is sealed by a fierce hurricane that never stops blowing. You'll need to defeat the power of the storm to get in.",taskType:gt.Tamewinds,progress:0,progressRequired:1e3,complete:!1},{name:"Learn to fly",description:"A carving in the sky shrine shows you that the ancient dragons have the secret of immortality. The dragons never fly where mortals can reach them, but fortunately the shrine contains an inscription that teaches you the fundamentals of flight.",taskType:gt.LearnToFly,progress:0,progressRequired:1e3,complete:!1},{name:"Befriend a dragon",description:"You fly far and wide across the world and finally find an ancient dragon.",taskType:gt.BefriendDragon,progress:0,progressRequired:1e3,complete:!1},{name:"Conquer the world",description:"The dragon finally relents and allows you to speak with it. It shows you the fighting and suffering in the mortal realm and says the situation is most displeasing. Before he will help you, he wants you to solve the proble. Guess it's time to conquer the world and set all things right.",taskType:gt.ConquerTheWorld,progress:0,progressRequired:1e3,complete:!1},{name:"Rearrange the stars",description:"The dragon smiles approvingly and teaches you the secrets of drawing power from the heavens. You could perform the ritual to achieve immortality now if the stars were properly aligned, but that won't happen again for billions of years. Maybe you could help it along.",taskType:gt.RearrangeTheStars,progress:0,progressRequired:1e3,complete:!1},{name:"Overcome death itself",description:"The stars are aligned, the power to achieve immortality is finally within your grasp. The only thing you need to do now is use it to defeat death.",taskType:gt.OvercomeDeath,progress:0,progressRequired:1e3,complete:!1}],o.tickSubject.subscribe(()=>{}),o.longTickSubject.subscribe(()=>{if(!(this.nextTask>=this.tasks.length))for(let a=0;a<this.tasks.length;a++)if(this.tasks[a].complete&&this.tasks[a].taskType==this.nextTask)return void this.nextTask++}),s.reincarnateSubject.subscribe(()=>{this.reset()})}reset(){for(let e of this.tasks)e.progress=0;this.activeTaskIndex=-1}getProperties(){return{tasks:this.tasks,impossibleTasksUnlocked:this.impossibleTasksUnlocked}}setProperties(e){this.tasks=e.tasks,this.impossibleTasksUnlocked=e.impossibleTasksUnlocked}checkCompletion(){if(this.activeTaskIndex<0)return;let e=this.tasks[this.activeTaskIndex];e.progress>=e.progressRequired&&(e.complete=!0,this.stopTask())}startTask(){this.activeTaskIndex=this.nextTask,this.activityService||(this.activityService=this.injector.get(ri)),this.activityService.reloadActivities()}stopTask(){this.activeTaskIndex=-1,this.activityService||(this.activityService=this.injector.get(ri)),this.activityService.reloadActivities()}}return n.\u0275fac=function(e){return new(e||n)(y(Ie),y(on),y(Ue),y(Cn),y(ji))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hn=(()=>{class n{constructor(e,i,r,o){this.characterService=e,this.injector=i,this.logService=r,this.mainLoopService=o,this.furniture={blanket:{id:"blanket",name:"Blanket",type:"furniture",slot:"bed",value:10,description:"A tattered blanket. Not much, but it could keep you warm at night. Increases daily stamina recovery by 1.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value++}},mat:{id:"mat",name:"Sleeping Mat",type:"furniture",slot:"bed",value:1e3,description:"A thin woven mat to sleep on. Increases daily stamina recovery by 1 and restores a bit of health.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=1,this.characterService.characterState.status.health.value+=.1}},canopyBed:{id:"canopyBed",name:"Canopy Bed",type:"furniture",slot:"bed",value:1e4,description:"A fine bed with a cover. Curtains keep the mosquitoes off you during the night. Increases daily stamina recovery by 2 and restores a bit of health.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=2,this.characterService.characterState.status.health.value+=.02}},heatedBed:{id:"heatedBed",name:"Heated Bed",type:"furniture",slot:"bed",value:1e5,description:"A bed built over a small clay oven. Keeps you toasty on even the coldest nights. Increases daily stamina recovery by 5 and improves health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.status.health.value+=1}},bedOfNails:{id:"bedOfNails",name:"Bed of Nails",type:"furniture",slot:"bed",value:1e4,description:"A solid board with nails poking upwards. You won't sleep as well, but it is certain to toughen you up.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value-=1,this.characterService.characterState.increaseAttribute("toughness",.1)}},waterBucket:{id:"waterBucket",name:"water bucket ",type:"furniture",slot:"bathtub",value:10,description:"A bucket of water that lets you splash water on your face. Increases charisma.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.01)}},washBasin:{id:"washBasin",name:"wash basin",type:"furniture",slot:"bathtub",value:1e3,description:"A wash basin with a rag to clean yourself. Increases charisma.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.05)}},woodenTub:{id:"woodenTub",name:"wooden tub",type:"furniture",slot:"bathtub",value:1e4,description:"A tall and narrow tub where you can squat and bathe. Increases charisma and health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.1),this.characterService.characterState.status.health.value+=1}},bronzeTub:{id:"bronzeTub",name:"bronze tub",type:"furniture",slot:"bathtub",value:1e6,description:"A luxurious tub where you can get sparkling clean. Increases charisma and health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.health.value+=1}},heatedTub:{id:"heatedTub",name:"heated tub",type:"furniture",slot:"bathtub",value:1e8,description:"A luxurious tub with its own heating stove. Good for your health and beauty.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.status.health.value+=1,this.characterService.characterState.status.health.max+=1}},cookPot:{id:"cookPot",name:"cook pot",type:"furniture",slot:"kitchen",value:10,description:"A simple pot over a fire to boil your food. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.01),this.characterService.characterState.increaseAttribute("speed",.01),this.characterService.characterState.increaseAttribute("toughness",.01)}},roastingSpit:{id:"roastingSpit",name:"roasting spit",type:"furniture",slot:"kitchen",value:1e3,description:"A simple spit to go along with your cookpot, letting you add more variety to your diet. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.02),this.characterService.characterState.increaseAttribute("speed",.02),this.characterService.characterState.increaseAttribute("toughness",.02)}},wok:{id:"wok",name:"wok",type:"furniture",slot:"kitchen",value:1e6,description:"A large metal wok to stir-fry a tasty dinner. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.05),this.characterService.characterState.increaseAttribute("speed",.05),this.characterService.characterState.increaseAttribute("toughness",.05)}},chefKitchen:{id:"chefKitchen",name:"chef kitchen",type:"furniture",slot:"kitchen",value:1e9,description:"An elaborate kitchen that allows you to cook anything. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.increaseAttribute("toughness",.1)}},anvil:{id:"anvil",name:"anvil",type:"furniture",slot:"workbench",value:1e6,description:"An anvil to work on blacksmithing.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("metalLore",.01)}},herbGarden:{id:"herbGarden",name:"herb garden",type:"furniture",slot:"workbench",value:1e6,description:"An pleasant garden growing herbs.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("woodLore",.01)}},dogKennel:{id:"dogKennel",name:"dog kennel",type:"furniture",slot:"workbench",value:1e6,description:"A kennel for training hunting dogs.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("animalHandling",.01)}},cauldron:{id:"cauldron",name:"cauldron",type:"furniture",slot:"workbench",value:1e6,description:"A cauldron for practicing alchemy.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("waterLore",.01)}},prayerShrine:{id:"prayerShrine",name:"prayer shrine",type:"furniture",slot:"workbench",value:1e7,description:"A quiet shrine for contemplative prayer. You won't be able to use this unless you have some innate spirituality.",useConsumes:!1,use:()=>{this.characterService.characterState.attributes.spirituality.value>0&&this.characterService.characterState.increaseAttribute("spirituality",.01)}}},this.items={rice:{id:"rice",name:"rice",type:"food",value:1,description:"A basic staple of life. One pouch will sustain you for a day.",useLabel:"Eat",useDescription:"Fills your belly.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,this.characterService.characterState.checkOverage()}},cabbage:{id:"cabbage",name:"cabbage",type:"food",value:5,description:"A simple, healthy vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.01&&(this.characterService.characterState.status.health.max++,this.characterService.characterState.status.health.value++),this.characterService.characterState.checkOverage()}},beans:{id:"beans",name:"beans",type:"food",value:10,description:"A handful of healthy vegetables.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.02&&(this.characterService.characterState.status.health.max++,this.characterService.characterState.status.health.value++,this.characterService.characterState.foodLifespan<1825&&(this.characterService.characterState.foodLifespan+=1)),this.characterService.characterState.checkOverage()}},broccoli:{id:"broccoli",name:"broccoli",type:"food",value:15,description:"Little green trees. A very healthy vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.05&&(this.characterService.characterState.status.health.max++,this.characterService.characterState.status.health.value++,this.characterService.characterState.foodLifespan<3650&&(this.characterService.characterState.foodLifespan+=1)),this.characterService.characterState.checkOverage()}},calabash:{id:"calabash",name:"calabash",type:"food",value:20,description:"A tasty guard with health-giving properties.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.08&&(this.characterService.characterState.status.health.max++,this.characterService.characterState.status.health.value++,this.characterService.characterState.foodLifespan<5475&&(this.characterService.characterState.foodLifespan+=1)),this.characterService.characterState.checkOverage()}},taro:{id:"taro",name:"taro",type:"food",value:25,description:"A healthy root vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.1&&(this.characterService.characterState.status.health.max++,this.characterService.characterState.status.health.value++,this.characterService.characterState.foodLifespan<7300&&(this.characterService.characterState.foodLifespan+=1)),this.characterService.characterState.checkOverage()}},pear:{id:"pear",name:"pear",type:"food",value:30,description:"A tasty fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.12&&(this.characterService.characterState.status.health.max++,this.characterService.characterState.status.health.value++,this.characterService.characterState.foodLifespan<9125&&(this.characterService.characterState.foodLifespan+=1)),this.characterService.characterState.checkOverage()}},melon:{id:"melon",name:"melon",type:"food",value:35,description:"A yummy fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.15&&(this.characterService.characterState.status.health.max++,this.characterService.characterState.status.health.value++,this.characterService.characterState.foodLifespan<10950&&(this.characterService.characterState.foodLifespan+=1)),this.characterService.characterState.checkOverage()}},plum:{id:"plum",name:"plum",type:"food",value:40,description:"An excellent fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.18&&(this.characterService.characterState.status.health.max++,this.characterService.characterState.status.health.value++,this.characterService.characterState.foodLifespan<12775&&(this.characterService.characterState.foodLifespan+=1)),this.characterService.characterState.checkOverage()}},apricot:{id:"apricot",name:"apricot",type:"food",value:45,description:"A delicious fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.2&&(this.characterService.characterState.status.health.max++,this.characterService.characterState.status.health.value++,this.characterService.characterState.foodLifespan<14600&&(this.characterService.characterState.foodLifespan+=1)),this.characterService.characterState.checkOverage()}},peach:{id:"peach",name:"peach",type:"food",value:50,description:"A highly prized and delicious fruit.",useLabel:"Eat",useDescription:"Fills your belly and can even lead to a long life.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.22&&(this.characterService.characterState.status.health.max++,this.characterService.characterState.status.health.value+=2,this.characterService.characterState.foodLifespan<26280&&(this.characterService.characterState.foodLifespan+=1)),this.characterService.characterState.checkOverage()}},meat:{id:"meat",name:"meat",type:"food",value:50,description:"Some delicious meat.",useLabel:"Eat",useDescription:"Fills your belly. Can also improve your health and stamina.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value+=2,this.characterService.characterState.status.health.max++,this.characterService.characterState.status.health.value+=10,this.characterService.characterState.status.stamina.max++,this.characterService.characterState.checkOverage()}},carp:{id:"carp",name:"carp",type:"food",value:50,description:"A common fish.",useLabel:"Eat",useDescription:"Fills your belly. Might also improve your health and stamina.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.1&&(this.characterService.characterState.status.health.max++,this.characterService.characterState.status.stamina.max++),this.characterService.characterState.checkOverage()}},hide:{id:"hide",name:"hide",type:"hide",value:1,description:"A basic animal hide."},elmLog:{id:"elmLog",name:"elm log",type:"wood",value:1,description:"A terrible quality log."},cypressLog:{id:"cypressLog",name:"cypress log",type:"wood",value:2,description:"A poor quality log."},walnutLog:{id:"walnutLog",name:"walnut log",type:"wood",value:3,description:"An adequate quality log."},laurelwoodLog:{id:"laurelwoodLog",name:"laurelwood log",type:"wood",value:4,description:"A nice quality log."},pearwoodLog:{id:"pearwoodLog",name:"pearwood log",type:"wood",value:5,description:"A good quality log."},rosewoodLog:{id:"rosewoodLog",name:"rosewood log",type:"wood",value:6,description:"A great quality log."},zitanLog:{id:"zitanLog",name:"zitan log",type:"wood",value:7,description:"An excellent quality log."},blackwoodLog:{id:"blackwoodLog",name:"blackwood log",type:"wood",value:8,description:"An amazing quality log."},peachwoodLog:{id:"peachwoodLog",name:"peachwood log",type:"wood",value:9,description:"A spiritual quality log."},diamondwoodLog:{id:"diamondwoodLog",name:"diamondwood log",type:"wood",value:10,description:"A log as hard as diamond."},titanwoodLog:{id:"titanwoodLog",name:"titanwood log",type:"wood",value:11,description:"A log with the strength of titans."},dragonwoodLog:{id:"dragonwoodLog",name:"dragonwood log",type:"wood",value:12,description:"A log blessed by dragons."},devilwoodLog:{id:"devilwoodLog",name:"devilwood log",type:"wood",value:13,description:"A demonic quality log."},divinewoodLog:{id:"divinewoodLog",name:"divinewood log",type:"wood",value:14,description:"A divine quality log."},copperOre:{id:"copperOre",name:"copper ore",type:"ore",value:1,description:"A chunk of copper ore."},tinOre:{id:"tinOre",name:"tin ore",type:"ore",value:2,description:"A chunk of tin ore."},bronzeOre:{id:"bronzeOre",name:"mixed ore",type:"ore",value:3,description:"A chunk of ore containing copper, tin, lead, and zinc."},ironOre:{id:"ironOre",name:"iron ore",type:"ore",value:4,description:"A chunk of iron ore."},steelOre:{id:"steelOre",name:"coal-mixed iron ore",type:"ore",value:5,description:"A chunk of iron ore laced with coal."},mithrilOre:{id:"mithrilOre",name:"mithril ore",type:"ore",value:6,description:"A chunk of mithril ore."},greensteelOre:{id:"greensteelOre",name:"greensteel ore",type:"ore",value:7,description:"A chunk of greensteel ore."},bluesteelOre:{id:"bluesteelOre",name:"bluesteel ore",type:"ore",value:8,description:"A chunk of bluesteel ore."},redsteelOre:{id:"redsteelOre",name:"redsteel ore",type:"ore",value:9,description:"A chunk of redsteel ore."},flamesteelOre:{id:"flamesteelOre",name:"flamesteel ore",type:"ore",value:10,description:"A chunk of flamesteel ore."},froststeelOre:{id:"froststeelOre",name:"froststeel ore",type:"ore",value:11,description:"A chunk of froststeel ore."},brightsteelOre:{id:"brightsteelOre",name:"brightsteel ore",type:"ore",value:12,description:"A chunk of brightsteel ore."},darksteelOre:{id:"darksteelOre",name:"darksteel ore",type:"ore",value:13,description:"A chunk of darksteel ore."},felsteelOre:{id:"felsteelOre",name:"felsteel ore",type:"ore",value:14,description:"A chunk of cloudsteel ore."},cloudsteelOre:{id:"cloudsteelOre",name:"cloudsteel ore",type:"ore",value:15,description:"A chunk of cloudsteel ore."},adamantOre:{id:"adamantOre",name:"adamant ore",type:"ore",value:16,description:"A chunk of adamant ore."},copperBar:{id:"copperBar",name:"copper bar",type:"metal",value:10,description:"A bar of copper."},tinBar:{id:"tinBar",name:"tin bar",type:"metal",value:20,description:"A bar of tin."},bronzeBar:{id:"bronzeBar",name:"bronze bar",type:"metal",value:30,description:"A bar of bronze."},ironBar:{id:"ironBar",name:"iron bar",type:"metal",value:40,description:"A bar of iron."},steelBar:{id:"steelBar",name:"steel bar",type:"metal",value:50,description:"A bar of steel."},mithrilBar:{id:"mithrilBar",name:"mithril bar",type:"metal",value:60,description:"A bar of of mithril."},greensteelBar:{id:"greensteelBar",name:"greensteel bar",type:"metal",value:70,description:"A bar of greensteel."},bluesteelBar:{id:"bluesteelBar",name:"bluesteel bar",type:"metal",value:80,description:"A bar of bluesteel."},redsteelBar:{id:"redsteelBar",name:"redsteel bar",type:"metal",value:90,description:"A bar of redsteel."},flamesteelBar:{id:"flamesteelBar",name:"flamesteel bar",type:"metal",value:100,description:"A bar of flamesteel."},froststeelBar:{id:"froststeelBar",name:"froststeel bar",type:"metal",value:110,description:"A bar of froststeel."},brightsteelBar:{id:"brightsteelBar",name:"brightsteel bar",type:"metal",value:120,description:"A bar of brightsteel."},darksteelBar:{id:"darksteelBar",name:"darksteel bar",type:"metal",value:130,description:"A bar of darksteel."},felsteelBar:{id:"felsteelBar",name:"felsteel bar",type:"metal",value:140,description:"A bar of cloudsteel."},cloudsteelBar:{id:"cloudsteelBar",name:"cloudsteel bar",type:"metal",value:150,description:"A bar of cloudsteel."},adamantBar:{id:"adamantBar",name:"adamant bar",type:"metal",value:160,description:"A bar of adamant."},junk:{id:"junk",name:"junk",type:"metal",value:10,description:"Some metal junk."},unbreakableChain:{id:"unbreakableChain",name:"uubreakable chain",type:"chain",value:1,description:"This chain is specially forged for a single purpose."},fastPlayManual:{id:"fastPlayManual",name:"Manual of Expeditious Time Perception",type:"manual",description:"This manual teaches you to percieve time as moving faster.",value:28e3,useLabel:"Read",useDescription:"Permanently unlock fast game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFastSpeed=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>!!this.mainLoopService.unlockFastSpeed},fasterPlayManual:{id:"fasterPlayManual",name:"Manual of Greatly Expeditious Time Perception",type:"manual",description:"This manual teaches you to percieve time as moving much faster.",value:1e5,useLabel:"Read",useDescription:"Permanently unlock faster game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFasterSpeed=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>!!this.mainLoopService.unlockFasterSpeed},fastestPlayManual:{id:"fastestPlayManual",name:"Manual of Ludicrous Time Perception",type:"manual",description:"This manual teaches you to percieve time as moving incredibly fast.",value:8e5,useLabel:"Read",useDescription:"Permanently unlock fastest game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFastestSpeed=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>!!this.mainLoopService.unlockFastestSpeed},restartActivityManual:{id:"restartActivityManual",name:"Manual of Remembered Plans",type:"manual",description:"This manual teaches you to automatically resume activities from your previous life. Only activities that you qualify for when you reach adulthood are available to resume.",value:500,useLabel:"Read",useDescription:"Permanently unlock preserving activity plans across reincarnations.",useConsumes:!0,use:()=>{this.activityService||(this.activityService=this.injector.get(ri)),this.activityService.autoRestart=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>{var s;return this.activityService||(this.activityService=this.injector.get(ri)),!!(null===(s=this.activityService)||void 0===s?void 0:s.autoRestart)}},autoSellManual:{id:"autoSellManual",name:"Manual of Mercantile Fluency",type:"manual",description:"This manual teaches you to automatically sell items.",value:8e4,useLabel:"Read",useDescription:"Permanently unlock Autosell button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoSellUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoSellUnlocked)},autoUseManual:{id:"autoUseManual",name:"Manual of Facilitated Usage",type:"manual",description:"This manual teaches you to automatically use items.",value:1e6,useLabel:"Read",useDescription:"Permanently unlock Autouse button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoUseUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoUseUnlocked)},autoBalanceManual:{id:"autoBalanceManual",name:"Manual of Balanced Consumption and Mercantile Moderation",type:"manual",description:"This manual teaches you to automatically balance between using and selling items.",value:5e7,useLabel:"Read",useDescription:"Permanently unlock Autobalance button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoBalanceUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoBalanceUnlocked)},autoBuyLandManual:{id:"autoBuyLandManual",name:"Manual of Land Acquisition",type:"manual",description:"This manual teaches you to automatically purchase land.",value:2e6,useLabel:"Read",useDescription:"Permanently unlock automatic land purchasing.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(dt)),this.homeService.autoBuyLandUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(dt)),this.homeService.autoBuyLandUnlocked)},autoBuyHomeManual:{id:"autoBuyHomeManual",name:"Manual of Home Improvement",type:"manual",description:"This manual teaches you to automatically upgrade your home.",value:1e7,useLabel:"Read",useDescription:"Permanently unlock automatic home upgrades.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(dt)),this.homeService.autoBuyHomeUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(dt)),this.homeService.autoBuyHomeUnlocked)},autoBuyFurnitureManual:{id:"autoBuyFurnitureManual",name:"Manual of Home Furnishing",type:"manual",description:"This manual teaches you to automatically buy the last furniture you bought for your home in future lives.",value:8e7,useLabel:"Read",useDescription:"Permanently unlock automatic purchasing for furniture.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(dt)),this.homeService.autoBuyFurnitureUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(dt)),this.homeService.autoBuyFurnitureUnlocked)},autoFieldManual:{id:"autoFieldManual",name:"Manual of Field Conversion",type:"manual",description:"This manual teaches you to automatically plow open land into fields.",value:2e6,useLabel:"Read",useDescription:"Permanently unlock automatic field plowing.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(dt)),this.homeService.autoFieldUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(dt)),this.homeService.autoFieldUnlocked)},autoPotionManual:{id:"autoPotionManual",name:"Manual of Gluttonous Potion Consumption",type:"manual",description:"This manual teaches you to automatically use all potions.",value:2e8,useLabel:"Read",useDescription:"Permanently unlock autodrinking all potions.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoPotionUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoPotionUnlocked)},autoPillManual:{id:"autoPotionManual",name:"Manual of Reckless Pill Consumption",type:"manual",description:"This manual teaches you to automatically use all pills.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock autoswallowing all pills.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoPillUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoPillUnlocked)},autoTroubleManual:{id:"autoTroubleManual",name:"Manual of Consistent Troublemaking",type:"manual",description:"This manual teaches you to automatically look for trouble.",value:5e8,useLabel:"Read",useDescription:"Permanently unlock automatic trouble in the battle panel.",useConsumes:!0,use:()=>{this.battleService||(this.battleService=this.injector.get(yr)),this.battleService.autoTroubleUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>{var s;return this.battleService||(this.battleService=this.injector.get(yr)),null===(s=this.battleService)||void 0===s?void 0:s.autoTroubleUnlocked}},autoWeaponMergeManual:{id:"autoWeaponMergeManual",name:"Manual of Effortless Weapon Merging",type:"manual",description:"This manual teaches you to automatically merge weapons.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock automatic weapon merging in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoWeaponMergeUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoWeaponMergeUnlocked)},autoArmorMergeManual:{id:"autoArmorMergeManual",name:"Manual of Effortless Armor Merging",type:"manual",description:"This manual teaches you to automatically merge armor.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock automatic armor merging in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoArmorMergeUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoArmorMergeUnlocked)},useSpiritGemManual:{id:"useSpiritGemManual",name:"Manual of Spirit Gem Comprehension",type:"manual",description:"This manual teaches you to incorporate spirit gems in your crafting.",value:5e5,useLabel:"Read",useDescription:"Permanently unlock including spirit gems when creating items.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.useSpiritGemUnlocked=!0,this.inventoryService.useSpiritGemWeapons=!0,this.inventoryService.useSpiritGemPotions=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.useSpiritGemUnlocked)},bestHerbsManual:{id:"bestHerbsManual",name:"Manual of the Herbal Connoisseur",type:"manual",description:"This manual teaches you to automatically sell any herbs below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock autoselling lower grade herbs.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoSellOldHerbs=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoSellOldHerbs)},bestWoodManual:{id:"bestWoodManual",name:"Manual of the Discerning Wood Collector",type:"manual",description:"This manual teaches you to automatically sell any logs below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock autoselling lower grade logs.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoSellOldWood=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoSellOldWood)},bestOreManual:{id:"bestOreManual",name:"Manual of Mineral Pragmatism",type:"manual",description:"This manual teaches you to automatically sell any ores below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock autoselling lower grade ores.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoSellOldOre=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoSellOldOre)},bestWeaponManual:{id:"bestWeaponManual",name:"Manual of Wise Weapon Selection",type:"manual",description:"This manual teaches you to automatically equip the best weapons that you have.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock autoequipping the best weapons in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoequipBestWeapon=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoequipBestWeapon)},bestArmorManual:{id:"bestArmorManual",name:"Manual of Defensive Preparation",type:"manual",description:"This manual teaches you to automatically equip the best armor that you have.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock autoequipping the best armor in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoequipBestArmor=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.autoequipBestArmor)},betterStorageManual:{id:"betterStorageManual",name:"Manual of Efficient Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e6,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.maxStackSize*=10,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.maxStackSize>=1e3)},evenBetterStorageManual:{id:"evenBetterStorageManual",name:"Manual of Hyperefficient Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e8,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.maxStackSize*=10,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.maxStackSize>=1e4)},bestStorageManual:{id:"bestStorageManual",name:"Manual of Hyperspatial Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e8,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.maxStackSize*=10,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(K)),this.inventoryService.maxStackSize>=1e5)}}}getItemById(e){if(this.items[e])return this.items[e]}getFurnitureById(e){return this.furniture[e]?this.furniture[e]:null}}return n.\u0275fac=function(e){return new(e||n)(y(Ue),y(Ie),y(on),y(Cn))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yr=(()=>{class n{constructor(e,i,r,o,s,a){this.logService=e,this.characterService=i,this.itemRepoService=r,this.inventoryService=o,this.autoTroubleUnlocked=!1,this.autoTroubleEnabled=!1,this.enableManaShield=!1,this.enableManaAttack=!1,this.manaShieldUnlocked=!1,this.manaAttackUnlocked=!1,this.ticksPerFight=10,this.enemyRepo={mouse:{name:"a pesky mouse",health:2,maxHealth:2,accuracy:.03,attack:.3,defense:0,loot:[]},wolf:{name:"a hungry wolf",health:20,maxHealth:20,accuracy:.5,attack:5,defense:2,loot:[this.itemRepoService.items.hide]}},this.monsterNames=["spider","rat","lizard","snake","imp","ooze","jackalope","goblin","monkey","redcap","skeleton","zombie","hobgoblin","kobold","chupacabra","incubus","succubus","jackal","basilisk","mogwai","ghoul","gremlin","orc","tiger","ghost","troll","manticore","merlion","landshark","bugbear","yeti","dreameater","unicorn","ogre","banshee","harpy","werewolf","golem","leshy","hellhound","chimaera","undine","minotaur","bunyip","cyclops","rakshasa","oni","nyuk","cavebear","wendigo","dinosaur","wyvern","doomworm","thunderbird","vampire","beholder","hydra","roc","giant","kraken","phoenix","pazuzu","titan","leviathan","stormbringer"],this.monsterQualities=["an infant","a puny","a pathetic","a sickly","a starving","a wimpy","a weak","a badly wounded","a tired","a poor","a small","a despondent","a frightened","a skinny","a sad","a stinking","a typical","an average","a healthy","a big","a tough","a strong","a fearsome","a gutsy","a quick","a hefty","a brawny","an athletic","a muscular","a rugged","a resilient","an angry","a clever","a fierce","a devious","a mighty","a powerful","a noble","a magical","a dangerous","a terrifying","a flame-shrouded","an abominable","a monstrous","a dominating","a demonic","a diabolical","an infernal"],this.enemies=[],this.currentEnemy=null,this.kills=0,this.troubleKills=0,this.yearlyMonsterDay=0,this.tickCounter=0,s.tickSubject.subscribe(()=>{if(!this.characterService.characterState.dead){if(this.tickCounter<this.ticksPerFight)return void this.tickCounter++;this.tickCounter=0,null==this.currentEnemy&&this.enemies.length>0&&(this.currentEnemy=this.enemies[0]),this.enemiesAttack(),this.youAttack(),this.yearlyMonsterDay++,this.yearlyMonsterDay>=365&&(this.yearlyMonsterDay=0,this.trouble()),this.autoTroubleEnabled&&this.trouble()}}),a.reincarnateSubject.subscribe(()=>{this.reset()})}reset(){this.enemies=[],this.currentEnemy=null,this.kills=0,this.troubleKills=0,this.yearlyMonsterDay=0}getProperties(){return{enemies:this.enemies,currentEnemy:this.currentEnemy,kills:this.kills,troubleKills:this.troubleKills,autoTroubleUnlocked:this.autoTroubleUnlocked,autoTroubleEnabled:this.autoTroubleEnabled,monthlyMonsterDay:this.yearlyMonsterDay,manaShieldUnlocked:this.manaShieldUnlocked,manaAttackUnlocked:this.manaAttackUnlocked,enableManaShield:this.enableManaShield,enableManaAttack:this.enableManaAttack}}setProperties(e){this.enemies=e.enemies,this.currentEnemy=e.currentEnemy,this.kills=e.kills,this.troubleKills=e.troubleKills,this.autoTroubleUnlocked=e.autoTroubleUnlocked,this.autoTroubleEnabled=e.autoTroubleEnabled,this.yearlyMonsterDay=e.monthlyMonsterDay,this.enableManaShield=e.enableManaShield,this.enableManaAttack=e.enableManaAttack}enemiesAttack(){for(const e of this.enemies)for(let i=0;i<e.quantity;i++)if(Math.random()<e.enemy.accuracy){let r=e.enemy.attack;r/=1+.1*this.characterService.characterState.defense,this.enableManaShield&&this.characterService.characterState.status.mana.value>10&&(r/=2,this.characterService.characterState.status.mana.value-=10),this.logService.addLogMessage("Ow! "+e.enemy.name+" hit you for "+Ni(r,"en-US","1.0-2")+" damage","INJURY","COMBAT"),this.characterService.characterState.status.health.value-=r,this.characterService.characterState.increaseAttribute("toughness",.01)}else this.logService.addLogMessage("Miss! "+e.enemy.name+" tries to hit you but fails.","STANDARD","COMBAT")}youAttack(){if(this.currentEnemy){if(Math.random()>this.characterService.characterState.accuracy)return void this.logService.addLogMessage("You attack "+this.currentEnemy.enemy.name+" but miss.","STANDARD","COMBAT");let e=this.characterService.characterState.attackPower;if(e/=1+.1*this.currentEnemy.enemy.defense,e<1&&(e=1),this.enableManaAttack&&this.characterService.characterState.status.mana.value>10&&(e*=2,this.characterService.characterState.status.mana.value-=10),this.currentEnemy.enemy.health=Math.floor(this.currentEnemy.enemy.health-e),this.characterService.characterState.equipment.leftHand&&this.characterService.characterState.equipment.leftHand.weaponStats&&(this.characterService.characterState.equipment.leftHand.weaponStats.durability--,this.inventoryService.updateWeaponDescription(this.characterService.characterState.equipment.leftHand),this.characterService.characterState.equipment.leftHand.weaponStats.durability<=0&&(this.inventoryService.addItem(this.characterService.characterState.equipment.leftHand),this.characterService.characterState.equipment.leftHand=null)),this.characterService.characterState.equipment.rightHand&&this.characterService.characterState.equipment.rightHand.weaponStats&&(this.characterService.characterState.equipment.rightHand.weaponStats.durability--,this.inventoryService.updateWeaponDescription(this.characterService.characterState.equipment.rightHand),this.characterService.characterState.equipment.rightHand.weaponStats.durability<=0&&(this.inventoryService.addItem(this.characterService.characterState.equipment.rightHand),this.characterService.characterState.equipment.rightHand=null)),this.currentEnemy.enemy.health<=0){this.kills++,this.logService.addLogMessage("You manage to kill "+this.currentEnemy.enemy.name,"STANDARD","COMBAT");for(let i of this.currentEnemy.enemy.loot)this.inventoryService.addItem(i);if(this.currentEnemy.quantity--,this.currentEnemy.quantity<=0){let i=this.enemies.indexOf(this.currentEnemy);this.enemies.splice(i,1),this.currentEnemy=null}else this.currentEnemy.enemy.health=this.currentEnemy.enemy.maxHealth}else this.logService.addLogMessage("You attack "+this.currentEnemy.enemy.name+" for "+e+" damage","STANDARD","COMBAT")}}fight(e){this.currentEnemy=e}addEnemy(e){this.logService.addLogMessage("A new enemy comes along to trouble your sleep: "+e.name,"STANDARD","COMBAT");for(const i of this.enemies)if(i.enemy.name==e.name)return void i.quantity++;this.enemies.push({enemy:JSON.parse(JSON.stringify(e)),quantity:1}),null==this.currentEnemy&&(this.currentEnemy=this.enemies[0])}trouble(){if(0!=this.enemies.length)return;let e=Math.floor(this.troubleKills/(this.monsterNames.length*this.monsterQualities.length)),i=this.troubleKills%(this.monsterNames.length*this.monsterQualities.length),r=Math.floor(i/this.monsterQualities.length),s=this.monsterQualities[i%this.monsterQualities.length]+" "+this.monsterNames[r];e>0&&(s+=" "+(e+1)),this.addEnemy({name:s,health:10*this.troubleKills,maxHealth:10*this.troubleKills,accuracy:.5,attack:this.troubleKills/5,defense:Math.floor(Math.log2(this.troubleKills)),loot:[this.inventoryService.generateSpiritGem(Math.floor(Math.log2(this.troubleKills+2)))]}),this.troubleKills++}}return n.\u0275fac=function(e){return new(e||n)(y(on),y(Ue),y(Hn),y(K),y(Cn),y(ji))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Fe=(()=>{return(n=Fe||(Fe={}))[n.SquatterTent=0]="SquatterTent",n[n.OwnTent=1]="OwnTent",n[n.DirtyShack=2]="DirtyShack",n[n.SimpleHut=3]="SimpleHut",n[n.PleasantCottage=4]="PleasantCottage",n[n.LargeHouse=5]="LargeHouse",n[n.CourtyardHouse=6]="CourtyardHouse",n[n.Manor=7]="Manor",n[n.Mansion=8]="Mansion",n[n.Palace=9]="Palace",n[n.Castle=10]="Castle",n[n.Fortress=11]="Fortress",n[n.Mountain=12]="Mountain",n[n.ForbiddenCity=13]="ForbiddenCity",n[n.Capital=14]="Capital",Fe;var n})();let dt=(()=>{class n{constructor(e,i,r,o,s,a,l){if(this.characterService=e,this.inventoryService=i,this.logService=r,this.battleService=o,this.itemRepoService=l,this.autoBuyLandUnlocked=!1,this.autoBuyLandLimit=5,this.autoBuyHomeUnlocked=!1,this.autoBuyHomeLimit=2,this.autoBuyFurnitureUnlocked=!1,this.autoBuyFurniture={bed:null,bathtub:null,kitchen:null,workbench:null},this.autoFieldUnlocked=!1,this.autoFieldLimit=0,this.fields=[],this.averageYield=0,this.furniture={bed:null,bathtub:null,kitchen:null,workbench:null},this.furniturePositionsArray=["bed","bathtub","kitchen","workbench"],this.grandfatherTent=!1,this.houseBuildingProgress=1,this.upgrading=!1,this.homesList=[{name:"Squatter Tent",type:Fe.SquatterTent,description:"A dirty tent pitched in an unused field. Costs nothing, but you get what you pay for. The mice around here are pretty nasty and you might get robbed by bandits.",cost:0,costPerDay:0,landRequired:0,maxInventory:10,consequence:()=>{Math.random()<.05&&(this.logService.addLogMessage("Some troublemakers stole some money while you were sleeping. It might be time to get some walls.","INJURY","EVENT"),this.characterService.characterState.money-=this.characterService.characterState.money/10),Math.random()<.4&&this.battleService.addEnemy(this.battleService.enemyRepo.mouse)},furnitureSlots:[],daysToBuild:1},{name:"Tent of Your Own",type:Fe.OwnTent,description:"A decent tent pitched on your own bit of land. The occasional mouse or ruffian might give you trouble. Automatically restores 1 stamina and a bit of health each night.",cost:100,costPerDay:1,landRequired:1,maxInventory:12,consequence:()=>{this.characterService.characterState.status.health.value+=.5,this.characterService.characterState.status.stamina.value+=1,Math.random()<.03&&(this.logService.addLogMessage("Some troublemakers stole some money while you were sleeping. It might be time to get some walls.","INJURY","EVENT"),this.characterService.characterState.money-=this.characterService.characterState.money/10),Math.random()<.2&&this.battleService.addEnemy(this.battleService.enemyRepo.mouse),this.characterService.characterState.checkOverage()},furnitureSlots:[],daysToBuild:1},{name:"Dirty Shack",type:Fe.DirtyShack,description:"A cheap dirt-floored wooden shack. At least it has a door to keep ruffians out. Automatically restores 3 stamina and a bit of health each night.",cost:1e3,costPerDay:5,landRequired:5,maxInventory:15,consequence:()=>{this.characterService.characterState.status.health.value+=.5,this.characterService.characterState.status.stamina.value+=3,this.characterService.characterState.checkOverage()},furnitureSlots:["bed"],daysToBuild:1},{name:"Simple Hut",type:Fe.SimpleHut,description:"A very simple hut. Automatically restores 5 stamina and a bit of health each night.",cost:1e4,costPerDay:10,landRequired:10,maxInventory:18,consequence:()=>{this.characterService.characterState.status.health.value+=.7,this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub"],daysToBuild:10},{name:"Pleasant Cottage",type:Fe.PleasantCottage,description:"A nice little home where you can rest peacefully. Automatically restores 10 stamina and a bit of health each night.",cost:1e5,costPerDay:20,landRequired:20,maxInventory:20,consequence:()=>{this.characterService.characterState.status.mana.value+=.1,this.characterService.characterState.status.health.value+=1,this.characterService.characterState.status.stamina.value+=10,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen"],daysToBuild:30},{name:"Large House",type:Fe.LargeHouse,description:"A large house where you can live and work. Automatically restores 15 stamina and a bit of health each night.",cost:1e6,costPerDay:50,landRequired:50,maxInventory:24,consequence:()=>{this.characterService.characterState.status.mana.value+=.2,this.characterService.characterState.status.health.value+=2,this.characterService.characterState.status.stamina.value+=15,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:90},{name:"Courtyard House",type:Fe.CourtyardHouse,description:"A large house with a wall and an enclosed courtyard. Perfect for building a thriving business. Automatically restores 20 stamina and a bit of health each night.",cost:1e7,costPerDay:80,landRequired:80,maxInventory:28,consequence:()=>{this.characterService.characterState.status.mana.value+=.3,this.characterService.characterState.status.health.value+=3,this.characterService.characterState.status.stamina.value+=20,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:180},{name:"Manor",type:Fe.Manor,description:"A large manor house. You are really moving up in the world. Automatically restores 25 stamina and a bit of health each night.",cost:1e8,costPerDay:100,landRequired:100,maxInventory:30,consequence:()=>{this.characterService.characterState.status.mana.value+=.4,this.characterService.characterState.status.health.value+=4,this.characterService.characterState.status.stamina.value+=25,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365},{name:"Mansion",type:Fe.Mansion,description:"An elaborate mansion. Automatically restores 30 stamina and a bit of health each night.",cost:1e9,costPerDay:120,landRequired:120,maxInventory:32,consequence:()=>{this.characterService.characterState.status.mana.value+=.5,this.characterService.characterState.status.health.value+=5,this.characterService.characterState.status.stamina.value+=30,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:3650},{name:"Palace",type:Fe.Palace,description:"A lavish palace. Automatically restores 35 stamina and a bit of health each night.",cost:1e10,costPerDay:150,landRequired:150,maxInventory:36,consequence:()=>{this.characterService.characterState.status.mana.value+=1,this.characterService.characterState.status.health.value+=10,this.characterService.characterState.status.stamina.value+=35,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:36500},{name:"Castle",type:Fe.Castle,description:"An imposing castle. Automatically restores 40 stamina and a bit of health each night.",cost:1e10,costPerDay:150,landRequired:150,maxInventory:40,consequence:()=>{this.characterService.characterState.status.mana.value+=2,this.characterService.characterState.status.health.value+=15,this.characterService.characterState.status.stamina.value+=40,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e3},{name:"Fortress",type:Fe.Fortress,description:"An indomitable fortress. Automatically restores 50 stamina and a bit of health each night.",cost:1e11,costPerDay:180,landRequired:180,maxInventory:50,consequence:()=>{this.characterService.characterState.status.mana.value+=3,this.characterService.characterState.status.health.value+=20,this.characterService.characterState.status.stamina.value+=50,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e4},{name:"Mountain",type:Fe.Mountain,description:"An entire mighty mountain. Automatically restores 100 stamina and a bit of health each night.",cost:1e12,costPerDay:500,landRequired:500,maxInventory:60,consequence:()=>{this.characterService.characterState.status.mana.value+=4,this.characterService.characterState.status.health.value+=30,this.characterService.characterState.status.stamina.value+=100,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e5},{name:"Forbidden City",type:Fe.ForbiddenCity,description:"A city of your very own. Automatically restores 200 stamina and a bit of health each night.",cost:1e13,costPerDay:1e3,landRequired:1e3,maxInventory:80,consequence:()=>{this.characterService.characterState.status.mana.value+=5,this.characterService.characterState.status.health.value+=50,this.characterService.characterState.status.stamina.value+=200,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e6},{name:"Capital",type:Fe.Capital,description:"The entire empire is yours now. Automatically restores 300 stamina and a bit of health each night.",cost:1e14,costPerDay:1e4,landRequired:1e4,maxInventory:100,consequence:()=>{this.characterService.characterState.status.mana.value+=10,this.characterService.characterState.status.health.value+=80,this.characterService.characterState.status.stamina.value+=300,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e7}],this.nextHomeCostReduction=0,this.nextHomeCost=0,this.land=0,this.landPrice=100,this.setCurrentHome(this.homesList[0]),void 0===this.home||void 0===this.homeValue||void 0===this.nextHome)throw Error("Home service not initialized correctly.");s.tickSubject.subscribe(()=>{if(!this.characterService.characterState.dead){this.upgrading&&this.upgradeTick(),this.nextHomeCost=this.nextHome.cost-this.nextHomeCostReduction,this.nextHomeCost<0&&(this.nextHomeCost=0),this.home.consequence();for(let c of this.furniturePositionsArray){let u=this.furniture[c];(null==u?void 0:u.use)&&(null==u||u.use())}this.ageFields(),this.home.costPerDay>this.characterService.characterState.money?(this.logService.addLogMessage("You can't afford the upkeep on your home. Some thugs rough you up over the debt. You better get some money, fast.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=20,this.characterService.characterState.money=0):this.characterService.characterState.money-=this.home.costPerDay,this.autoBuy()}}),a.reincarnateSubject.subscribe(()=>{this.reset(),this.grandfatherTent&&(this.logService.addLogMessage("Your grandfather gives you a bit of land and helps you set up a tent on  it.","STANDARD","EVENT"),this.characterService.characterState.money+=50,this.setCurrentHome(this.nextHome))})}getProperties(){return{homeValue:this.homeValue,furniture:this.furniture,land:this.land,landPrice:this.landPrice,fields:this.fields,averageYield:this.averageYield,autoBuyLandUnlocked:this.autoBuyLandUnlocked,autoBuyLandLimit:this.autoBuyLandLimit,autoBuyHomeUnlocked:this.autoBuyHomeUnlocked,autoBuyHomeLimit:this.autoBuyHomeLimit,autoBuyFurnitureUnlocked:this.autoBuyFurnitureUnlocked,autoBuyFurniture:this.autoBuyFurniture,autoFieldUnlocked:this.autoFieldUnlocked,autoFieldLimit:this.autoFieldLimit,nextHomeCostReduction:this.nextHomeCostReduction,houseBuildingProgress:this.houseBuildingProgress,upgrading:this.upgrading}}setProperties(e){this.land=e.land,this.landPrice=e.landPrice,this.fields=e.fields,this.averageYield=e.averageYield||0,this.setCurrentHome(this.homesList[e.homeValue]),this.autoBuyLandUnlocked=e.autoBuyLandUnlocked||!1,this.autoBuyLandLimit=e.autoBuyLandLimit||0,this.autoBuyHomeUnlocked=e.autoBuyHomeUnlocked||!1,this.autoBuyHomeLimit=e.autoBuyHomeLimit||3,this.autoBuyFurnitureUnlocked=e.autoBuyFurnitureUnlocked||!1,this.autoBuyFurniture=e.autoBuyFurniture||!1,this.autoFieldUnlocked=e.autoFieldUnlocked||!1,this.autoFieldLimit=e.autoFieldLimit||0,this.nextHomeCostReduction=e.nextHomeCostReduction||0,this.houseBuildingProgress=e.houseBuildingProgress||1,this.upgrading=e.upgrading||!1;for(let i of this.furniturePositionsArray){let r=e.furniture[i];r&&(this.furniture[i]=this.itemRepoService.getFurnitureById(r.id))}}getNextHome(){for(let e=0;e<this.homesList.length-1;e++)if(this.homeValue==this.homesList[e].type)return this.homesList[e+1];return this.homesList[this.homesList.length-1]}upgradeToNextHome(){this.houseBuildingProgress<1||this.characterService.characterState.money>=this.nextHomeCost&&this.land>=this.nextHome.landRequired&&(this.characterService.characterState.money-=this.nextHomeCost,this.land-=this.nextHome.landRequired,this.nextHomeCostReduction=0,this.houseBuildingProgress=0,this.upgrading=!0,this.logService.addLogMessage("You start upgrading your home to a "+this.nextHome.name,"STANDARD","EVENT"))}upgradeTick(){this.houseBuildingProgress+=1/this.nextHome.daysToBuild,this.houseBuildingProgress>=1&&(this.houseBuildingProgress=1,this.upgrading=!1,this.setCurrentHome(this.nextHome),this.logService.addLogMessage("You finished upgrading your home. You now live in a "+this.home.name,"STANDARD","EVENT"))}reset(){this.nextHomeCostReduction=0,this.setCurrentHome(this.homesList[0]),this.land=0,this.landPrice=100,this.fields=[],this.averageYield=0,this.furniture.bed=null,this.furniture.bathtub=null,this.furniture.kitchen=null,this.furniture.workbench=null,this.upgrading=!1,this.houseBuildingProgress=1}setCurrentHome(e){this.homeValue=e.type,this.home=this.getHomeFromValue(this.homeValue),this.nextHome=this.getNextHome(),this.nextHomeCost=this.nextHome.cost-this.nextHomeCostReduction,this.inventoryService.changeMaxItems(this.home.maxInventory)}getHomeFromValue(e){for(const i of this.homesList)if(i.type===e)return i;throw Error("Home was not found with the given value")}getCrop(){let e=0;this.characterService.characterState.attributes.woodLore.value>1&&(e=Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value))),e>=this.inventoryService.farmFoodList.length&&(e=this.inventoryService.farmFoodList.length-1);const i=this.inventoryService.farmFoodList[e];return{cropName:i.id,yield:1,maxYield:Math.floor(200/i.value),daysToHarvest:180+i.value,originalDaysToHarvest:180+i.value}}addField(){this.land>0&&(this.land--,this.fields.push(this.getCrop()))}clearField(){this.fields.length>0&&(this.fields.pop(),this.land++)}workFields(e){for(let i=0;i<this.fields.length&&i<300;i++){let r=this.fields[i];r.yield<r.maxYield&&(r.yield+=e)}}ageFields(){let e=this.fields.length-1;e>299&&(e=299);let i=0;for(let r=e;r>=0;r--)if(this.fields[r].daysToHarvest<=0){let o=this.fields[r].yield;this.fields.length>300&&(o=Math.floor(this.fields.length/300)),i+=o,this.inventoryService.addItems(this.itemRepoService.items[this.fields[r].cropName],o),this.fields[r]=this.getCrop()}else this.fields[r].daysToHarvest--;this.averageYield=(364*this.averageYield+i)/365}buyLand(){this.characterService.characterState.money>=this.landPrice&&(this.characterService.characterState.money-=this.landPrice,this.land++,this.landPrice+=10)}autoBuy(){var e;if(this.autoBuyHomeUnlocked&&this.homeValue<this.autoBuyHomeLimit)if(this.land>=this.nextHome.landRequired){if(!(this.nextHome.cost+3*this.nextHome.costPerDay+3<this.characterService.characterState.money))return;this.upgradeToNextHome()}else this.characterService.characterState.money>this.landPrice+3*this.nextHome.costPerDay+3&&this.buyLand();if(this.autoBuyLandUnlocked&&this.land+this.fields.length<this.autoBuyLandLimit&&this.characterService.characterState.money>this.landPrice+3*this.nextHome.costPerDay+3&&this.buyLand(),this.autoFieldUnlocked&&this.fields.length<this.autoFieldLimit&&(this.autoBuyHomeUnlocked?this.homeValue>=this.autoBuyHomeLimit&&this.addField():this.addField()),this.autoBuyFurnitureUnlocked)for(let i of this.furniturePositionsArray)if(this.home.furnitureSlots.includes(i)){let r=this.autoBuyFurniture[i];r&&(null===(e=this.furniture[i])||void 0===e?void 0:e.id)!==r.id&&r.value<this.characterService.characterState.money&&(this.characterService.characterState.money-=r.value,this.furniture[i]=this.itemRepoService.getFurnitureById(r.id))}}}return n.\u0275fac=function(e){return new(e||n)(y(Ue),y(K),y(on),y(yr),y(Cn),y(ji),y(Hn))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var eC=["Abbas","Abdel","Abdo","Abdoulaye","Abdul","Abdullah","Abdullahi","Abel","Abraham","Abubakar","Adam","Adama","Adamu","Adel","Adrian","Adriana","Agnes","Agus","Ahmad","Ahmed","Ahmet","Ai","Aicha","Aida","Aisha","Ajay","Alaa","Alain","Alan","Albert","Alberto","Alejandro","Aleksandr","Aleksandra","Aleksey","Alex","Alexander","Alexandra","Alexandre","Alexey","Alfred","Alfredo","Ali","Alice","Alicia","Alina","Aliyu","Alma","Amadou","Amal","Amanda","Amar","Amin","Amina","Aminata","Amir","Amit","Amy","An","Ana","Anastasia","Anastasiya","Andre","Andrea","Andreas","Andrei","Andres","Andrew","Andrey","Angel","Angela","Angelica","Angelina","Angelo","Anh","Anil","Anita","Ann","Anna","Anne","Annie","Anthony","Anton","Antonia","Antonio","Ant\xf3nio","Anwar","Arif","Arjun","Armando","Arthur","Artur","Arturo","Artyom","Arun","Asha","Ashok","Ashraf","Asma","Asmaa","Aung","Aya","Ayesha","Ay\u015fe","Aziz","Babu","Barbara","Basanti","Bashir","Beatrice","Beatriz","Bekele","Benjamin","Bernadette","Bernard","Betty","Bharat","Bibi","Bin","Blanca","Blessing","Brenda","Brian","Brigitte","Bruno","Ca","Carla","Carlos","Carmen","Carol","Carolina","Caroline","Catherine","Cecilia","Cesar","Chandra","Chantal","Chao","Charles","Charlotte","Chen","Cheng","Cheryl","Chi","Chris","Christian","Christina","Christine","Christophe","Christopher","Chun","Chunhua","Chunyan","Clara","Claude","Claudia","Claudio","Cong","Cristian","Cristina","Cynthia","Dan","Daniel","Daniela","Darya","David","Deborah","Deepak","Denis","Denise","Dennis","Di","Diana","Diane","Diego","Dilip","Dina","Dinesh","Dipak","Dmitriy","Dmitry","Dolores","Dominique","Donald","Dongmei","Donna","Dora","Doris","Dorothy","Douglas","Dung","Durga","Edgar","Edith","Eduardo","Edward","Edwin","Ei","Ekaterina","Elaine","Elena","Elias","Elisabeth","Elizabeth","Ellen","Elsa","Elvira","Eman","Emily","Emine","Emma","Emmanuel","Enrique","Eric","Erika","Ernest","Ernesto","Ester","Esther","Eunice","Eva","Evelyn","Evgeniy","Fabio","Faisal","Faith","Farida","Farzana","Fatemeh","Fatima","Fatma","Fatoumata","Felipe","Felix","Fernando","Florence","Francesco","Francis","Francisca","Francisco","Francois","Frank","Fred","Gabriel","Gabriela","Galina","Ganesh","Gang","Ganga","Gary","George","Gerald","Gerardo","Gerhard","Ghulam","Gilbert","Gilberto","Giovanni","Gita","Giuseppe","Gladys","Gloria","Gopal","Grace","Gregory","Guadalupe","Guillermo","Gul","Guohua","Guoliang","Guoqiang","Gustavo","Guy","Ha","Habib","Habiba","Hai","Haibo","Haitao","Haiyan","Haiying","Haji","Halima","Halyna","Hamid","Hamza","Han","Hana","Hanan","Hang","Hans","Hari","Hasan","Hassan","Hatice","Hawa","Heather","Heba","Hector","Heinz","Helen","Helena","Helga","Henry","Herbert","Hieu","Hilda","Hiroshi","Hoa","Hoang","Hong","Hongmei","Hongwei","Hongyan","Hossein","Huan","Hugo","Hui","Huimin","Hung","Huong","Hussein","Huy","Ian","Ibrahim","Ida","Igor","Ilya","Iman","Imran","Ingrid","Irene","Irina","Irma","Isa","Isaac","Isabel","Isabelle","Ismail","Issa","Ivan","Jack","Jacob","Jacqueline","Jacques","Jaime","Jamal","James","Jamila","Jan","Jane","Janet","Jason","Javier","Jay","Jean","Jeanne","Jeff","Jeffrey","Jennifer","Jenny","Jerry","Jessica","Jesus","Jianfeng","Jianguo","Jianhua","Jianhui","Jianjun","Jianmin","Jianming","Jianping","Jianwei","Jianxin","Jianzhong","Jim","Jimmy","Jin","Jingjing","Jinhua","Jitendra","Joan","Joanna","Joao","Joaquim","Joe","Joel","John","Jonathan","Jorge","Jose","Jos\xe9","Josef","Josefa","Josefina","Joseph","Josephine","Joshua","Joy","Joyce","Juan","Juana","Judith","Judy","Julia","Juliana","Julie","Julio","Julius","Junjie","Justin","Jyoti","Ka","Kai","Kailash","Kalpana","Kamal","Kamala","Kamla","Karen","Karim","Karin","Karina","Karl","Kassa","Katarzyna","Kathleen","Kathy","Katsumi","Kavita","Keith","Kelly","Ken","Kenji","Kenneth","Kevin","Khadija","Khaled","Khalid","Kim","Kimberly","Kiran","Kirill","Klaus","Konstantin","Krishna","Kristina","Krzysztof","Kseniya","Kun","Kyaw","Laila","Lakshmi","Laksmi","Lal","Lalita","Lan","Laoshi","Larry","Laura","Lawrence","Laxmi","Le","Lee","Lei","Leila","Leonard","Leonardo","Leticia","Li","Lidia","Lihong","Lihua","Lijuan","Lijun","Lila","Lilian","Liliana","Liming","Lin","Lina","Linda","Ling","Lingling","Linh","Liping","Lisa","Lixin","Liying","Long","Lorena","Louis","Louise","Lucas","Lucia","Luciano","Lucy","Luis","Luisa","Luiz","Luz","Lwin","Lydia","Lyubov","Lyudmila","Lyudmyla","Ma","Madina","Magdalena","Maha","Mahdi","Mahendra","Mahesh","Mahmoud","Mai","Maksim","Mamadou","Mamta","Man","Manfred","Manju","Manoel","Manoj","Manuel","Manuela","Marc","Marcel","Marcelo","Marcia","Marcin","Marco","Marcos","Margaret","Margarita","Maria","M\xe1ria","Mariam","Mariama","Mariana","Marianne","Marie","Marilyn","Marina","Mario","Mariya","Mark","Marlene","Marta","Martha","Martin","Martina","Martine","Marwa","Mary","Maryam","Maryia","Masako","Masmaat","Masoumeh","Matthew","Maurice","Maya","Mehmet","Mei","Melanie","Melissa","Meng","Mercedes","Mercy","Mi","Michael","Michel","Michele","Michelle","Miguel","Mike","Mikhail","Min","Mina","Ming","Minh","Mira","Miriam","Mo","Mohamad","Mohamed","Mohammad","Mohammed","Mohan","Mohsen","Mona","Monica","Monika","Monique","Moses","Mostafa","Moussa","Muhamad","Muhammad","Muhammed","Mukesh","Munni","Musa","Mustafa","Mustapha","Myat","Na","Nabil","Nada","Nadezhda","Nadia","Nam","Nan","Nana","Nancy","Narayan","Naresh","Naseem","Nasir","Nasreen","Nasrin","Natalia","Natalya","Nathalie","Nelson","Nestor","Nga","Ngoc","Nguyen","Ni","Nicholas","Nicolas","Nicole","Nikita","Nikolay","Nina","Ning","Nirmala","Noel","Noor","Nora","Norma","Nour","Nur","Nurul","Nushi","Nusrat","Nykolai","Oksana","Oleg","Olga","Olha","Olivier","Om","Omar","Orlando","Oscar","Osman","Pa","Pablo","Pamela","Pankaj","Paola","Parvati","Pascal","Patricia","Patrick","Paul","Paula","Paulina","Pauline","Paulo","Pavel","Pedro","Pei","Peng","Peter","Petr","Petra","Philip","Philippe","Phuong","Phyo","Pierre","Ping","Piotr","Pradip","Prakash","Pramila","Pramod","Prem","Priyanka","Punam","Pushpa","Qiang","Qing","Qinghua","Qiong","Quan","Qun","Rabia","Rachel","Radha","Rafael","Rahul","Raimundo","Raj","Raja","Rajendra","Rajesh","Raju","Rakesh","Ram","Rama","Ramesh","Ramon","Ran","Rana","Rani","Ranjit","Raquel","Rashid","Raul","Ravi","Ravindra","Raymond","Rebecca","Regina","Rekha","Rene","Renu","Reza","Ricardo","Richard","Rina","Rita","Robert","Roberto","Robin","Rodolfo","Rodrigo","Roger","Roland","Roman","Ronald","Rong","Rosa","Rosario","Rose","Rosemary","Roy","Ruben","Ruslan","Rustam","Ruth","Ryan","Sabina","Sabine","Sabrina","Sachiko","Sadia","Saeed","Sai","Said","Sakina","Salah","Saleh","Salim","Salma","Salvador","Sam","Samia","Samina","Samir","Samira","Samuel","Sandeep","Sandra","Sangeeta","Sangita","Sani","Sanjay","Santos","Santosh","Sara","Sarah","Saraswati","Sarita","Saroj","Satish","Savita","Savitri","Sayed","Scott","Sebastian","Sergey","Sergio","Serhei","Seyyed","Shah","Shahid","Shakuntala","Shan","Shankar","Shanshan","Shanti","Sharmin","Sharon","Sheikh","Sheila","Shigeru","Shila","Shirley","Shiv","Shobha","Shu","Shuang","Shyam","Silvia","Sima","Simon","Simone","Sita","Siti","Smt","Sofia","Solomon","Son","Song","Sonia","Sophie","Sri","Stefan","Stella","Stephanie","Stephen","Steven","Subhash","Sultan","Suman","Sumitra","Sunday","Sunil","Sunita","Surendra","Suresh","Susan","Susana","Sushila","Svetlana","Syed","Sylvia","Sylvie","Ta","Tadesse","Tamara","Tania","Tara","Tatiana","Tatyana","Teresa","Terry","Than","Thanh","Thao","Theresa","Therese","Thierry","Thomas","Thu","Thuy","Tian","Tien","Tim","Timothy","Tina","Tingting","Tomas","Tomasz","Tong","Tony","Trang","Tu","Tuan","Tun","Uma","Umar","Umesh","Urmila","Ursula","Usha","Usman","Valentina","Valentyna","Valerie","Van","Vanessa","Vasylyi","Vera","Veronica","Vicente","Victor","Victoria","Vijay","Viktor","Viktoriya","Vincent","Vinod","Virginia","Vladimir","Vladymyr","Wai","Walter","Wei","Weidong","Weihua","Weimin","Weiming","Weiping","Weiwei","Wendy","Wenjie","Wenjing","Wenjun","Werner","William","Wilson","Wolfgang","Xian","Xiang","Xiaodong","Xiaofeng","Xiaohong","Xiaohua","Xiaohui","Xiaojun","Xiaoli","Xiaolin","Xiaoling","Xiaomei","Xiaomin","Xiaoming","Xiaoping","Xiaoqing","Xiaowei","Xiaoxia","Xiaoyan","Xiaoying","Xiaoyu","Xin","Xing","Xuan","Xuemei","Yan","Yanhong","Yanhua","Yanling","Yanping","Yanyan","Yasmin","Yen","Yin","Ying","Yingying","Yoko","Yolanda","Yong","Yousef","Yu","Yuanyuan","Yue","Yuhua","Yuliya","Yumei","Yun","Yuping","Yuriy","Yusuf","Yvan","Yvonne","Zahra","Zainab","Zaw","Zhen","Zhenhua","Zhi","Zhigang","Zhihong","Zhihua","Zhihui","Zhijian","Zhijun","Zhiming","Zhiping","Zhiqiang","Zhiwei","Zhiyong","Zin"];let cc=(()=>{class n{constructor(e,i,r,o,s,a,l){this.logService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=s,this.followersUnlocked=!1,this.followers=[],this.jobs={builder:{work:c=>{this.homeService.nextHomeCostReduction+=c.power;for(let u=0;u<c.power;u++)this.homeService.upgrading&&this.homeService.upgradeTick()},description:"Builders reduce the cost of the next home you upgrade to. They can also help you build it faster."},hunter:{work:c=>{for(let u=0;u<c.power;u++)this.inventoryService.addItem(this.itemRepoService.items.meat),this.inventoryService.addItem(this.itemRepoService.items.hide)},description:"Hunters collect meat and hides for you."},farmer:{work:c=>{this.homeService.workFields(c.power)},description:"Farmers work your fields, helping your crops to grow."},weaponsmith:{work:c=>{this.characterService.characterState.equipment.rightHand&&this.characterService.characterState.equipment.rightHand.weaponStats&&(this.characterService.characterState.equipment.rightHand.weaponStats.durability+=c.power),this.characterService.characterState.equipment.leftHand&&this.characterService.characterState.equipment.leftHand.weaponStats&&(this.characterService.characterState.equipment.leftHand.weaponStats.durability+=c.power)},description:"Weaponsmiths help you take care of your currently equipped weapons, adding durability to them each day."},armorer:{work:c=>{this.characterService.characterState.equipment.head&&this.characterService.characterState.equipment.head.armorStats&&(this.characterService.characterState.equipment.head.armorStats.durability+=c.power),this.characterService.characterState.equipment.body&&this.characterService.characterState.equipment.body.armorStats&&(this.characterService.characterState.equipment.body.armorStats.durability+=c.power),this.characterService.characterState.equipment.legs&&this.characterService.characterState.equipment.legs.armorStats&&(this.characterService.characterState.equipment.legs.armorStats.durability+=c.power),this.characterService.characterState.equipment.feet&&this.characterService.characterState.equipment.feet.armorStats&&(this.characterService.characterState.equipment.feet.armorStats.durability+=c.power)},description:"Armorers help you take care of your currently equipped pieces of armor, adding durability to them each day."},brawler:{work:c=>{this.characterService.characterState.increaseAttribute("strength",c.power)},description:"Brawlers will spar with you in wrestling and boxing matches, increasing your strength."},sprinter:{work:c=>{this.characterService.characterState.increaseAttribute("speed",c.power)},description:"Sprinters challenge you to footraces and help you increase your speed."},trainer:{work:c=>{this.characterService.characterState.increaseAttribute("toughness",c.power)},description:"Trainers make sure you follow their strict fitness and diet rules, increasing your toughness."},tutor:{work:c=>{this.characterService.characterState.increaseAttribute("intelligence",c.power)},description:"Tutors teach you all about the wonders of the universe, increasing your intelligence."},mediator:{work:c=>{this.characterService.characterState.increaseAttribute("charisma",c.power)},description:"Mediators teach you how to persuade others, increasing your charisma."},priest:{work:c=>{this.characterService.characterState.increaseAttribute("spirituality",c.power)},description:"Priests help you get closer to the divine, increasing your sprituality."}},a.tickSubject.subscribe(()=>{if(this.followersUnlocked&&!this.characterService.characterState.dead){this.characterService.characterState.age%18250==0&&this.generateFollower();for(let c=this.followers.length-1;c>=0;c--)this.followerWorks(this.followers[c]),this.followers[c].age++,this.followers[c].age>=this.followers[c].lifespan?this.followers.splice(c,1):this.characterService.characterState.money-=this.followers[c].cost}}),l.reincarnateSubject.subscribe(()=>{this.reset()})}followerWorks(e){this.jobs[e.job].work(e)}reset(){this.followers.splice(0,this.followers.length)}getProperties(){return{followersUnlocked:this.followersUnlocked,followers:this.followers}}setProperties(e){this.followers=e.followers||[],this.followersUnlocked=e.followersUnlocked||!1}generateFollower(){let e=1+this.homeService.homeValue+this.characterService.meridianRank()+this.characterService.soulCoreRank()+this.characterService.characterState.bloodlineRank;this.followers.length>=e?this.logService.addLogMessage("A new follower shows up, but you already have too many. You are forced to turn them away.","INJURY","EVENT"):(this.logService.addLogMessage("A new follower has come to learn at your feet.","STANDARD","EVENT"),this.followers.push({name:this.generateFollowerName(),age:0,lifespan:this.characterService.characterState.lifespan/10,job:this.generateFollowerJob(),power:1,cost:100}))}generateFollowerName(){return eC[Math.floor(Math.random()*eC.length)]}generateFollowerJob(){const e=Object.keys(this.jobs);return e[Math.floor(Math.random()*e.length)]}dismissFollower(e){let i=this.followers.indexOf(e);this.followers.splice(i,1)}}return n.\u0275fac=function(e){return new(e||n)(y(on),y(Ue),y(dt),y(K),y(Hn),y(Cn),y(ji))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ri=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h){this.characterService=e,this.inventoryService=i,this.homeService=r,this.mainLoopService=s,this.itemRepoService=a,this.battleService=l,this.logService=c,this.followerService=u,this.impossibleTaskService=h,this.activityLoop=[],this.spiritActivity=null,this.autoRestart=!1,this.pauseOnDeath=!0,this.activities=this.getActivityList(),this.openApprenticeships=1,this.oddJobDays=0,this.beggingDays=0,this.completedApprenticeships=[],o.reincarnateSubject.subscribe(()=>{this.reset()}),s.tickSubject.subscribe(()=>{}),s.longTickSubject.subscribe(()=>{this.upgradeActivities(),this.checkRequirements()})}getProperties(){let e=[];for(const i of this.activities)i.unlocked&&e.push(i.activityType);return{autoRestart:this.autoRestart,pauseOnDeath:this.pauseOnDeath,activityLoop:this.activityLoop,unlockedActivities:e,openApprenticeships:this.openApprenticeships,spiritActivity:this.spiritActivity,completedApprenticeships:this.completedApprenticeships}}setProperties(e){this.completedApprenticeships=e.completedApprenticeships||[];let i=e.unlockedActivities||[oe.OddJobs,oe.Resting];for(const r of this.activities)r.unlocked=i.includes(r.activityType);this.autoRestart=e.autoRestart,this.pauseOnDeath=e.pauseOnDeath,this.activityLoop=e.activityLoop,this.spiritActivity=e.spiritActivity||null,this.openApprenticeships=e.openApprenticeships||0}meetsRequirements(e){return!!this.meetsRequirementsByLevel(e,e.level,!0)&&(e.unlocked=!0,!0)}meetsRequirementsByLevel(e,i,r){if(r&&!e.unlocked&&this.openApprenticeships<=0&&(i<e.skipApprenticeshipLevel||e.skipApprenticeshipLevel>0&&!this.completedApprenticeships.includes(e.activityType)))return!1;const o=Object.keys(e.requirements[i]);for(const s in o){const a=o[s];let l=0;if(null!=e.requirements[i][a]&&(l=e.requirements[i][a]),this.characterService.characterState.attributes[a].value<=l)return!1}return!0}checkRequirements(){for(let e of this.activities)!e.unlocked&&this.meetsRequirements(e)&&(e.unlocked=!0);for(let e=this.activityLoop.length-1;e>=0;e--)this.getActivityByType(this.activityLoop[e].activity).unlocked||this.activityLoop.splice(e,1)}upgradeActivities(){for(const e of this.activities)e.level<e.description.length-1&&this.meetsRequirementsByLevel(e,e.level+1,!1)&&(e.level++,e.unlocked&&e.skipApprenticeshipLevel==e.level&&(this.completedApprenticeships.includes(e.activityType)||this.completedApprenticeships.push(e.activityType)))}reset(){this.openApprenticeships=1,this.oddJobDays=0,this.beggingDays=0;for(const e of this.activities)e.level=0,e.unlocked=!1;for(let e=0;e<5;e++)this.upgradeActivities();this.activities[0].unlocked=!0,this.activities[1].unlocked=!0,this.autoRestart?(this.checkRequirements(),this.pauseOnDeath&&(this.mainLoopService.pause=!0)):this.activityLoop=[]}getActivityByType(e){for(const i of this.activities)if(i.activityType===e)return i;throw Error("Could not find activity from type")}checkApprenticeship(e){if(0!=this.openApprenticeships){this.openApprenticeships--;for(const i of this.activities)if(i.activityType!==e&&i.level<i.skipApprenticeshipLevel){i.unlocked=!1;for(let r=this.activityLoop.length-1;r>=0;r--)this.activityLoop[r].activity==i.activityType&&this.activityLoop.splice(r,1)}}}reloadActivities(){this.activityLoop=[],this.spiritActivity=null,this.activities=this.getActivityList()}getActivityList(){return this.impossibleTaskService.activeTaskIndex==gt.Swim?[{level:0,name:["Swim Deeper"],activityType:oe.Swim,description:["Swim down further into the depths."],consequenceDescription:["Reduce Stamina by 20. Reduce health by 100."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.status.health.value-=100,this.impossibleTaskService.tasks[gt.Swim].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.tasks[gt.Swim].complete&&this.logService.addLogMessage("You have acheived the impossible and dived all the way to the bottom of the ocean.","STANDARD","STORY")}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0}]:this.impossibleTaskService.activeTaskIndex==gt.RaiseIsland?[{level:0,name:["Forge Unbreakable Chain"],activityType:oe.ForgeChains,description:["Forge a chain strong enough to pull the island from the depths."],consequenceDescription:["Reduce Stamina by 100. If you have the right facilities and materials you might be able to create an unbreakable chain."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let e=this.inventoryService.consume("metal");this.homeService.furniture.workbench&&"anvil"==this.homeService.furniture.workbench.id&&e>=150?Math.random()>.01&&(this.logService.addLogMessage("Your anvil rings with power, a new chain is forged!","STANDARD","EVENT"),this.inventoryService.addItem(this.itemRepoService.items.unbreakableChain)):(this.logService.addLogMessage("You fumble with the wrong tools and materials and hurt yourself.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max)}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},{level:0,name:["Attach Chains to the Island"],activityType:oe.AttachChains,description:["Swim deep and attach one of your chains to the island."],consequenceDescription:["Reduce Stamina by 1000. Requires an unbreakable chain."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3,this.inventoryService.consume("chain")>0?(this.logService.addLogMessage("You attach a chain to the island. and give your chains a tug.","STANDARD","EVENT"),this.impossibleTaskService.tasks[gt.RaiseIsland].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.tasks[gt.RaiseIsland].complete&&this.logService.addLogMessage("With a mighty pull, the island comes loose. You haul it to the surface.","STANDARD","STORY")):(this.logService.addLogMessage("You fumble around in the depths without a chain until a shark comes by and takes a bite.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max)}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0}]:[{level:0,name:["Odd Jobs"],activityType:oe.OddJobs,description:["Run errands, pull weeds, clean toilet pits, or do whatever else you can to earn a coin. Undignified work for a future immortal, but you have to eat to live."],consequenceDescription:["Uses 5 stamina. Increases a random attribute and provides a little money."],consequence:[()=>{const i=Object.keys(this.characterService.characterState.attributes)[Math.floor(5*Math.random())];this.characterService.characterState.increaseAttribute(i,.1),this.characterService.characterState.status.stamina.value-=5,this.characterService.characterState.money+=3,this.oddJobDays++}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},{level:0,name:["Resting","Meditation","Communing With Divinity"],activityType:oe.Resting,description:["Take a break and get some sleep. Good sleeping habits are essential for cultivating immortal attributes.","Enter a meditative state and begin your journey toward spritual enlightenment.","Extend your senses beyond the mortal realm and connect to deeper realities."],consequenceDescription:["Restores half your stamina and a little health.","Restores all your stamina and some health.","Restores all your stamina, health, and mana."],consequence:[()=>{this.characterService.characterState.status.stamina.value+=this.characterService.characterState.status.stamina.max/2,this.characterService.characterState.status.health.value+=2,this.characterService.characterState.checkOverage()},()=>{this.characterService.characterState.status.stamina.value=this.characterService.characterState.status.stamina.max,this.characterService.characterState.status.health.value+=10,Math.random()<.01&&this.characterService.characterState.increaseAttribute("spirituality",.1),this.characterService.characterState.manaUnlocked&&(this.characterService.characterState.status.mana.value+=1),this.characterService.characterState.checkOverage()},()=>{this.characterService.characterState.status.stamina.value=this.characterService.characterState.status.stamina.max,this.characterService.characterState.status.health.value=this.characterService.characterState.status.health.max,this.characterService.characterState.status.mana.value=this.characterService.characterState.status.mana.max,this.characterService.characterState.increaseAttribute("spirituality",.1),this.characterService.characterState.checkOverage()}],requirements:[{},{strength:1e3,speed:1e3,charisma:1e3,intelligence:1e3,toughness:1e3},{strength:1e6,speed:1e6,charisma:1e6,intelligence:1e6,toughness:1e6,spirituality:1e5,fireLore:1e4,waterLore:1e4,earthLore:1e4,metalLore:1e4,woodLore:1e4}],unlocked:!0,skipApprenticeshipLevel:0},{level:0,name:["Begging","Street Performing","Oration","Politics"],activityType:oe.Begging,description:["Find a nice spot on the side of the street, look sad, and put your hand out. Someone might put a coin in it if you are charasmatic enough.","Add some musical flair to your begging.","Move the crowds with your stirring speeches.","Charm your way into civic leadership."],consequenceDescription:["Uses 5 stamina. Increases charisma and provides a little money.","Uses 5 stamina. Increases charisma and provides some money.","Uses 5 stamina. Increases charisma and provides money.","Uses 5 stamina. Increases charisma, provides money, and makes you wonder what any of this means for your immortal progression."],consequence:[()=>{this.characterService.characterState.increaseAttribute("charisma",.1),this.characterService.characterState.status.stamina.value-=5,this.characterService.characterState.money+=3+Math.log2(this.characterService.characterState.attributes.charisma.value),this.beggingDays++},()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.stamina.value-=5,this.characterService.characterState.money+=10+Math.log2(this.characterService.characterState.attributes.charisma.value),this.beggingDays++},()=>{this.characterService.characterState.increaseAttribute("charisma",.3),this.characterService.characterState.status.stamina.value-=5,this.characterService.characterState.money+=20+Math.log2(2*this.characterService.characterState.attributes.charisma.value),this.beggingDays++},()=>{this.characterService.characterState.increaseAttribute("charisma",.5),this.characterService.characterState.status.stamina.value-=5,this.characterService.characterState.money+=30+Math.log2(10*this.characterService.characterState.attributes.charisma.value),this.beggingDays++}],requirements:[{charisma:3},{charisma:100},{charisma:5e3},{charisma:1e4}],unlocked:!1,skipApprenticeshipLevel:0},{level:0,name:["Apprentice Blacksmithing","Journeyman Blacksmithing","Blacksmithing","Master Blacksmithing"],activityType:oe.Blacksmithing,description:["Work for the local blacksmith. You mostly pump the bellows, but at least you're learning a trade.","Mold metal into useful things. You might even produce something you want to keep now and then.","Create useful and beautiful metal objects. You might produce a decent weapon occasionally.","Work the forges like a true master."],consequenceDescription:["Uses 25 stamina. Increases strength and toughness and provides a little money.","Uses 25 stamina. Increases strength, toughness, and money.","Uses 25 stamina. Build your physical power, master your craft, and create weapons.","Uses 50 stamina. Bring down your mighty hammer and create works of metal wonder."],consequence:[()=>{this.checkApprenticeship(oe.Blacksmithing),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.status.stamina.value-=25,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.metalLore.value;let e=.01;this.homeService.furniture.workbench&&"anvil"==this.homeService.furniture.workbench.id&&(e+=.05),Math.random()<e&&(this.inventoryService.addItem(this.itemRepoService.items.junk),this.characterService.characterState.increaseAttribute("metalLore",.1))},()=>{this.checkApprenticeship(oe.Blacksmithing),this.characterService.characterState.increaseAttribute("strength",.2),this.characterService.characterState.increaseAttribute("toughness",.2),this.characterService.characterState.status.stamina.value-=25,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+2*this.characterService.characterState.attributes.metalLore.value;let e=.02;if(this.homeService.furniture.workbench&&"anvil"==this.homeService.furniture.workbench.id&&(e+=.05),Math.random()<e&&(this.characterService.characterState.increaseAttribute("metalLore",.2),this.inventoryService.openInventorySlots()>0)){let i=this.inventoryService.consume("metal");i>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(i/10+Math.floor(Math.log2(this.characterService.characterState.attributes.metalLore.value)),"metal"))}},()=>{this.characterService.characterState.increaseAttribute("strength",.5),this.characterService.characterState.increaseAttribute("toughness",.5),this.characterService.characterState.status.stamina.value-=25,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.fireLore.value+5*this.characterService.characterState.attributes.metalLore.value;let e=.05;if(this.homeService.furniture.workbench&&"anvil"==this.homeService.furniture.workbench.id&&(e+=.05),Math.random()<e&&(this.characterService.characterState.increaseAttribute("metalLore",.3),this.inventoryService.openInventorySlots()>0)){let i=this.inventoryService.consume("metal");i>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(i/10+Math.floor(Math.log2(this.characterService.characterState.attributes.metalLore.value)),"metal"))}},()=>{this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.status.stamina.value-=50,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.fireLore.value+10*this.characterService.characterState.attributes.metalLore.value;let e=.2;if(this.homeService.furniture.workbench&&"anvil"==this.homeService.furniture.workbench.id&&(e+=.2),Math.random()<e&&(this.characterService.characterState.increaseAttribute("metalLore",.5),this.inventoryService.openInventorySlots()>0)){let i=this.inventoryService.consume("metal");i>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(i/5+Math.floor(Math.log2(this.characterService.characterState.attributes.metalLore.value)),"metal"))}}],requirements:[{strength:50,toughness:50},{strength:400,toughness:400,metalLore:1},{strength:2e3,toughness:2e3,metalLore:10},{strength:1e4,toughness:1e4,metalLore:100,fireLore:10}],unlocked:!1,skipApprenticeshipLevel:2},{level:0,name:["Gathering Herbs"],activityType:oe.GatherHerbs,description:["Search the natural world for useful herbs."],consequenceDescription:["Uses 10 stamina. Find herbs and learn about plants"],consequence:[()=>{this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.status.stamina.value-=10,this.inventoryService.generateHerb(),this.homeService.furniture.workbench&&"herbGarden"==this.homeService.furniture.workbench.id&&this.inventoryService.generateHerb(),Math.random()<.01&&this.characterService.characterState.increaseAttribute("woodLore",.1)}],requirements:[{speed:20,intelligence:20}],unlocked:!1,skipApprenticeshipLevel:0},{level:0,name:["Apprentice Alchemy","Journeyman Alchemy","Alchemy","Master Alchemy"],activityType:oe.Alchemy,description:["Get a job at the alchemist's workshop. It smells awful but you might learn a few things.","Get a cauldron and do a little brewing of your own.","Open up your own alchemy shop.","Brew power, precipitate life, stir in some magic, and create consumable miracles."],consequenceDescription:["Uses 10 stamina. Get smarter, make a few taels, and learn the secrets of alchemy.","Uses 10 stamina. Get smarter, make money, practice your craft. If you have some herbs, you might make a usable potion or pill.","Uses 10 stamina. Get smarter, make money, and make some decent potions or pills.","Uses 20 stamina. Create amazing potions and pills."],consequence:[()=>{this.checkApprenticeship(oe.Alchemy),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.status.stamina.value-=10,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.waterLore.value;let e=.01;this.homeService.furniture.workbench&&"cauldron"==this.homeService.furniture.workbench.id&&(e+=.05),Math.random()<e&&(this.characterService.characterState.increaseAttribute("woodLore",.05),this.characterService.characterState.increaseAttribute("waterLore",.1))},()=>{this.checkApprenticeship(oe.Alchemy),this.characterService.characterState.increaseAttribute("intelligence",.2),this.characterService.characterState.status.stamina.value-=10,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.intelligence.value)+2*this.characterService.characterState.attributes.waterLore.value;let e=.02;if(this.homeService.furniture.workbench&&"cauldron"==this.homeService.furniture.workbench.id&&(e+=.05),Math.random()<e&&(this.characterService.characterState.increaseAttribute("woodLore",.1),this.characterService.characterState.increaseAttribute("waterLore",.2),this.inventoryService.openInventorySlots()>0)){let i=this.inventoryService.consume("ingredient");i>=1&&(i+=Math.floor(Math.log2(this.characterService.characterState.attributes.waterLore.value)),this.inventoryService.generatePotion(i,!1))}},()=>{this.characterService.characterState.increaseAttribute("intelligence",.5),this.characterService.characterState.status.stamina.value-=10,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.intelligence.value)+5*this.characterService.characterState.attributes.waterLore.value;let e=1-Math.exp(0-.025*Math.log(this.characterService.characterState.attributes.waterLore.value));if(this.homeService.furniture.workbench&&"cauldron"==this.homeService.furniture.workbench.id&&(e+=.05),Math.random()<e&&(this.characterService.characterState.increaseAttribute("woodLore",.2),this.characterService.characterState.increaseAttribute("waterLore",.3),this.inventoryService.openInventorySlots()>0)){let i=this.inventoryService.consume("ingredient");i>=1&&(i+=Math.floor(Math.log2(this.characterService.characterState.attributes.waterLore.value)),this.inventoryService.generatePotion(i+1,!1))}},()=>{if(this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.intelligence.value)+10*this.characterService.characterState.attributes.waterLore.value,this.characterService.characterState.increaseAttribute("woodLore",.3),this.characterService.characterState.increaseAttribute("waterLore",.6),this.inventoryService.openInventorySlots()>0){let e=this.inventoryService.consume("ingredient");e>=1&&(e+=Math.floor(Math.log2(this.characterService.characterState.attributes.waterLore.value)),this.inventoryService.generatePotion(e+1,!0))}}],requirements:[{intelligence:200},{intelligence:1e3,waterLore:10,woodLore:1},{intelligence:8e3,waterLore:100,woodLore:10},{intelligence:1e5,waterLore:1e3,woodLore:100}],unlocked:!1,skipApprenticeshipLevel:2},{level:0,name:["Chopping Wood"],activityType:oe.ChopWood,description:["Work as a woodcutter, cutting logs in the forest."],consequenceDescription:["Uses 10 stamina. Get a log and learn about plants."],consequence:[()=>{this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.status.stamina.value-=10,this.inventoryService.addItem(this.inventoryService.getWood()),Math.random()<.01&&this.characterService.characterState.increaseAttribute("woodLore",.1)}],requirements:[{strength:100}],unlocked:!1,skipApprenticeshipLevel:0},{level:0,name:["Apprentice Woodworking","Journeyman Woodworking","Woodworking"],activityType:oe.Woodworking,description:["Work in a woodcarver's shop.","Carve wood into useful items.","Open your own woodworking shop."],consequenceDescription:["Uses 20 stamina. Increases strength and intelligence and provides a little money.","Uses 20 stamina. Increases strength and intelligence and provides a little money. You may make something you want to keep now and then.","Uses 20 stamina. Increases strength and intelligence, earn some money, create wooden equipment."],consequence:[()=>{this.checkApprenticeship(oe.Woodworking),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.woodLore.value,Math.random()<.01&&this.characterService.characterState.increaseAttribute("woodLore",.1)},()=>{if(this.checkApprenticeship(oe.Woodworking),this.characterService.characterState.increaseAttribute("strength",.2),this.characterService.characterState.increaseAttribute("intelligence",.2),this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+2*this.characterService.characterState.attributes.woodLore.value,Math.random()<.01&&(this.characterService.characterState.increaseAttribute("woodLore",.2),this.inventoryService.openInventorySlots()>0)){let e=this.inventoryService.consume("wood");e>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(e+Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value)),"wood"))}},()=>{if(this.characterService.characterState.increaseAttribute("strength",.5),this.characterService.characterState.increaseAttribute("intelligence",.5),this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+5*this.characterService.characterState.attributes.woodLore.value,Math.random()<.01&&(this.characterService.characterState.increaseAttribute("woodLore",.3),this.inventoryService.openInventorySlots()>0)){let e=this.inventoryService.consume("wood");e>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(e+Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value)),"wood"))}}],requirements:[{strength:100,intelligence:100},{strength:800,intelligence:800,woodLore:1},{strength:2e3,intelligence:2e3,woodLore:10}],unlocked:!1,skipApprenticeshipLevel:2},{level:0,name:["Apprentice Leatherworking","Journeyman Leatherworking","Leatherworking"],activityType:oe.Leatherworking,description:["Work in a tannery, where hides are turned into leather items.","Convert hides into leather items.","Open your own tannery."],consequenceDescription:["Uses 20 stamina. Increases speed and toughness and provides a little money.","Uses 20 stamina. Increases speed and toughness and provides a little money. You may make something you want to keep now and then.","Uses 20 stamina. Increases speed and toughness, earn some money, create leather equipment."],consequence:[()=>{this.checkApprenticeship(oe.Leatherworking),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.animalHandling.value,Math.random()<.01&&this.characterService.characterState.increaseAttribute("animalHandling",.1)},()=>{if(this.checkApprenticeship(oe.Leatherworking),this.characterService.characterState.increaseAttribute("speed",.2),this.characterService.characterState.increaseAttribute("toughness",.2),this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+2*this.characterService.characterState.attributes.animalHandling.value,Math.random()<.01&&(this.characterService.characterState.increaseAttribute("animalHandling",.2),this.inventoryService.openInventorySlots()>0)){let e=this.inventoryService.consume("hide");e>=1&&this.inventoryService.addItem(this.inventoryService.generateArmor(e+Math.floor(Math.log2(this.characterService.characterState.attributes.animalHandling.value)),"leather",this.inventoryService.randomArmorSlot()))}},()=>{if(this.characterService.characterState.increaseAttribute("speed",.5),this.characterService.characterState.increaseAttribute("toughness",.5),this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.money+=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+5*this.characterService.characterState.attributes.animalHandling.value,Math.random()<.01&&(this.characterService.characterState.increaseAttribute("animalHandling",.3),this.inventoryService.openInventorySlots()>0)){let e=this.inventoryService.consume("hide");e>=1&&this.inventoryService.addItem(this.inventoryService.generateArmor(e+Math.floor(Math.log2(this.characterService.characterState.attributes.animalHandling.value)),"leather",this.inventoryService.randomArmorSlot()))}}],requirements:[{speed:100,toughness:100},{speed:800,toughness:800,animalHandling:1},{speed:2e3,toughness:2e3,animalHandling:10}],unlocked:!1,skipApprenticeshipLevel:2},{level:0,name:["Farming"],activityType:oe.Farming,description:["Plant crops in your fields. This is a waste of time if you don't have some fields ready to work."],consequenceDescription:["Uses 20 stamina. Increases strength and speed and helps your fields to produce more food."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20;let e=Math.floor(Math.log10(this.characterService.characterState.attributes.woodLore.value+this.characterService.characterState.attributes.earthLore.value));e<1&&(e=1),this.homeService.workFields(e),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("speed",.1),Math.random()<.01&&(this.characterService.characterState.increaseAttribute("woodLore",.1),this.characterService.characterState.increaseAttribute("earthLore",.1))}],requirements:[{strength:10,speed:10}],unlocked:!1,skipApprenticeshipLevel:0},{level:0,name:["Mining"],activityType:oe.Mining,description:["Dig in the ground for useable minerals."],consequenceDescription:["Uses 20 stamina. Increases strength and sometimes finds something useful."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.increaseAttribute("strength",.1),Math.random()<.5&&(this.characterService.characterState.increaseAttribute("earthLore",.1),this.inventoryService.addItem(this.inventoryService.getOre()))}],requirements:[{strength:70}],unlocked:!1,skipApprenticeshipLevel:0},{level:0,name:["Smelting"],activityType:oe.Smelting,description:["Smelt metal ores into usable metal."],consequenceDescription:["Uses 30 stamina. Increases toughness and intelligence. If you have metal ores, you can make them into bars."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),this.inventoryService.openInventorySlots()>0){let e=this.inventoryService.consume("ore");e>=1&&this.inventoryService.addItem(this.inventoryService.getBar(e))}}],requirements:[{toughness:100,intelligence:100}],unlocked:!1,skipApprenticeshipLevel:0},{level:0,name:["Hunting"],activityType:oe.Hunting,description:["Hunt for animals in the nearby woods."],consequenceDescription:["Uses 50 stamina. Increases speed and a good hunt provides some meat. It might draw unwanted attention to yourself."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=50,this.characterService.characterState.increaseAttribute("speed",.1);let e=.1;this.homeService.furniture.workbench&&"dogKennel"==this.homeService.furniture.workbench.id&&(e+=.4),Math.random()<e&&(this.characterService.characterState.increaseAttribute("animalHandling",.1),this.inventoryService.addItem(this.itemRepoService.items.meat),this.inventoryService.addItem(this.itemRepoService.items.hide)),Math.random()<.01&&this.battleService.addEnemy(this.battleService.enemyRepo.wolf)}],requirements:[{speed:200}],unlocked:!1,skipApprenticeshipLevel:0},{level:0,name:["Fishing"],activityType:oe.Fishing,description:["Grab your net and see if you can catch some fish."],consequenceDescription:["Uses 50 stamina. Increases intelligence and strength and you might catch a fish."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=50,this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),Math.random()<.2&&(this.characterService.characterState.increaseAttribute("animalHandling",.1),this.characterService.characterState.increaseAttribute("waterLore",.05),this.inventoryService.addItem(this.itemRepoService.items.carp))}],requirements:[{strength:15,intelligence:15}],unlocked:!1,skipApprenticeshipLevel:0},{level:0,name:["Burning Things"],activityType:oe.Burning,description:["Light things on fire and watch them burn."],consequenceDescription:["Uses 5 stamina. You will be charged for what you burn. Teaches you to love fire."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=5;let e=this.characterService.characterState.increaseAttribute("fireLore",.1);this.characterService.characterState.money-=e,this.characterService.characterState.money<0&&(this.characterService.characterState.money=0)}],requirements:[{intelligence:10}],unlocked:!1,skipApprenticeshipLevel:0},{level:0,name:["Body Cultivation"],activityType:oe.BodyCultivation,description:["Focus on the development of your body. Unblock your meridians, let your chi flow, and prepare your body for immortality."],consequenceDescription:["Uses 100 stamina. Increases your physical abilities and strengthen your aptitudes in them."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("speed",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.attributes.strength.aptitude+=.1,this.characterService.characterState.attributes.speed.aptitude+=.1,this.characterService.characterState.attributes.toughness.aptitude+=.1,Math.random()<.01&&this.characterService.characterState.increaseAttribute("spirituality",.1)}],requirements:[{strength:5e3,speed:5e3,toughness:5e3,spirituality:1}],unlocked:!1,skipApprenticeshipLevel:0},{level:0,name:["Mind Cultivation"],activityType:oe.MindCultivation,description:["Focus on the development of your mind. Unblock your meridians, let your chi flow, and prepare your mind for immortality."],consequenceDescription:["Uses 100 stamina. Increases your mental abilities and strengthen your aptitudes in them."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.increaseAttribute("charisma",1),this.characterService.characterState.attributes.intelligence.aptitude+=.1,this.characterService.characterState.attributes.charisma.aptitude+=.1,Math.random()<.01&&this.characterService.characterState.increaseAttribute("spirituality",.1)}],requirements:[{charisma:5e3,intelligence:5e3,spirituality:1}],unlocked:!1,skipApprenticeshipLevel:0},{level:0,name:["Core Cultivation"],activityType:oe.CoreCultivation,description:["Focus on the development of your soul core."],consequenceDescription:["A very advances cultivation technique. Make sure you have achieved a deep understanding of elemental balance before attempting this. Uses 200 stamina. Gives you a small chance of increasing your mana capabilities."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=200,this.characterService.characterState.manaUnlocked?Math.random()<.01&&(this.characterService.characterState.status.mana.max++,this.characterService.characterState.status.mana.value++):(this.characterService.characterState.status.health.value-=.1*this.characterService.characterState.status.health.max,this.logService.addLogMessage("You fail miserably at cultivating your core and hurt yourself badly.","INJURY","EVENT"))}],requirements:[{woodLore:1e3,waterLore:1e3,fireLore:1e3,metalLore:1e3,earthLore:1e3,spirituality:1e3}],unlocked:!1,skipApprenticeshipLevel:0},{level:0,name:["Recruit Followers"],activityType:oe.Recruiting,description:["Look for followers willing to serve you."],consequenceDescription:["Costs 100 stamina and 1M taels. Gives you a small chance of finding a follower, if you are powerful to attract any."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.money-=1e6,this.characterService.characterState.money<0&&(this.characterService.characterState.money=0),this.followerService.followersUnlocked&&this.characterService.characterState.money>0?Math.random()<.01&&this.followerService.generateFollower():(this.characterService.characterState.status.health.value-=.1*this.characterService.characterState.status.health.max,this.logService.addLogMessage("You fail miserably at your attempt to recruit followers. An angry mob chases you down and gives you a beating for your arrogance.","INJURY","EVENT"))}],requirements:[{charisma:1e9}],unlocked:!1,skipApprenticeshipLevel:0}]}}return n.\u0275fac=function(e){return new(e||n)(y(Ue),y(K),y(dt),y(ji),y(Cn),y(Hn),y(yr),y(on),y(cc),y(ia))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ue=(()=>{class n{constructor(e,i,r,o){this.injector=e,this.logService=r,this.reincarnationService=o,this.forceRebirth=!1,this.fatherGift=!1,this.lifespanTooltip="",this.characterState=new PN(r),i.tickSubject.subscribe(()=>{this.characterState.dead=!1,this.characterState.age++,this.characterState.status.nourishment.value--;let s="";this.forceRebirth?s="You release your soul from your body at the age of "+this.formatAge()+".":this.characterState.age>=this.characterState.lifespan?s="You reach the end of your natural life and pass away from natural causes at the age of "+this.formatAge()+".":this.characterState.status.nourishment.value<=0?this.characterState.attributes.spirituality.value>0?(this.characterState.status.health.value-=20,this.characterState.increaseAttribute("spirituality",.1),this.characterState.status.health.value<=0&&(s="You starve to death at the age of "+this.formatAge()+".")):s="You starve to death at the age of "+this.formatAge()+".":this.characterState.status.health.value<=0&&(s="You succumb to your wounds and die at the age of "+this.formatAge()+"."),""!=s&&(this.logService.addLogMessage(s,"INJURY","EVENT"),this.forceRebirth||this.logService.addLogMessage("You have failed to achieve immortality and your life has ended. Don't worry, I'm sure you'll achieve immortality in your next life.","STANDARD","EVENT"),this.characterState.reincarnate(),this.reincarnationService.reincarnate(),this.characterState.dead=!0,this.forceRebirth=!1,this.logService.addLogMessage("Congratulations! The cycle of reincarnation has brought you back into the world. You have been born again. You are certain that lucky life number "+this.characterState.totalLives+" will be the one.","STANDARD","EVENT"),this.logService.addLogMessage("It takes you a few years to grow up and remember your purpose: to become an immortal. You're all grown up now, so get to it!","STANDARD","EVENT"))}),i.longTickSubject.subscribe(()=>{this.characterState.dead||(this.characterState.recalculateDerivedStats(),this.setLifespanTooltip())}),o.reincarnateSubject.subscribe(()=>{this.fatherGift&&(this.logService.addLogMessage("Your father puts some coins in your purse before sending you on your way.","STANDARD","EVENT"),this.characterState.money+=200)})}formatAge(){return Math.floor(this.characterState.age/365)+" years, "+this.characterState.age%365+" days"}setLifespanTooltip(){this.characterState.foodLifespan+this.characterState.alchemyLifespan+this.characterState.statLifespan+this.characterState.spiritualityLifespan<=0&&(this.lifespanTooltip="You have done nothing to extend your lifespan");let e="Your lifespan is extended by";this.characterState.foodLifespan>0&&(e+="<br>Healthy Food: "+this.yearify(this.characterState.foodLifespan)),this.characterState.alchemyLifespan>0&&(e+="<br>Alchemy: "+this.yearify(this.characterState.alchemyLifespan)),this.characterState.statLifespan>0&&(e+="<br>Basic Attributes: "+this.yearify(this.characterState.statLifespan)),this.characterState.spiritualityLifespan>0&&(e+="<br>Spirituality: "+this.yearify(this.characterState.spiritualityLifespan)),this.lifespanTooltip=e}yearify(e){return e<365?"< 1 year":e<730?"1 year":Math.floor(e/365)+" years"}condenseSoulCore(){if(this.characterState.aptitudeGainDivider<=10)return;this.logService.addLogMessage("Your spirituality coelesces around the core of your soul, strengthening it and reforging it into something stronger.","STANDARD","STORY"),this.logService.addLogMessage("You now gain twice as much aptitude each time you reincarnate.","STANDARD","STORY"),this.characterState.condenseSoulCoreCost*=10,this.characterState.aptitudeGainDivider-=10;const e=Object.keys(this.characterState.attributes);for(const i in e){let r=this.characterState.attributes[e[i]];r.aptitude=1,r.value=parseInt(i)<5?1:0}this.activityService||(this.activityService=this.injector.get(ri)),this.activityService.reloadActivities(),this.activityService.activityLoop.splice(0,this.activityService.activityLoop.length),this.forceRebirth=!0}soulCoreRank(){let e=0,i=this.characterState.condenseSoulCoreOriginalCost;for(;i<this.characterState.condenseSoulCoreCost;)i*=10,e++;return e}reinforceMeridians(){if(this.characterState.attributeScalingLimit>=10240)return;this.logService.addLogMessage("The pathways that carry your chi through your body have been strengthened and reinforced.","STANDARD","STORY"),this.logService.addLogMessage("Your aptitudes can now give you a greater increase when gaining attributes.","STANDARD","STORY"),this.characterState.reinforceMeridiansCost*=10,this.characterState.attributeScalingLimit*=2;const e=Object.keys(this.characterState.attributes);for(const i in e){let r=this.characterState.attributes[e[i]];r.aptitude=1,r.value=parseInt(i)<5?1:0}this.activityService||(this.activityService=this.injector.get(ri)),this.activityService.reloadActivities(),this.activityService.activityLoop.splice(0,this.activityService.activityLoop.length),this.forceRebirth=!0}meridianRank(){let e=0,i=this.characterState.reinforceMeridiansOriginalCost;for(;i<this.characterState.reinforceMeridiansCost;)i*=10,e++;return e}upgradeBloodline(){if(this.characterState.bloodlineRank>8)return;this.logService.addLogMessage("You sacrifice your current life to strengthen a permanent bloodline that will pass on to all of your descendants.","STANDARD","STORY"),this.logService.addLogMessage("You will be reborn into your own family line and reap greater benefits from your previous lives.","STANDARD","STORY"),this.characterState.bloodlineCost*=1e3,this.characterState.bloodlineRank++;const e=Object.keys(this.characterState.attributes);for(const i in e){let r=this.characterState.attributes[e[i]];r.aptitude=1,r.value=parseInt(i)<5?1:0}this.forceRebirth=!0}}return n.\u0275fac=function(e){return new(e||n)(y(Ie),y(Cn),y(on),y(ji))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K=(()=>{class n{constructor(e,i,r,o,s){this.logService=e,this.characterService=i,this.itemRepoService=s,this.itemStacks=[],this.maxItems=10,this.maxStackSize=100,this.selectedItem=null,this.fed=!1,this.lifetimeUsedItems=0,this.lifetimeSoldItems=0,this.lifetimePotionsUsed=0,this.lifetimePillsUsed=0,this.motherGift=!1,this.grandmotherGift=!1,this.thrownAwayItems=0,this.farmFoodList=[this.itemRepoService.items.rice,this.itemRepoService.items.cabbage,this.itemRepoService.items.beans,this.itemRepoService.items.broccoli,this.itemRepoService.items.calabash,this.itemRepoService.items.taro,this.itemRepoService.items.pear,this.itemRepoService.items.melon,this.itemRepoService.items.plum,this.itemRepoService.items.apricot,this.itemRepoService.items.peach],this.noFood=!1,this.autoSellUnlocked=!1,this.autoSellItems=[],this.autoUseUnlocked=!1,this.autoUseItems=[],this.autoBalanceUnlocked=!1,this.autoBalanceItems=[],this.autoPotionUnlocked=!1,this.autoPillUnlocked=!1,this.autoWeaponMergeUnlocked=!1,this.autoArmorMergeUnlocked=!1,this.autoequipBestWeapon=!1,this.autoequipBestArmor=!1,this.useSpiritGemUnlocked=!1,this.useSpiritGemWeapons=!1,this.useSpiritGemPotions=!1,this.autoSellOldHerbs=!1,this.autoSellOldWood=!1,this.autoSellOldOre=!1;for(let a=0;a<this.maxItems;a++)this.itemStacks.push(null);r.tickSubject.subscribe(()=>{this.characterService.characterState.dead||this.eatFood()}),r.longTickSubject.subscribe(()=>{this.characterService.characterState.dead||(this.autoWeaponMergeUnlocked&&this.autoWeaponMerge(),this.autoArmorMergeUnlocked&&this.autoArmorMerge(),this.autoequipBestWeapon&&this.autoequipWeapons(),this.autoequipBestArmor&&this.autoequipArmor())}),o.reincarnateSubject.subscribe(()=>{this.reset()})}getProperties(){return{itemStacks:this.itemStacks,autoSellUnlocked:this.autoSellUnlocked,autoSellItems:this.autoSellItems,autoUseUnlocked:this.autoUseUnlocked,autoUseItems:this.autoUseItems,autoBalanceUnlocked:this.autoBalanceUnlocked,autoBalanceItems:this.autoBalanceItems,autoPotionUnlocked:this.autoPotionUnlocked,autoPillUnlocked:this.autoPillUnlocked,autoWeaponMergeUnlocked:this.autoWeaponMergeUnlocked,autoArmorMergeUnlocked:this.autoArmorMergeUnlocked,useSpiritGemUnlocked:this.useSpiritGemUnlocked,useSpiritGemWeapons:this.useSpiritGemWeapons,useSpiritGemPotions:this.useSpiritGemPotions,autoSellOldHerbs:this.autoSellOldHerbs,autoSellOldWood:this.autoSellOldWood,autoSellOldOre:this.autoSellOldOre,autoequipBestWeapon:this.autoequipBestWeapon,autoequipBestArmor:this.autoequipBestArmor,maxStackSize:this.maxStackSize,thrownAwayItems:this.thrownAwayItems}}setProperties(e){this.itemStacks=e.itemStacks,this.autoSellUnlocked=e.autoSellUnlocked||!1,this.autoSellItems=e.autoSellItems,this.autoUseUnlocked=e.autoUseUnlocked||!1,this.autoUseItems=e.autoUseItems,this.autoBalanceUnlocked=e.autoBalanceUnlocked||!1,this.autoBalanceItems=e.autoBalanceItems,this.autoPotionUnlocked=e.autoPotionUnlocked||!1,this.autoPillUnlocked=e.autoPillUnlocked||!1,this.autoWeaponMergeUnlocked=e.autoWeaponMergeUnlocked||!1,this.autoArmorMergeUnlocked=e.autoArmorMergeUnlocked||!1,this.useSpiritGemUnlocked=e.useSpiritGemUnlocked||!1,this.useSpiritGemWeapons=e.useSpiritGemWeapons,this.useSpiritGemPotions=e.useSpiritGemPotions,this.autoSellOldHerbs=e.autoSellOldHerbs||!1,this.autoSellOldWood=e.autoSellOldWood||!1,this.autoSellOldOre=e.autoSellOldOre||!1,this.autoequipBestWeapon=e.autoequipBestWeapon||!1,this.autoequipBestArmor=e.autoequipBestArmor||!1,this.maxStackSize=e.maxStackSize||100,this.thrownAwayItems=e.thrownAwayItems||0}changeMaxItems(e){for(this.maxItems=e;this.itemStacks.length<e;)this.itemStacks.push(null)}generateWeapon(e,i){if(this.useSpiritGemUnlocked&&this.useSpiritGemWeapons){let d=this.consume("spiritGem");d>0&&(e+=d/5)}let r=e%Oo.length,o=Math.floor(e/Oo.length),s=Oo[r],a="";if(o>0){let d=Math.floor(o/ta.length);d>0?(d>Nf.length?(d=Nf.length,o=ta.length-1):o%=ta.length,a=" of "+Nf[d-1]+" "+ta[o]):a=" of "+ta[o-1]}let l=i,c="rightHand";"wood"===i&&(c="leftHand",l="wooden");let u=s+" "+l+" "+J0[Math.floor(Math.random()*J0.length)]+a;this.logService.addLogMessage("Your hard work paid off! You created a new weapon: "+u+"!","STANDARD","EVENT");let h=Math.floor(Math.random()*e*10);return{id:"weapon",name:u,type:"equipment",slot:c,value:e,weaponStats:{baseDamage:e,material:i,durability:h},description:"A unique weapon made of "+i+". Drag and drop onto similar weapons to merge them into something better.<br/>Base Damage: "+e+"<br/>Durability: "+h}}updateWeaponDescription(e){var i,r,o;e.description="A unique weapon made of "+(null===(i=e.weaponStats)||void 0===i?void 0:i.material)+".<br/>Base Damage: "+(null===(r=e.weaponStats)||void 0===r?void 0:r.baseDamage)+"<br/>Durability: "+(null===(o=e.weaponStats)||void 0===o?void 0:o.durability)}generatePotion(e,i){if(this.useSpiritGemUnlocked&&this.useSpiritGemPotions){let a=this.consume("spiritGem");if(a>0&&(e+=a/5),Math.random()<.1)return void this.generatePill(e)}else if(i&&Math.random()<.1)return void this.generatePill(e);const o=Object.keys(this.characterService.characterState.attributes)[Math.floor(5*Math.random())];let s="Potion of "+o+" +"+e;this.logService.addLogMessage("Alchemy Success! Created a "+s+". Keep up the good work.","STANDARD","EVENT"),this.addItem({name:s,id:"potion",type:"potion",value:e,description:"A potion that increases "+o,useLabel:"Drink",useDescription:"Drink to increase your "+o+".",useConsumes:!0,attribute:o,increase:e})}generatePill(e){let i="Longevity",r=i+" Pill  +"+e;this.logService.addLogMessage("Alchemy Success! Created a "+r+". Keep up the good work.","STANDARD","EVENT"),this.addItem({name:r,id:"pill",type:"pill",value:10*e,description:"A pill that increases "+i,useLabel:"Swallow",useDescription:"Use to increase your "+i+".",useConsumes:!0,effect:i,power:e})}generateHerb(){let r,o,e=0,i=this.characterService.characterState.attributes.woodLore.value;if(e=i<1e4?Math.floor(Math.sqrt(i)):100+Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value-1e4)),e>=Ro.length*lc.length)r=Ro[Ro.length-1],o=lc[lc.length-1];else{let a=e%Ro.length,l=Math.floor(e/Ro.length);r=Ro[a],o=lc[l]}let s=e+1;if(this.addItem({id:"herb",name:o+" "+r,type:"ingredient",value:s,description:"Useful herbs. Can be used in creating pills or potions."}),this.autoSellOldHerbs)for(let a=0;a<this.itemStacks.length;a++){let l=this.itemStacks[a];l&&"herb"==l.item.id&&l.item.value<s&&this.sell(l,l.quantity)}}generateSpiritGem(e){return{id:"spiritGemGrade"+e,name:"monster gem grade "+e,type:"spiritGem",value:10*e,description:"A spirit gem dropped by a monster."}}generateArmor(e,i,r){let o=e%Oo.length,s=Math.floor(e/Oo.length),a=Oo[o],l="";if(s>0){let f=Math.floor(s/na.length);f>0?(f>Bf.length?(f=Bf.length,s=na.length-1):s%=na.length,l=" of "+Bf[f-1]+" "+na[s]):l=" of "+na[s-1]}let u=AN;"legs"==r?u=TN:"head"==r?u=xN:"feet"==r&&(u=IN);let h=a+" "+i+" "+u[Math.floor(Math.random()*u.length)]+l;this.logService.addLogMessage("Your hard work paid off! You created some armor: "+h+"!","STANDARD","EVENT");let d=Math.floor(Math.random()*e*10);return{id:"armor",name:h,type:"equipment",slot:r,value:e,armorStats:{defense:e,material:i,durability:d},description:"A unique piece of armor made of "+i+". Drag and drop onto similar armor to merge them into something better.<br/>Defense: "+e+"<br/>Durability: "+d}}randomArmorSlot(){let e=Math.random();return e<.25?"body":e<.5?"head":e<.75?"feet":"legs"}getOre(){let e;e=this.characterService.characterState.attributes.earthLore.value<20?1+Math.floor(this.characterService.characterState.attributes.earthLore.value/5):this.characterService.characterState.attributes.earthLore.value<70?5+Math.floor((this.characterService.characterState.attributes.earthLore.value-20)/10):9+Math.floor(Math.log10(this.characterService.characterState.attributes.earthLore.value-60));let i=this.itemRepoService.items.copperBar;for(let r in this.itemRepoService.items){let o=this.itemRepoService.items[r];"ore"==o.type&&o.value>i.value&&o.value<=e&&(i=o)}if(this.autoSellOldOre)for(let r=0;r<this.itemStacks.length;r++){let o=this.itemStacks[r];o&&"ore"==o.item.type&&o.item.value<i.value&&this.sell(o,o.quantity)}return i}getBar(e){let i=10*e;for(let r in this.itemRepoService.items){let o=this.itemRepoService.items[r];if("metal"==o.type&&o.value==i)return o}return this.itemRepoService.items.copperBar}getWood(){let e;if(e=this.characterService.characterState.attributes.woodLore.value>300&&this.characterService.characterState.attributes.spirituality.value>10?this.itemRepoService.items.peachwoodLog:this.characterService.characterState.attributes.woodLore.value>200&&this.characterService.characterState.attributes.spirituality.value>1?this.itemRepoService.items.blackwoodLog:this.characterService.characterState.attributes.woodLore.value>100?this.itemRepoService.items.zitanLog:this.characterService.characterState.attributes.woodLore.value>50?this.itemRepoService.items.rosewoodLog:this.characterService.characterState.attributes.woodLore.value>40?this.itemRepoService.items.pearwoodLog:this.characterService.characterState.attributes.woodLore.value>30?this.itemRepoService.items.laurelwoodLog:this.characterService.characterState.attributes.woodLore.value>20?this.itemRepoService.items.walnutLog:this.characterService.characterState.attributes.woodLore.value>10?this.itemRepoService.items.cypressLog:this.itemRepoService.items.elmLog,this.autoSellOldWood)for(let i=0;i<this.itemStacks.length;i++){let r=this.itemStacks[i];r&&"wood"==r.item.type&&r.item.value<e.value&&this.sell(r,r.quantity)}return e}reset(){this.lifetimeUsedItems=0,this.lifetimeSoldItems=0,this.lifetimePotionsUsed=0,this.lifetimePillsUsed=0,this.itemStacks=[],this.maxItems=10;for(let e=0;e<this.maxItems;e++)this.itemStacks.push(null);this.motherGift&&(this.logService.addLogMessage("Your mother gives you three big bags of rice as she sends you out to make your way in the world.","STANDARD","EVENT"),this.itemStacks[0]={item:this.itemRepoService.items.rice,quantity:300}),this.grandmotherGift&&this.addItem({id:"weapon",name:"Grandmother's Walking Stick",type:"equipment",slot:"leftHand",value:10,weaponStats:{baseDamage:10,material:"wood",durability:100},description:"Your grandmother's walking stick. Drag and drop onto similar weapons to merge them into something better.<br/>Base Damage: 10<br/>Durability: 100"})}eatFood(){if(this.fed)return this.noFood=!1,void(this.fed=!1);let e=null;for(const r of this.itemStacks)null!=r&&"food"==r.item.type&&r.item.value>0&&(e=r);e?(this.useItemStack(e),this.noFood=!1):(this.noFood=!0,this.characterService.characterState.money>0&&(this.characterService.characterState.money--,this.characterService.characterState.status.nourishment.value++)),this.fed=!1}addItems(e,i){for(let r=0;r<i;r++)this.addItem(e)}addItem(e){for(let i of this.autoBalanceItems)if(i.name==e.name)return i.index<i.useNumber?this.useItem(e):this.characterService.characterState.money+=e.value,i.index++,i.index>=i.sellNumber+i.useNumber&&(i.index=0),-1;if(this.autoPotionUnlocked&&"potion"==e.type)return this.useItem(e),-1;if(this.autoPillUnlocked&&"pill"==e.type)return this.useItem(e),-1;if(this.autoUseItems.includes(e.name))return this.useItem(e),-1;if(this.autoSellItems.includes(e.name))return this.characterService.characterState.money+=e.value,-1;if("equipment"!=e.type)for(let i=0;i<this.itemStacks.length;i++){let r=this.itemStacks[i];if(null!=r&&r.item.name==e.name&&r.quantity<this.maxStackSize)return r.quantity++,i}for(let i=0;i<this.itemStacks.length;i++)if(null==this.itemStacks[i])return this.itemStacks[i]={item:e,quantity:1},i;return this.logService.addLogMessage(`You don't have enough room for the ${e.name} so you threw it away.`,"STANDARD","EVENT"),this.thrownAwayItems++,-1}sell(e,i){this.lifetimeSoldItems+=i;let r=this.itemStacks.indexOf(e);i>=e.quantity?(this.itemStacks[r]=null,this.characterService.characterState.money+=e.quantity*e.item.value,e==this.selectedItem&&(this.selectedItem=null)):(e.quantity-=i,this.characterService.characterState.money+=i*e.item.value)}sellAll(e){for(let i of this.itemStacks)null!=i&&i.item.name==e.name&&this.sell(i,i.quantity)}autoSell(e){this.autoSellItems.includes(e.name)||this.autoSellItems.push(e.name),this.sellAll(e)}unAutoSell(e){let i=this.autoSellItems.indexOf(e);this.autoSellItems.splice(i,1)}useItemStack(e){if(this.useItem(e.item),e.item.useConsumes&&(e.quantity--,e.quantity<=0)){let i=this.itemStacks.indexOf(e);this.itemStacks[i]=null,e==this.selectedItem&&(this.selectedItem=null)}}useItem(e){this.lifetimeUsedItems++,"potion"==e.type&&function RN(n){return"attribute"in n}(e)?this.usePotion(e):"pill"==e.type&&function FN(n){return"effect"in n}(e)?this.usePill(e):e.use&&(e.use(),"food"==e.type&&(this.fed=!0))}autoUse(e){var i;if(("potion"==e.type||"pill"==e.type||e.use)&&(this.autoUseItems.includes(e.name)||this.autoUseItems.push(e.name),e.useConsumes))for(let r=0;r<this.itemStacks.length;r++)if(null!=this.itemStacks[r]&&(null===(i=this.itemStacks[r])||void 0===i?void 0:i.item.name)==e.name&&e.useConsumes)for(;null!=this.itemStacks[r];){let o=this.itemStacks[r];null!=o&&this.useItemStack(o)}}unAutoUse(e){let i=this.autoUseItems.indexOf(e);this.autoUseItems.splice(i,1)}autoBalance(e){for(let i of this.autoBalanceItems)if(i.name==e.name)return;this.autoBalanceItems.push({name:e.name,index:0,useNumber:1,sellNumber:1}),this.sellAll(e)}unAutoBalance(e){for(let i=0;i<this.autoBalanceItems.length;i++)if(this.autoBalanceItems[i].name==e)return void this.autoBalanceItems.splice(i,1)}equip(e){var i,r;const o=e.item;if(!Fo(o))throw Error("Tried to equip an item that was not equipable");if(0===(null===(i=o.armorStats)||void 0===i?void 0:i.durability)||0===(null===(r=o.weaponStats)||void 0===r?void 0:r.durability))return void this.logService.addLogMessage("You tried to equip some broken equipment, but it was broken.","STANDARD","EVENT");const s=this.characterService.characterState.equipment[o.slot];s&&this.addItem(s),this.characterService.characterState.equipment[o.slot]=o;let a=this.itemStacks.indexOf(e);this.itemStacks[a]=null}equipBest(e){var i,r,o,s,a,l,c,u;let h=0,d=!0;"leftHand"==e||"rightHand"==e?h=(null===(r=null===(i=this.characterService.characterState.equipment[e])||void 0===i?void 0:i.weaponStats)||void 0===r?void 0:r.baseDamage)||0:(d=!1,h=(null===(s=null===(o=this.characterService.characterState.equipment[e])||void 0===o?void 0:o.armorStats)||void 0===s?void 0:s.defense)||0);for(let f=0;f<this.itemStacks.length;f++){let p=this.itemStacks[f];if(null!=p){let v=p.item;if(Fo(v)&&v.slot==e){let w=0;d&&v.weaponStats&&(null===(a=v.weaponStats)||void 0===a?void 0:a.durability)>0?w=null===(l=v.weaponStats)||void 0===l?void 0:l.baseDamage:!d&&v.armorStats&&(null===(c=v.armorStats)||void 0===c?void 0:c.durability)>0&&(w=null===(u=v.armorStats)||void 0===u?void 0:u.defense),w>h&&this.equip(p)}}}}consume(e){let i=-1,r=-1;for(let o=0;o<this.itemStacks.length;o++){let s=this.itemStacks[o];null!=s&&s.item.type==e&&i<s.item.value&&(i=s.item.value,r=o)}if(r>=0){let o=this.itemStacks[r];null!=o&&(o.quantity--,o.quantity<=0&&(this.itemStacks[r]=null))}return i}checkFor(e){let i=-1,r=-1;for(let o=0;o<this.itemStacks.length;o++){let s=this.itemStacks[o];null!=s&&s.item.type==e&&i<s.item.value&&(i=s.item.value,r=o)}return i}usePotion(e){this.lifetimePotionsUsed++,this.characterService.characterState.attributes[e.attribute].value+=e.increase}usePill(e){this.lifetimePillsUsed++,"Longevity"==e.effect&&(this.characterService.characterState.alchemyLifespan+=e.power,this.characterService.characterState.alchemyLifespan>36500&&(this.characterService.characterState.alchemyLifespan=36500))}openInventorySlots(){let e=0;for(const i of this.itemStacks)null==i&&e++;return e}mergeEquipment(e,i,r){var o,s;if(e.slot!=i.slot)return;let a=0;a=this.addItem("rightHand"==e.slot||"leftHand"==e.slot?this.generateWeapon(e.value+i.value,(null===(o=e.weaponStats)||void 0===o?void 0:o.material)+""):this.generateArmor(e.value+i.value,(null===(s=e.armorStats)||void 0===s?void 0:s.material)+"",e.slot)),a!=r&&null==this.itemStacks[r]&&(this.itemStacks[r]=this.itemStacks[a],this.itemStacks[a]=null)}autoWeaponMerge(){this.autoMerge("leftHand"),this.autoMerge("rightHand")}autoArmorMerge(){this.autoMerge("head"),this.autoMerge("body"),this.autoMerge("legs"),this.autoMerge("feet")}autoequipWeapons(){this.equipBest("leftHand"),this.equipBest("rightHand")}autoequipArmor(){this.equipBest("head"),this.equipBest("body"),this.equipBest("legs"),this.equipBest("feet")}autoMerge(e){var i;let r=-1,o=null,s=null;for(let a=0;a<this.itemStacks.length;a++){let l=null===(i=this.itemStacks[a])||void 0===i?void 0:i.item;if(l&&Fo(l)&&l.slot==e)if(-1==r)r=a,o=l;else if(s=l,o)return(this.selectedItem==this.itemStacks[r]||this.selectedItem==this.itemStacks[a])&&(this.selectedItem=null),this.itemStacks[r]=null,this.itemStacks[a]=null,void this.mergeEquipment(o,s,r)}}mergeSpiritGem(e){e.quantity<10||(e.quantity-=10,this.addItem(this.generateSpiritGem(e.item.value/10+1)))}}return n.\u0275fac=function(e){return new(e||n)(y(on),y(Ue),y(Cn),y(ji),y(Hn))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Fo(n){return"slot"in n}function tC(n){return Array.isArray(n)?n:[n]}function st(n){return null==n?"":"string"==typeof n?n:`${n}px`}function uc(n){return n instanceof it?n.nativeElement:n}const VN=["addListener","removeListener"],HN=["addEventListener","removeEventListener"],jN=["on","off"];function jf(n,t,e,i){if(pe(e)&&(i=e,e=void 0),i)return jf(n,t,e).pipe(ff(i));const[r,o]=function $N(n){return pe(n.addEventListener)&&pe(n.removeEventListener)}(n)?HN.map(s=>a=>n[s](t,a,e)):function UN(n){return pe(n.addListener)&&pe(n.removeListener)}(n)?VN.map(nC(n,t)):function qN(n){return pe(n.on)&&pe(n.off)}(n)?jN.map(nC(n,t)):[];if(!r&&iu(n))return at(s=>jf(s,t,e))($t(n));if(!r)throw new TypeError("Invalid event target");return new Ve(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function nC(n,t){return e=>i=>n[e](t,i)}class zN extends yt{constructor(t,e){super()}schedule(t,e=0){return this}}const hc={setInterval(n,t,...e){const{delegate:i}=hc;return(null==i?void 0:i.setInterval)?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=hc;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};class Uf extends zN{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return hc.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;hc.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Ir(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const ra={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=ra;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new yt(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=ra;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=ra;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},iC={now:()=>(iC.delegate||Date).now(),delegate:void 0};class oa{constructor(t,e=oa.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}oa.now=iC.now;class qf extends oa{constructor(t,e=oa.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}new class WN extends qf{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class GN extends Uf{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=ra.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(ra.cancelAnimationFrame(e),t._scheduled=void 0)}});let $f,KN=1;const dc={};function rC(n){return n in dc&&(delete dc[n],!0)}const ZN={setImmediate(n){const t=KN++;return dc[t]=!0,$f||($f=Promise.resolve()),$f.then(()=>rC(t)&&n()),t},clearImmediate(n){rC(n)}},{setImmediate:XN,clearImmediate:QN}=ZN,fc={setImmediate(...n){const{delegate:t}=fc;return((null==t?void 0:t.setImmediate)||XN)(...n)},clearImmediate(n){const{delegate:t}=fc;return((null==t?void 0:t.clearImmediate)||QN)(n)},delegate:void 0},oC=(new class eB extends qf{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class JN extends Uf{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=fc.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(fc.clearImmediate(e),t._scheduled=void 0)}}),new qf(Uf)),nB=oC;function sC(n,t=oC){return function iB(n){return et((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const c=r;r=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe($e(e,c=>{i=!0,r=c,o||$t(n(c)).subscribe(o=$e(e,a,l))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>function oB(n=0,t,e=nB){let i=-1;return null!=t&&(Mm(t)?e=t:i=t),new Ve(r=>{let o=function rB(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,t))}let zf;try{zf="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){zf=!1}let sa,_r,Wf,wi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function wR(n){return n===Eb}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!zf)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(y(Id))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gf(n){return function sB(){if(null==sa&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>sa=!0}))}finally{sa=sa||!1}return sa}()?n:!!n.capture}function aB(){if(null==_r){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return _r=!1,_r;if("scrollBehavior"in document.documentElement.style)_r=!0;else{const n=Element.prototype.scrollTo;_r=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return _r}function Yf(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Sr(n){return n.composedPath?n.composedPath()[0]:n.target}function Kf(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const uB=new B("cdk-dir-doc",{providedIn:"root",factory:function hB(){return Ka(ce)}}),dB=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Zf=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new Ae,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function fB(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?dB.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(y(uB,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=Ye({}),n})(),mB=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Ee,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ve(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(sC(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):$()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(nn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=uc(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>jf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(y(be),y(wi),y(ce,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lC=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Ee,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(sC(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(y(wi),y(be),y(ce,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=Ye({}),n})(),uC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=Ye({imports:[[aa,cC],aa,cC]}),n})();class Xf{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Qf extends Xf{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class hC extends Xf{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class vB extends Xf{constructor(t){super(),this.element=t instanceof it?t.nativeElement:t}}class Jf{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Qf?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof hC?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof vB?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class yB extends Jf{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Ie.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let dC=(()=>{class n extends Jf{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Ae,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(b(Li),b(vn),b(ce))},n.\u0275dir=U({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[me]}),n})(),fC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=Ye({}),n})();function pC(n){return et((t,e)=>{$t(n).subscribe($e(e,()=>e.complete(),Zc)),!e.closed&&t.subscribe(e)})}const mC=aB();class _B{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=st(-this._previousScrollPosition.left),t.style.top=st(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),mC&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),mC&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class SB{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class gC{enable(){}disable(){}attach(){}}function ep(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function vC(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class bB{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();ep(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let CB=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new gC,this.close=s=>new SB(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new _B(this._viewportRuler,this._document),this.reposition=s=>new bB(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(y(mB),y(lC),y(be),y(ce))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class yC{constructor(t){if(this.scrollStrategy=new gC,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class wB{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class DB{constructor(t,e,i,r,o,s,a,l,c){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Ee,this._attachments=new Ee,this._detachments=new Ee,this._locationChanges=yt.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new Ee,this._outsidePointerEvents=new Ee,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(jn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=st(this._config.width),t.height=st(this._config.height),t.minWidth=st(this._config.minWidth),t.minHeight=st(this._config.minHeight),t.maxWidth=st(this._config.maxWidth),t.maxHeight=st(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=tC(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(pC(Im(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let tp=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Kf()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),Kf()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(y(ce),y(wi))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _C="cdk-overlay-connected-position-bounding-box",EB=/([A-Za-z%]+)$/;class MB{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ee,this._resizeSubscription=yt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(_C),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,e,a),u=this._getOverlayFit(c,e,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?o.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(o.length){let a=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&br(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(_C),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?s:a}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=bC(e);let{x:s,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let d=0-a,f=a+o.height-i.height,p=this._subtractOverflows(o.width,0-s,s+o.width-i.width),v=this._subtractOverflows(o.height,d,f),w=p*v;return{visibleArea:w,isCompletelyWithinViewport:o.width*o.height===w,fitsInViewportVertically:v===o.height,fitsInViewportHorizontally:p==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=SC(this._overlayRef.getConfig().minHeight),a=SC(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportHorizontally||null!=a&&a<=o;return(t.fitsInViewportVertically||null!=s&&s<=r)&&c}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=bC(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0);let u=0,h=0;return u=r.width<=o.width?c||-s:t.x<this._viewportMargin?o.left-i.left-t.x:0,h=r.height<=o.height?l||-a:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:u,y:h},{x:t.x+u,y:t.y+h}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new wB(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,s,a,u,h,d;if("top"===e.overlayY)s=t.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-t.y+i.top,t.y),p=this._lastBoundingBoxSize.height;o=2*f,s=t.y-f,o>p&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-p/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)d=i.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)h=t.x,u=i.right-t.x;else{const f=Math.min(i.right-t.x+i.left,t.x),p=this._lastBoundingBoxSize.width;u=2*f,h=t.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.x-p/2)}return{top:s,left:h,bottom:a,right:d,width:u,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=st(i.height),r.top=st(i.top),r.bottom=st(i.bottom),r.width=st(i.width),r.left=st(i.left),r.right=st(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=st(o)),s&&(r.maxWidth=st(s))}this._lastBoundingBoxSize=i,br(this._boundingBox.style,r)}_resetBoundingBoxStyles(){br(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){br(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();br(i,this._getExactOverlayY(e,t,u)),br(i,this._getExactOverlayX(e,t,u))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=st(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=st(s.maxWidth):o&&(i.maxWidth="")),br(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=st(o.y),r}_getExactOverlayX(t,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=st(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:vC(t,i),isOriginOutsideView:ep(t,i),isOverlayClipped:vC(e,i),isOverlayOutsideView:ep(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&tC(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof it)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function br(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function SC(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(EB);return e&&"px"!==e?null:parseFloat(t)}return n||null}function bC(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const CC="cdk-global-overlay-wrapper";class kB{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(CC),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a);t.position=this._cssPosition,t.marginLeft=l?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,l?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(CC),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let AB=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new kB}flexibleConnectedTo(e){return new MB(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(y(lC),y(ce),y(wi),y(tp))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wC=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(y(ce))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TB=(()=>{class n extends wC{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(y(ce),y(be,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xB=(()=>{class n extends wC{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Sr(o)},this._clickListener=o=>{const s=Sr(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const h=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(o)):h.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(y(ce),y(wi),y(be,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IB=0,mc=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h,d){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=h,this._outsideClickDispatcher=d}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new yC(e);return s.direction=s.direction||this._directionality.value,new DB(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+IB++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Fs)),new yB(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(y(CB),y(tp),y(Li),y(AB),y(TB),y(Ie),y(be),y(ce),y(Zf),y(Bs),y(xB))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const RB={provide:new B("cdk-connected-overlay-scroll-strategy"),deps:[mc],useFactory:function OB(n){return()=>n.scrollStrategies.reposition()}};let FB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=Ye({providers:[mc,RB],imports:[[aa,fC,uC],uC]}),n})();function zB(n,t){return n===t}let kC=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function KB(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function YB(n){try{return n.frameElement}catch(t){return null}}(function iV(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===TC(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=TC(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function tV(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function nV(n){return!function XB(n){return function JB(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function ZB(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function QB(n){return function eV(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||AC(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(y(wi))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AC(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function TC(n){if(!AC(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class rV{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(jn(1)).subscribe(t)}}let oV=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new rV(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(y(kC),y(be),y(ce))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lV=new B("cdk-input-modality-detector-options"),cV={ignoreKeys:[18,17,224,91,16]},No=Gf({passive:!0,capture:!0});let uV=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Sn(null),this._lastTouchMs=0,this._onKeydown=s=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(c=>c===s.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Sr(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function sV(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(s)?"keyboard":"mouse"),this._mostRecentTarget=Sr(s))},this._onTouchstart=s=>{!function aV(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(s)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Sr(s)):this._modality.next("keyboard")},this._options=Object.assign(Object.assign({},cV),o),this.modalityDetected=this._modality.pipe(function qB(n){return nn((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(function $B(n,t=Ei){return n=null!=n?n:zB,et((e,i)=>{let r,o=!0;e.subscribe($e(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,No),r.addEventListener("mousedown",this._onMousedown,No),r.addEventListener("touchstart",this._onTouchstart,No)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,No),document.removeEventListener("mousedown",this._onMousedown,No),document.removeEventListener("touchstart",this._onTouchstart,No))}}return n.\u0275fac=function(e){return new(e||n)(y(wi),y(be),y(ce),y(lV,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dV=new B("cdk-focus-monitor-default-options"),gc=Gf({passive:!0,capture:!0});let fV=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ee,this._rootNodeFocusAndBlurListener=a=>{const l=Sr(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=o,this._detectionMode=(null==s?void 0:s.detectionMode)||0}monitor(e,i=!1){const r=uc(e);if(!this._platform.isBrowser||1!==r.nodeType)return $(null);const o=function cB(n){if(function lB(){if(null==Wf){const n="undefined"!=typeof document?document.head:null;Wf=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Wf}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new Ee,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=uc(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=uc(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Sr(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,gc),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,gc)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(pC(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,gc),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,gc),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(y(be),y(wi),y(uV),y(ce,8),y(dV,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IC="cdk-high-contrast-black-on-white",PC="cdk-high-contrast-white-on-black",np="cdk-high-contrast-active";let pV=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(np),e.remove(IC),e.remove(PC),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(np),e.add(IC)):2===i&&(e.add(np),e.add(PC))}}}return n.\u0275fac=function(e){return new(e||n)(y(wi),y(ce))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gV=new B("mat-sanity-checks",{providedIn:"root",factory:function mV(){return!0}});let vc=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Kf()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(y(pV),y(gV,8),y(ce))},n.\u0275mod=tt({type:n}),n.\u0275inj=Ye({imports:[[aa],aa]}),n})();function vV(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}class NC{}const Di="*";function DV(n,t){return{type:7,name:n,definitions:t,options:{}}}function BC(n,t=null){return{type:4,styles:t,timings:n}}function VC(n,t=null){return{type:3,steps:n,options:t}}function HC(n,t=null){return{type:2,steps:n,options:t}}function Bo(n){return{type:6,styles:n,offset:null}}function jC(n,t,e){return{type:0,name:n,styles:t,options:e}}function UC(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function qC(n=null){return{type:9,options:n}}function $C(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function zC(n){Promise.resolve(null).then(n)}class ca{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zC(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class GC{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?zC(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const he=!1;function WC(n){return new L(3e3,he)}function o2(){return"undefined"!=typeof window&&void 0!==window.document}function op(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ui(n){switch(n.length){case 0:return new ca;case 1:return n[0];default:return new GC(n)}}function YC(n,t,e,i,r={},o={}){const s=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const h=u.offset,d=h==l,f=d&&c||{};Object.keys(u).forEach(p=>{let v=p,w=u[p];if("offset"!==p)switch(v=t.normalizePropertyName(v,s),w){case"!":w=r[p];break;case Di:w=o[p];break;default:w=t.normalizeStyleValue(p,v,w,s)}f[v]=w}),d||a.push(f),c=f,l=h}),s.length)throw function WV(n){return new L(3502,he)}();return a}function sp(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&ap(e,"start",n)));break;case"done":n.onDone(()=>i(e&&ap(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&ap(e,"destroy",n)))}}function ap(n,t,e){const i=e.totalTime,o=lp(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function lp(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function sn(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function KC(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let cp=(n,t)=>!1,ZC=(n,t,e)=>[],XC=null;function up(n){const t=n.parentNode||n.host;return t===XC?null:t}(op()||"undefined"!=typeof Element)&&(o2()?(XC=(()=>document.documentElement)(),cp=(n,t)=>{for(;t;){if(t===n)return!0;t=up(t)}return!1}):cp=(n,t)=>n.contains(t),ZC=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Cr=null,QC=!1;function JC(n){Cr||(Cr=function a2(){return"undefined"!=typeof document?document.body:null}()||{},QC=!!Cr.style&&"WebkitAppearance"in Cr.style);let t=!0;return Cr.style&&!function s2(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Cr.style,!t&&QC&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Cr.style)),t}const ew=cp,tw=ZC;let nw=(()=>{class n{validateStyleProperty(e){return JC(e)}matchesElement(e,i){return!1}containsElement(e,i){return ew(e,i)}getParentElement(e){return up(e)}query(e,i,r){return tw(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new ca(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),hp=(()=>{class n{}return n.NOOP=new nw,n})();const dp="ng-enter",_c="ng-leave",Sc="ng-trigger",bc=".ng-trigger",rw="ng-animating",fp=".ng-animating";function wr(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:pp(parseFloat(t[1]),t[2])}function pp(n,t){return"s"===t?1e3*n:n}function Cc(n,t,e){return n.hasOwnProperty("duration")?n:function u2(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(WC()),{duration:0,delay:0,easing:""};r=pp(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=pp(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function EV(){return new L(3100,he)}()),a=!0),o<0&&(t.push(function MV(){return new L(3101,he)}()),a=!0),a&&t.splice(l,0,WC())}return{duration:r,delay:o,easing:s}}(n,t,e)}function Vo(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function qi(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Vo(n,e);return e}function sw(n,t,e){return e?t+":"+e+";":""}function aw(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=sw(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=sw(0,f2(e),n.style[e]));n.setAttribute("style",t)}function oi(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=gp(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),op()&&aw(n))}function Dr(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=gp(e);n.style[i]=""}),op()&&aw(n))}function ua(n){return Array.isArray(n)?1==n.length?n[0]:HC(n):n}const mp=new RegExp("{{\\s*(.+?)\\s*}}","g");function lw(n){let t=[];if("string"==typeof n){let e;for(;e=mp.exec(n);)t.push(e[1]);mp.lastIndex=0}return t}function wc(n,t,e){const i=n.toString(),r=i.replace(mp,(o,s)=>{let a=t[s];return t.hasOwnProperty(s)||(e.push(function AV(n){return new L(3003,he)}()),a=""),a.toString()});return r==i?n:r}function Dc(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const d2=/-+([a-z0-9])/g;function gp(n){return n.replace(d2,(...t)=>t[1].toUpperCase())}function f2(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function an(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function TV(n){return new L(3004,he)}()}}function cw(n,t){return window.getComputedStyle(n)[t]}function _2(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function S2(n,t,e){if(":"==n[0]){const l=function b2(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function qV(n){return new L(3016,he)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function UV(n){return new L(3015,he)}()),t;const r=i[1],o=i[2],s=i[3];t.push(uw(r,s));"<"==o[0]&&!("*"==r&&"*"==s)&&t.push(uw(s,r))}(i,e,t)):e.push(n),e}const Ac=new Set(["true","1"]),Tc=new Set(["false","0"]);function uw(n,t){const e=Ac.has(n)||Tc.has(n),i=Ac.has(t)||Tc.has(t);return(r,o)=>{let s="*"==n||n==r,a="*"==t||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?Ac.has(n):Tc.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Ac.has(t):Tc.has(t)),s&&a}}const C2=new RegExp("s*:selfs*,?","g");function vp(n,t,e,i){return new w2(n).build(t,e,i)}class w2{constructor(t){this._driver=t}build(t,e,i){const r=new M2(e);this._resetContextStyleTimingState(r);const o=an(this,ua(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),o}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function IV(){return new L(3006,he)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function PV(){return new L(3007,he)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{if(xc(a)){const l=a;Object.keys(l).forEach(c=>{lw(l[c]).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}}),o.size&&(Dc(o.values()),e.errors.push(function OV(n,t){return new L(3008,he)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=an(this,ua(t.animation),e);return{type:1,matchers:_2(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Er(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>an(this,i,e)),options:Er(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=an(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:Er(t.options)}}visitAnimate(t,e){const i=function A2(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return yp(Cc(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=yp(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=Cc(e,t);return yp(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Bo({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=Bo(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(s=>{"string"==typeof s?s==Di?i.push(s):e.errors.push(function RV(n){return new L(3002,he)}()):i.push(s)}):i.push(t.styles);let r=!1,o=null;return i.forEach(s=>{if(xc(s)){const a=s,l=a.easing;if(l&&(o=l,delete a.easing),!r)for(let c in a)if(a[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&Object.keys(s).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete s[a],void e.unsupportedCSSPropertiesFound.add(a);const l=e.collectedStyles[e.currentQuerySelector],c=l[a];let u=!0;c&&(o!=r&&o>=c.startTime&&r<=c.endTime&&(e.errors.push(function FV(n,t,e,i,r){return new L(3010,he)}()),u=!1),o=c.startTime),u&&(l[a]={startTime:o,endTime:r}),e.options&&function h2(n,t,e){const i=t.params||{},r=lw(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function kV(n){return new L(3001,he)}())})}(s[a],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function LV(){return new L(3011,he)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const u=t.steps.map(D=>{const C=this._makeStyleAst(D,e);let T=null!=C.offset?C.offset:function k2(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(xc(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(xc(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(C.styles),P=0;return null!=T&&(o++,P=C.offset=T),l=l||P<0||P>1,a=a||P<c,c=P,s.push(P),C});l&&e.errors.push(function NV(){return new L(3012,he)}()),a&&e.errors.push(function BV(){return new L(3200,he)}());const h=t.steps.length;let d=0;o>0&&o<h?e.errors.push(function VV(){return new L(3202,he)}()):0==o&&(d=1/(h-1));const f=h-1,p=e.currentTime,v=e.currentAnimateTimings,w=v.duration;return u.forEach((D,C)=>{const T=d>0?C==f?1:d*C:s[C],P=T*w;e.currentTime=p+v.delay+P,v.duration=P,this._validateStyleAst(D,e),D.offset=T,i.styles.push(D)}),i}visitReference(t,e){return{type:8,animation:an(this,ua(t.animation),e),options:Er(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Er(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Er(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function D2(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(C2,"")),n=n.replace(/@\*/g,bc).replace(/@\w+/g,e=>bc+"-"+e.substr(1)).replace(/:animating/g,fp),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,sn(e.collectedStyles,e.currentQuerySelector,{});const a=an(this,ua(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Er(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function HV(){return new L(3013,he)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Cc(t.timings,e.errors,!0);return{type:12,animation:an(this,ua(t.animation),e),timings:i,options:null}}}class M2{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function xc(n){return!Array.isArray(n)&&"object"==typeof n}function Er(n){return n?(n=Vo(n)).params&&(n.params=function E2(n){return n?Vo(n):null}(n.params)):n={},n}function yp(n,t,e){return{duration:n,delay:t,easing:e}}function _p(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Ic{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const I2=new RegExp(":enter","g"),O2=new RegExp(":leave","g");function Sp(n,t,e,i,r,o={},s={},a,l,c=[]){return(new R2).buildKeyframes(n,t,e,i,r,o,s,a,l,c)}class R2{buildKeyframes(t,e,i,r,o,s,a,l,c,u=[]){c=c||new Ic;const h=new bp(t,e,c,r,o,u,[]);h.options=l,h.currentTimeline.setStyles([s],null,h.errors,l),an(this,i,h);const d=h.timelines.filter(f=>f.containsAnimation());if(Object.keys(a).length){let f;for(let p=d.length-1;p>=0;p--){const v=d[p];if(v.element===e){f=v;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,h.errors,l)}return d.length?d.map(f=>f.buildKeyframes()):[_p(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?wr(i.duration):null,a=null!=i.delay?wr(i.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),an(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Pc);const s=wr(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>an(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?wr(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),an(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Cc(e.params?wc(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?wr(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Pc);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const h=e.createSubContext(t.options,c);o&&h.delayNextStep(o),c===e.element&&(l=h.currentTimeline),an(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,h.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const h=u.currentTime;an(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}}const Pc={};class bp{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Pc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Oc(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=wr(i.duration)),null!=i.delay&&(r.delay=wr(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=wc(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new bp(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Pc,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new F2(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(I2,"."+this._enterClassName)).replace(O2,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function jV(n){return new L(3014,he)}()),a}}class Oc{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Oc(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Di,this._currentKeyframe[e]=Di}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const o=r&&r.params||{},s=function L2(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{e[o]=Di})):qi(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(s).forEach(a=>{const l=wc(s[a],o,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Di),this._updateStyle(a,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=qi(a,!0);Object.keys(c).forEach(u=>{const h=c[u];"!"==h?t.add(u):h==Di&&e.add(u)}),i||(c.offset=l/this.duration),r.push(c)});const o=t.size?Dc(t.values()):[],s=e.size?Dc(e.values()):[];if(i){const a=r[0],l=Vo(a);a.offset=0,l.offset=1,r=[a,l]}return _p(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class F2 extends Oc{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=qi(t[0],!1);l.offset=0,o.push(l);const c=qi(t[0],!1);c.offset=fw(a),o.push(c);const u=t.length-1;for(let h=1;h<=u;h++){let d=qi(t[h],!1);d.offset=fw((e+d.offset*i)/s),o.push(d)}i=s,e=0,r="",t=o}return _p(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function fw(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Cp{}class N2 extends Cp{normalizePropertyName(t,e){return gp(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(B2[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function xV(n,t){return new L(3005,he)}())}return s+o}}const B2=(()=>function V2(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function pw(n,t,e,i,r,o,s,a,l,c,u,h,d){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const wp={};class mw{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function H2(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],o=this._stateStyles[t],s=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):s}build(t,e,i,r,o,s,a,l,c,u){const h=[],d=this.ast.options&&this.ast.options.params||wp,p=this.buildStyles(i,a&&a.params||wp,h),v=l&&l.params||wp,w=this.buildStyles(r,v,h),D=new Set,C=new Map,T=new Map,P="void"===r,V={params:Object.assign(Object.assign({},d),v)},ve=u?[]:Sp(t,e,this.ast.animation,o,s,p,w,V,c,h);let _e=0;if(ve.forEach(Qe=>{_e=Math.max(Qe.duration+Qe.delay,_e)}),h.length)return pw(e,this._triggerName,i,r,P,p,w,[],[],C,T,_e,h);ve.forEach(Qe=>{const Je=Qe.element,qt=sn(C,Je,{});Qe.preStyleProps.forEach(ft=>qt[ft]=!0);const wt=sn(T,Je,{});Qe.postStyleProps.forEach(ft=>wt[ft]=!0),Je!==e&&D.add(Je)});const Xe=Dc(D.values());return pw(e,this._triggerName,i,r,P,p,w,ve,Xe,C,T,_e)}}class j2{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Vo(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!=s&&(r[o]=s)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const s=o;Object.keys(s).forEach(a=>{let l=s[a];l.length>1&&(l=wc(l,r,e));const c=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,c,l,e),i[c]=l})}}),i}}class q2{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new j2(r.style,r.options&&r.options.params||{},i)}),gw(this.states,"true","1"),gw(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new mw(t,r,this.states))}),this.fallbackTransition=function $2(n,t,e){return new mw(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function gw(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const z2=new Ic;class G2{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],o=vp(this._driver,e,i,[]);if(i.length)throw function YV(n){return new L(3503,he)}();this._animations[t]=o}_buildPlayer(t,e,i){const r=t.element,o=YC(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations[t];let s;const a=new Map;if(o?(s=Sp(this._driver,e,o,dp,_c,{},{},i,z2,r),s.forEach(u=>{const h=sn(a,u.element,{});u.postStyleProps.forEach(d=>h[d]=null)})):(r.push(function KV(){return new L(3300,he)}()),s=[]),r.length)throw function ZV(n){return new L(3504,he)}();a.forEach((u,h)=>{Object.keys(u).forEach(d=>{u[d]=this._driver.computeStyle(h,d,Di)})});const c=Ui(s.map(u=>{const h=a.get(u.element);return this._buildPlayer(u,{},h)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function XV(n){return new L(3301,he)}();return e}listen(t,e,i,r){const o=lp(e,"","","");return sp(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const vw="ng-animate-queued",Dp="ng-animate-disabled",X2=[],yw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Q2={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wn="__ng_removed";class Ep{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function nH(n){return null!=n?n:null}(i?t.value:t),i){const o=Vo(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const ha="void",Mp=new Ep(ha);class J2{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Dn(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function QV(n,t){return new L(3302,he)}();if(null==i||0==i.length)throw function JV(n){return new L(3303,he)}();if(!function iH(n){return"start"==n||"done"==n}(i))throw function e2(n,t){return new L(3400,he)}();const o=sn(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=sn(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Dn(t,Sc),Dn(t,Sc+"-"+e),a[e]=Mp),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function t2(n){return new L(3401,he)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new kp(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Dn(t,Sc),Dn(t,Sc+"-"+e),this._engine.statesByElement.set(t,a={}));let l=a[e];const c=new Ep(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[e]=c,l||(l=Mp),c.value!==ha&&l.value===c.value){if(!function sH(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const v=[],w=o.matchStyles(l.value,l.params,v),D=o.matchStyles(c.value,c.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(()=>{Dr(t,w),oi(t,D)})}return}const d=sn(this._engine.playersByElement,t,[]);d.forEach(v=>{v.namespaceId==this.id&&v.triggerName==e&&v.queued&&v.destroy()});let f=o.matchTransition(l.value,c.value,t,c.params),p=!1;if(!f){if(!r)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:s,isFallbackTransition:p}),p||(Dn(t,vw),s.onStart(()=>{Ho(t,vw)})),s.onDone(()=>{let v=this.players.indexOf(s);v>=0&&this.players.splice(v,1);const w=this._engine.playersByElement.get(t);if(w){let D=w.indexOf(s);D>=0&&w.splice(D,1)}}),this.players.push(s),d.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,bc,!0);i.forEach(r=>{if(r[wn])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(Object.keys(o).forEach(l=>{if(s.set(l,o[l].value),this._triggers[l]){const c=this.trigger(t,l,ha,r);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&Ui(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers[s].fallbackTransition,c=i[s]||Mp,u=new Ep(ha),h=new kp(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[wn];(!o||o===yw)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Dn(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=lp(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,sp(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class eH{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new J2(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,o=i.length-1;if(o>=0){let s=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}}else for(let a=o;a>=0;a--)if(this.driver.containsElement(i[a].hostElement,e)){i.splice(a+1,0,t),s=!0;break}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const s=i[r[o]].namespaceId;if(s){const a=this._fetchNamespace(s);a&&e.add(a)}}}return e}trigger(t,e,i,r){if(Rc(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Rc(e))return;const o=e[wn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Dn(t,Dp)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ho(t,Dp))}removeNode(t,e,i,r){if(Rc(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[wn]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return Rc(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,bc,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,fp,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ui(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[wn];if(i&&i.setForRemoval){if(t[wn]=yw,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(Dp))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Dn(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ui(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function n2(n){return new L(3402,he)}()}_flushAnimations(t,e){const i=new Ic,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(N=>{u.add(N);const j=this.driver.query(N,".ng-animate-queued",!0);for(let G=0;G<j.length;G++)u.add(j[G])});const h=this.bodyNode,d=Array.from(this.statesByElement.keys()),f=bw(d,this.collectedEnterElements),p=new Map;let v=0;f.forEach((N,j)=>{const G=dp+v++;p.set(j,G),N.forEach(ge=>Dn(ge,G))});const w=[],D=new Set,C=new Set;for(let N=0;N<this.collectedLeaveElements.length;N++){const j=this.collectedLeaveElements[N],G=j[wn];G&&G.setForRemoval&&(w.push(j),D.add(j),G.hasAnimation?this.driver.query(j,".ng-star-inserted",!0).forEach(ge=>D.add(ge)):C.add(j))}const T=new Map,P=bw(d,Array.from(D));P.forEach((N,j)=>{const G=_c+v++;T.set(j,G),N.forEach(ge=>Dn(ge,G))}),t.push(()=>{f.forEach((N,j)=>{const G=p.get(j);N.forEach(ge=>Ho(ge,G))}),P.forEach((N,j)=>{const G=T.get(j);N.forEach(ge=>Ho(ge,G))}),w.forEach(N=>{this.processLeaveNode(N)})});const V=[],ve=[];for(let N=this._namespaceList.length-1;N>=0;N--)this._namespaceList[N].drainQueuedTransitions(e).forEach(G=>{const ge=G.player,vt=G.element;if(V.push(ge),this.collectedEnterElements.length){const Nt=vt[wn];if(Nt&&Nt.setForMove){if(Nt.previousTriggersValues&&Nt.previousTriggersValues.has(G.triggerName)){const Tr=Nt.previousTriggersValues.get(G.triggerName),Zi=this.statesByElement.get(G.element);Zi&&Zi[G.triggerName]&&(Zi[G.triggerName].value=Tr)}return void ge.destroy()}}const ai=!h||!this.driver.containsElement(h,vt),cn=T.get(vt),Ki=p.get(vt),qe=this._buildInstruction(G,i,Ki,cn,ai);if(qe.errors&&qe.errors.length)return void ve.push(qe);if(ai)return ge.onStart(()=>Dr(vt,qe.fromStyles)),ge.onDestroy(()=>oi(vt,qe.toStyles)),void r.push(ge);if(G.isFallbackTransition)return ge.onStart(()=>Dr(vt,qe.fromStyles)),ge.onDestroy(()=>oi(vt,qe.toStyles)),void r.push(ge);const cE=[];qe.timelines.forEach(Nt=>{Nt.stretchStartingKeyframe=!0,this.disabledNodes.has(Nt.element)||cE.push(Nt)}),qe.timelines=cE,i.append(vt,qe.timelines),s.push({instruction:qe,player:ge,element:vt}),qe.queriedElements.forEach(Nt=>sn(a,Nt,[]).push(ge)),qe.preStyleProps.forEach((Nt,Tr)=>{const Zi=Object.keys(Nt);if(Zi.length){let xr=l.get(Tr);xr||l.set(Tr,xr=new Set),Zi.forEach(om=>xr.add(om))}}),qe.postStyleProps.forEach((Nt,Tr)=>{const Zi=Object.keys(Nt);let xr=c.get(Tr);xr||c.set(Tr,xr=new Set),Zi.forEach(om=>xr.add(om))})});if(ve.length){const N=[];ve.forEach(j=>{N.push(function r2(n,t){return new L(3505,he)}())}),V.forEach(j=>j.destroy()),this.reportError(N)}const _e=new Map,Xe=new Map;s.forEach(N=>{const j=N.element;i.has(j)&&(Xe.set(j,j),this._beforeAnimationBuild(N.player.namespaceId,N.instruction,_e))}),r.forEach(N=>{const j=N.element;this._getPreviousPlayers(j,!1,N.namespaceId,N.triggerName,null).forEach(ge=>{sn(_e,j,[]).push(ge),ge.destroy()})});const Qe=w.filter(N=>ww(N,l,c)),Je=new Map;Sw(Je,this.driver,C,c,Di).forEach(N=>{ww(N,l,c)&&Qe.push(N)});const wt=new Map;f.forEach((N,j)=>{Sw(wt,this.driver,new Set(N),l,"!")}),Qe.forEach(N=>{const j=Je.get(N),G=wt.get(N);Je.set(N,Object.assign(Object.assign({},j),G))});const ft=[],$o=[],zo={};s.forEach(N=>{const{element:j,player:G,instruction:ge}=N;if(i.has(j)){if(u.has(j))return G.onDestroy(()=>oi(j,ge.toStyles)),G.disabled=!0,G.overrideTotalTime(ge.totalTime),void r.push(G);let vt=zo;if(Xe.size>1){let cn=j;const Ki=[];for(;cn=cn.parentNode;){const qe=Xe.get(cn);if(qe){vt=qe;break}Ki.push(cn)}Ki.forEach(qe=>Xe.set(qe,vt))}const ai=this._buildAnimation(G.namespaceId,ge,_e,o,wt,Je);if(G.setRealPlayer(ai),vt===zo)ft.push(G);else{const cn=this.playersByElement.get(vt);cn&&cn.length&&(G.parentPlayer=Ui(cn)),r.push(G)}}else Dr(j,ge.fromStyles),G.onDestroy(()=>oi(j,ge.toStyles)),$o.push(G),u.has(j)&&r.push(G)}),$o.forEach(N=>{const j=o.get(N.element);if(j&&j.length){const G=Ui(j);N.setRealPlayer(G)}}),r.forEach(N=>{N.parentPlayer?N.syncPlayerEvents(N.parentPlayer):N.destroy()});for(let N=0;N<w.length;N++){const j=w[N],G=j[wn];if(Ho(j,_c),G&&G.hasAnimation)continue;let ge=[];if(a.size){let ai=a.get(j);ai&&ai.length&&ge.push(...ai);let cn=this.driver.query(j,fp,!0);for(let Ki=0;Ki<cn.length;Ki++){let qe=a.get(cn[Ki]);qe&&qe.length&&ge.push(...qe)}}const vt=ge.filter(ai=>!ai.destroyed);vt.length?rH(this,j,vt):this.processLeaveNode(j)}return w.length=0,ft.forEach(N=>{this.players.push(N),N.onDone(()=>{N.destroy();const j=this.players.indexOf(N);this.players.splice(j,1)}),N.play()}),ft}elementContainsData(t,e){let i=!1;const r=e[wn];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==ha;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==o,h=sn(i,c,[]);this._getPreviousPlayers(c,u,s,a,e.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),h.push(f)})}Dr(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,l=e.element,c=[],u=new Set,h=new Set,d=e.timelines.map(p=>{const v=p.element;u.add(v);const w=v[wn];if(w&&w.removedBeforeQueried)return new ca(p.duration,p.delay);const D=v!==l,C=function oH(n){const t=[];return Cw(n,t),t}((i.get(v)||X2).map(_e=>_e.getRealPlayer())).filter(_e=>!!_e.element&&_e.element===v),T=o.get(v),P=s.get(v),V=YC(0,this._normalizer,0,p.keyframes,T,P),ve=this._buildPlayer(p,V,C);if(p.subTimeline&&r&&h.add(v),D){const _e=new kp(t,a,v);_e.setRealPlayer(ve),c.push(_e)}return ve});c.forEach(p=>{sn(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function tH(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Dn(p,rw));const f=Ui(d);return f.onDestroy(()=>{u.forEach(p=>Ho(p,rw)),oi(l,e.toStyles)}),h.forEach(p=>{sn(r,p,[]).push(f)}),f}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new ca(t.duration,t.delay)}}class kp{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new ca,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>sp(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){sn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Rc(n){return n&&1===n.nodeType}function _w(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function Sw(n,t,e,i,r){const o=[];e.forEach(l=>o.push(_w(l)));const s=[];i.forEach((l,c)=>{const u={};l.forEach(h=>{const d=u[h]=t.computeStyle(c,h,r);(!d||0==d.length)&&(c[wn]=Q2,s.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>_w(l,o[a++])),s}function bw(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function Dn(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Ho(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function rH(n,t,e){Ui(e).onDone(()=>n.processLeaveNode(t))}function Cw(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof GC?Cw(i.players,t):t.push(i)}}function ww(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class Fc{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new eH(t,e,i),this._timelineEngine=new G2(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],u=vp(this._driver,o,l,[]);if(l.length)throw function GV(n,t){return new L(3404,he)}();a=function U2(n,t,e){return new q2(n,t,e)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=KC(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=KC(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let lH=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&oi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(oi(this._element,this._initialStyles),this._endStyles&&(oi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Dr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Dr(this._element,this._endStyles),this._endStyles=null),oi(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Ap(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];cH(r)&&(t=t||{},t[r]=n[r])}return t}function cH(n){return"display"===n||"position"===n}class Dw{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:cw(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class uH{validateStyleProperty(t){return JC(t)}matchesElement(t,e){return!1}containsElement(t,e){return ew(t,e)}getParentElement(t){return up(t)}query(t,e,i){return tw(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c={},u=s.filter(d=>d instanceof Dw);(function p2(n,t){return 0===n||0===t})(i,r)&&u.forEach(d=>{let f=d.currentSnapshot;Object.keys(f).forEach(p=>c[p]=f[p])}),e=function m2(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],s=[];if(i.forEach(a=>{o.hasOwnProperty(a)||s.push(a),o[a]=e[a]}),s.length)for(var r=1;r<t.length;r++){let a=t[r];s.forEach(function(l){a[l]=cw(n,l)})}}return t}(t,e=e.map(d=>qi(d,!1)),c);const h=function aH(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Ap(t[0]),t.length>1&&(i=Ap(t[t.length-1]))):t&&(e=Ap(t)),e||i?new lH(n,e,i):null}(t,e);return new Dw(t,e,l,h)}}let hH=(()=>{class n extends NC{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Mn.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?HC(e):e;return Ew(this._renderer,null,i,"register",[r]),new dH(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(y(Ts),y(ce))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();class dH extends class wV{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new fH(this._id,t,e||{},this._renderer)}}class fH{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Ew(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Ew(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const Mw="@.disabled";let pH=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=null==s?void 0:s.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new kw("",o,this.engine),this._rendererCache.set(o,u)),u}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,e,u.name,u)};return i.data.animation.forEach(l),new mH(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(y(Ts),y(Fc),y(be))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();class kw{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==Mw?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class mH extends kw{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Mw?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function gH(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),s="";return"@"!=o.charAt(0)&&([o,s]=function vH(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let yH=(()=>{class n extends Fc{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(y(ce),y(hp),y(Cp))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const Tp=new B("AnimationModuleType"),Aw=[{provide:NC,useClass:hH},{provide:Cp,useFactory:function _H(){return new N2}},{provide:Fc,useClass:yH},{provide:Ts,useFactory:function SH(n,t,e){return new pH(n,t,e)},deps:[Gl,Fc,be]}],Tw=[{provide:hp,useFactory:()=>new uH},{provide:Tp,useValue:"BrowserAnimations"},...Aw],bH=[{provide:hp,useClass:nw},{provide:Tp,useValue:"NoopAnimations"},...Aw];let CH=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?bH:Tw}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=Ye({providers:Tw,imports:[Nb]}),n})();function wH(n,t){}class xp{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const DH={dialogContainer:DV("dialogContainer",[jC("void, exit",Bo({opacity:0,transform:"scale(0.7)"})),jC("enter",Bo({transform:"none"})),UC("* => enter",VC([BC("150ms cubic-bezier(0, 0, 0.2, 1)",Bo({transform:"none",opacity:1})),$C("@*",qC(),{optional:!0})])),UC("* => void, * => exit",VC([BC("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Bo({opacity:0})),$C("@*",qC(),{optional:!0})]))])};let EH=(()=>{class n extends Jf{constructor(e,i,r,o,s,a,l,c){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=s,this._interactivityChecker=a,this._ngZone=l,this._focusMonitor=c,this._animationStateChanged=new Ae,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(u)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=o}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Yf())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=Yf(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Yf();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(b(it),b(oV),b(Ls),b(ce,8),b(xp),b(kC),b(be),b(fV))},n.\u0275dir=U({type:n,viewQuery:function(e,i){if(1&e&&mS(dC,7),2&e){let r;wl(r=function Dl(){return function nP(n,t){return n[19].queries[t].queryList}(k(),eg())}())&&(i._portalOutlet=r.first)}},features:[me]}),n})(),MH=(()=>{class n extends EH{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=St(n)))(i||n)}}(),n.\u0275cmp=He({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&Zh("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(nd("id",i._id),gn("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),id("@dialogContainer",i._state))},features:[me],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&I(0,wH,0,0,"ng-template",0)},directives:[dC],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[DH.dialogContainer]}}),n})(),kH=0;class AH{constructor(t,e,i="mat-dialog-"+kH++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Ee,this._afterClosed=new Ee,this._beforeClosed=new Ee,this._state=0,e._id=i,e._animationStateChanged.pipe(nn(r=>"opened"===r.state),jn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(nn(r=>"closed"===r.state),jn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(nn(r=>27===r.keyCode&&!this.disableClose&&!function UB(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(r))).subscribe(r=>{r.preventDefault(),xw(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():xw(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(nn(e=>"closing"===e.state),jn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function xw(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const TH=new B("MatDialogData"),xH=new B("mat-dialog-default-options"),Iw=new B("mat-dialog-scroll-strategy"),PH={provide:Iw,deps:[mc],useFactory:function IH(n){return()=>n.scrollStrategies.block()}};let OH=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ee,this._afterOpenedAtThisLevel=new Ee,this._ariaHiddenElements=new Map,this.afterAllClosed=mf(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(zb(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function RH(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new xp),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),o=this._attachDialogContainer(r,i),s=this._attachDialogContent(e,o,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.afterClosed().subscribe(()=>this._removeOpenDialog(s)),this.afterOpened.next(s),o._initializeWithAttachedContent(),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new yC({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const o=Ie.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:xp,useValue:i}]}),s=new Qf(this._dialogContainerType,i.viewContainerRef,o,i.componentFactoryResolver);return e.attach(s).instance}_attachDialogContent(e,i,r,o){const s=new this._dialogRefConstructor(r,i,o.id);if(e instanceof Jn)i.attachTemplatePortal(new hC(e,null,{$implicit:o.data,dialogRef:s}));else{const a=this._createInjector(o,s,i),l=i.attachComponentPortal(new Qf(e,o.viewContainerRef,a,o.componentFactoryResolver));s.componentInstance=l.instance}return s.updateSize(o.width,o.height).updatePosition(o.position),s}_createInjector(e,i,r){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!o||!o.get(Zf,null,W.Optional))&&s.push({provide:Zf,useValue:{value:e.direction,change:$()}}),Ie.create({parent:o||this._injector,providers:s})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,o)=>{r?o.setAttribute("aria-hidden",r):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){fl()},n.\u0275dir=U({type:n}),n})(),Nc=(()=>{class n extends OH{constructor(e,i,r,o,s,a,l,c){super(e,i,o,a,l,s,AH,MH,TH,c)}}return n.\u0275fac=function(e){return new(e||n)(y(mc),y(Ie),y(Bs,8),y(xH,8),y(Iw),y(n,12),y(tp),y(Tp,8))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})(),Pw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=Ye({providers:[Nc,PH],imports:[[FB,fC,vc],vc]}),n})(),jo=(()=>{class n{constructor(e,i,r,o,s,a){this.logService=e,this.characterService=i,this.inventoryService=r,this.itemRepoService=o,this.homeService=s,this.dialog=a,this.soulCoreRank=0,this.meridianRank=0,this.bloodlineLabel="",this.bloodlineDescription="",this.bloodLineHomeRequirement=this.homeService.homesList[Fe.Palace],this.storeOpened=!1,this.selectedItem=null,this.manuals=[],this.furniture=[]}setStoreInventory(){this.furniture=[];for(let e in this.itemRepoService.furniture){let i=this.itemRepoService.furniture[e];this.homeService.home.furnitureSlots.includes(i.slot)&&this.furniture.push(i)}this.selectedItem=null}unlockManual(e){this.manuals.includes(e)||this.manuals.push(e)}buyManual(){this.selectedItem&&this.selectedItem.value<this.characterService.characterState.money&&(this.characterService.characterState.money-=this.selectedItem.value,"manual"==this.selectedItem.type&&this.selectedItem.use?this.selectedItem.use():this.inventoryService.addItem(this.selectedItem))}buyFurniture(){if(this.selectedItem){if(!function LN(n){return"slot"in n}(this.selectedItem))return;let e=this.selectedItem.slot;this.selectedItem.value<this.characterService.characterState.money&&(this.characterService.characterState.money-=this.selectedItem.value,this.homeService.furniture[e]=this.selectedItem,this.homeService.autoBuyFurniture[e]=this.selectedItem)}}updateAscensions(){this.soulCoreRank=this.characterService.soulCoreRank(),this.meridianRank=this.characterService.meridianRank(),this.bloodlineLabel=0==this.characterService.characterState.bloodlineRank?"Establish Bloodline":"Enhance Bloodline",0==this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="Establish a bloodline. All of your future reincarnations will be born as your own descendants. Your weapons equipped on death will become family heirlooms and will be inherited by your future self.",this.bloodLineHomeRequirement=this.homeService.homesList[Fe.Mansion]):1==this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="Enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self.",this.bloodLineHomeRequirement=this.homeService.homesList[Fe.Palace]):2==this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="Enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit some of your past self's money.",this.bloodLineHomeRequirement=this.homeService.homesList[Fe.Castle]):3==this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="Enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest.",this.bloodLineHomeRequirement=this.homeService.homesList[Fe.Fortress]):4==this.characterService.characterState.bloodlineRank&&(this.bloodlineDescription="Enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest. Your aptitudes extend your lifespan to a much greater degree.",this.bloodLineHomeRequirement=this.homeService.homesList[Fe.Mountain])}condenseSoulCore(){this.soulCoreRank>=9?this.logService.addLogMessage("You can't condense your soul core any further.","INJURY","EVENT"):this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.condenseSoulCoreCost?this.logService.addLogMessage("You don't have the spirituality required to ascend.","INJURY","EVENT"):this.inventoryService.checkFor("spiritGem")<10*(this.soulCoreRank+12)?this.logService.addLogMessage("You don't have the gem required to ascend.","INJURY","EVENT"):(this.characterService.condenseSoulCore(),this.dialog.closeAll())}reinforceMeridians(){this.meridianRank>=9?this.logService.addLogMessage("You can't reinforce your meridians any further.","INJURY","EVENT"):this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.reinforceMeridiansCost?this.logService.addLogMessage("You don't have the spirituality required to ascend.","INJURY","EVENT"):this.inventoryService.checkFor("spiritGem")<10*(this.meridianRank+16)?this.logService.addLogMessage("You don't have the gem required to ascend.","INJURY","EVENT"):(this.characterService.reinforceMeridians(),this.dialog.closeAll())}upgradeBloodline(){this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.bloodlineCost?this.logService.addLogMessage("You don't have the spirituality required to ascend.","INJURY","EVENT"):this.characterService.characterState.bloodlineRank>=4?this.logService.addLogMessage("You can't enhance your bloodline any further.","INJURY","EVENT"):this.homeService.home.type<this.bloodLineHomeRequirement.type?this.logService.addLogMessage("You don't have a powerful enough home to ascend.","INJURY","EVENT"):(this.characterService.upgradeBloodline(),this.dialog.closeAll())}}return n.\u0275fac=function(e){return new(e||n)(y(on),y(Ue),y(K),y(Hn),y(dt),y(Nc))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const FH=function(n,t){return{selectedItem:n,ownedItem:t}};function LH(n,t){if(1&n){const e=re();g(0,"div")(1,"table",3),x("click",function(){const o=H(e).$implicit;return M().slotClicked(o)}),g(2,"tr")(3,"mat-icon"),S(4,"menu_book"),m()(),g(5,"tr"),S(6),J(7,"titlecase"),m()(),g(8,"div",4),S(9),J(10,"bigNumber"),m()()}if(2&n){const e=t.$implicit,i=M();_(1),Re("tooltip",e.description),E("ngClass",fd(8,FH,e===i.storeService.selectedItem,e.owned&&e.owned())),_(5),Ne(De(7,4,e.name)),_(3),Ne(De(10,6,e.value))}}let Ow=(()=>{class n{constructor(e,i,r,o,s){this.storeService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=s,this.buyDisabled=!0,this.character=i.characterState,e.storeOpened=!0}slotClicked(e){this.storeService.selectedItem==e?(this.storeService.selectedItem=null,this.buyDisabled=!0):(this.storeService.selectedItem=e,this.buyDisabled=!(!e.owned||!e.owned()))}}return n.\u0275fac=function(e){return new(e||n)(b(jo),b(Ue),b(dt),b(K),b(Hn))},n.\u0275cmp=He({type:n,selectors:[["app-store-modal"]],decls:8,vars:2,consts:[[1,"inventoryGrid"],[4,"ngFor","ngForOf"],[3,"disabled","click"],["placement","left",1,"itemSlot",3,"ngClass","tooltip","click"],[1,"priceLabel"]],template:function(e,i){1&e&&(g(0,"div")(1,"span"),S(2,"Manuals Shop"),m(),ie(3,"hr"),g(4,"div",0),I(5,LH,11,11,"div",1),m(),g(6,"button",2),x("click",function(){return i.storeService.buyManual()}),S(7," Buy "),m()()),2&e&&(_(5),E("ngForOf",i.storeService.manuals),_(1),E("disabled",i.buyDisabled))},styles:[".inventoryContainer[_ngcontent-%COMP%]{position:relative;height:100%}.itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;background-color:#fffaaa}.priceLabel[_ngcontent-%COMP%]{width:60px;text-align:center}.selectedItem[_ngcontent-%COMP%]{background-color:#d8deff}.ownedItem[_ngcontent-%COMP%]{background-color:#a9a9a9!important;border:1px solid darkgray!important}.itemSlot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{line-height:12px}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}table[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{margin-top:2px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#e0dec6;display:flex;flex-direction:column;flex-grow:1}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column}.rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:360px;max-width:320px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:300px}.attributesPanel[_ngcontent-%COMP%]{overflow:auto}.activityPanel[_ngcontent-%COMP%]{flex-grow:3;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{flex-grow:1;height:160px;min-height:160px;max-height:160px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.cheat[_ngcontent-%COMP%]{font-size:3px}.panel[_ngcontent-%COMP%]{background-color:#fffaaa;margin:4px;border:3px solid #7f6b00;border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid #7f6b00;color:#000;font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}"]}),n})();let Fw=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(b(Qn),b(it))},n.\u0275dir=U({type:n}),n})(),Mr=(()=>{class n extends Fw{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=St(n)))(i||n)}}(),n.\u0275dir=U({type:n,features:[me]}),n})();const si=new B("NgValueAccessor");let wD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=Ye({}),n})();const Sj={provide:si,useExisting:Te(()=>Xp),multi:!0};function xD(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Xp=(()=>{class n extends Mr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=xD(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function bj(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=St(n)))(i||n)}}(),n.\u0275dir=U({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&x("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Be([Sj]),me]}),n})(),ID=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(xD(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(b(it),b(Qn),b(Xp,9))},n.\u0275dir=U({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Cj={provide:si,useExisting:Te(()=>Qp),multi:!0};function PD(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Qp=(()=>{class n extends Mr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);r.push(c)}}else{const s=i.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function wj(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=St(n)))(i||n)}}(),n.\u0275dir=U({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&x("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Be([Cj]),me]}),n})(),OD=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(PD(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(PD(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(b(it),b(Qn),b(Qp,9))},n.\u0275dir=U({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Oj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=Ye({imports:[[wD]]}),n})(),Rj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=Ye({imports:[Oj]}),n})();function Fj(n,t){if(1&n){const e=re();g(0,"div",1),S(1," Automatically buy up to "),g(2,"input",2),x("change",function(r){return H(e),M().autoBuyLandLimitChanged(r)}),m(),S(3," land (including fields) "),m()}if(2&n){const e=M();_(2),Re("value",e.homeService.autoBuyLandLimit)}}function Lj(n,t){if(1&n){const e=re();g(0,"div",1),S(1," Automatically plow up to "),g(2,"input",2),x("change",function(r){return H(e),M().autoFieldLimitChanged(r)}),m(),S(3," fields "),m()}if(2&n){const e=M();_(2),Re("value",e.homeService.autoFieldLimit)}}function Nj(n,t){if(1&n&&(g(0,"option",5),S(1),m()),2&n){const e=t.$implicit,i=M(2);Re("value",e.type),E("selected",i.homeService.autoBuyHomeLimit===e.type),_(1),we(" ",e.name," ")}}function Bj(n,t){if(1&n){const e=re();g(0,"div",1),S(1," Automatically upgrade your home up to a "),g(2,"select",3),x("change",function(r){return H(e),M().autoBuyHomeLimitChanged(r)}),I(3,Nj,2,3,"option",4),m()()}if(2&n){const e=M();_(3),E("ngForOf",e.homeService.homesList)}}function Vj(n,t){if(1&n){const e=re();g(0,"div",1)(1,"input",6),x("change",function(r){return H(e),M().useSpiritGemWeaponsChange(r)}),m(),g(2,"label",7),S(3,"Use spirit gem when crafting weapons"),m()()}if(2&n){const e=M();_(1),E("checked",e.inventoryService.useSpiritGemWeapons)}}function Hj(n,t){if(1&n){const e=re();g(0,"div",1)(1,"input",8),x("change",function(r){return H(e),M().useSpiritGemPotionsChange(r)}),m(),g(2,"label",9),S(3,"Use spirit gem when crafting potions"),m()()}if(2&n){const e=M();_(1),E("checked",e.inventoryService.useSpiritGemPotions)}}function jj(n,t){if(1&n){const e=re();g(0,"div"),S(1),J(2,"titlecase"),g(3,"button",12),x("click",function(){const o=H(e).$implicit;return M(2).inventoryService.unAutoSell(o)}),S(4,"Stop Selling"),m()()}if(2&n){const e=t.$implicit;_(1),we(" -",De(2,1,e)," ")}}function Uj(n,t){if(1&n&&(g(0,"div",1),S(1," Automatically Sold Items: "),g(2,"div",10),I(3,jj,5,3,"div",11),m()()),2&n){const e=M();_(3),E("ngForOf",e.inventoryService.autoSellItems)}}function qj(n,t){if(1&n){const e=re();g(0,"div"),S(1),J(2,"titlecase"),g(3,"button",12),x("click",function(){const o=H(e).$implicit;return M(2).inventoryService.unAutoUse(o)}),S(4,"Stop Using"),m()()}if(2&n){const e=t.$implicit;_(1),we(" -",De(2,1,e)," ")}}function $j(n,t){if(1&n&&(g(0,"div",1)(1,"span"),S(2,"Automatically Used Items:"),m(),g(3,"div",10),I(4,qj,5,3,"div",11),m()()),2&n){const e=M();_(4),E("ngForOf",e.inventoryService.autoUseItems)}}function zj(n,t){if(1&n){const e=re();g(0,"div"),S(1),J(2,"titlecase"),g(3,"input",2),x("change",function(r){const s=H(e).$implicit;return M(2).autoBalanceUseChanged(r,s)}),m(),S(4," then Sell "),g(5,"input",2),x("change",function(r){const s=H(e).$implicit;return M(2).autoBalanceSellChanged(r,s)}),m(),g(6,"button",12),x("click",function(){const o=H(e).$implicit;return M(2).inventoryService.unAutoBalance(o.name)}),S(7,"Stop Balancing"),m()()}if(2&n){const e=t.$implicit;_(1),we(" -",De(2,3,e.name)," Use "),_(2),Re("value",e.useNumber),_(2),Re("value",e.sellNumber)}}function Gj(n,t){if(1&n&&(g(0,"div",1)(1,"span"),S(2,"Automatically Balanced Items:"),m(),g(3,"div",10),I(4,zj,8,5,"div",11),m()()),2&n){const e=M();_(4),E("ngForOf",e.inventoryService.autoBalanceItems)}}let Wj=(()=>{class n{constructor(e,i){this.homeService=e,this.inventoryService=i}autoBuyLandLimitChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.autoBuyLandLimit=parseInt(e.target.value))}autoFieldLimitChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.autoFieldLimit=parseInt(e.target.value))}autoBuyHomeLimitChanged(e){e.target instanceof HTMLSelectElement&&(this.homeService.autoBuyHomeLimit=parseInt(e.target.value))}autoBalanceUseChanged(e,i){e.target instanceof HTMLInputElement&&(i.useNumber=parseInt(e.target.value))}autoBalanceSellChanged(e,i){e.target instanceof HTMLInputElement&&(i.sellNumber=parseInt(e.target.value))}useSpiritGemWeaponsChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useSpiritGemWeapons=e.target.checked)}useSpiritGemPotionsChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useSpiritGemPotions=e.target.checked)}}return n.\u0275fac=function(e){return new(e||n)(b(dt),b(K))},n.\u0275cmp=He({type:n,selectors:[["app-options-modal"]],decls:12,vars:8,consts:[["class","optionField",4,"ngIf"],[1,"optionField"],["type","number",1,"inputBox",3,"value","change"],["name","homeList","id","homeList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["type","checkbox","id","useSpiritGemWeapons",3,"checked","change"],["for","useSpiritGemWeapons"],["type","checkbox","id","useSpiritGemPotions",3,"checked","change"],["for","useSpiritGemPotions"],[1,"scrollingDiv"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(e,i){1&e&&(g(0,"div")(1,"span"),S(2,"Manuals Options"),m(),ie(3,"hr"),I(4,Fj,4,1,"div",0),I(5,Lj,4,1,"div",0),I(6,Bj,4,1,"div",0),I(7,Vj,4,1,"div",0),I(8,Hj,4,1,"div",0),I(9,Uj,4,1,"div",0),I(10,$j,5,1,"div",0),I(11,Gj,5,1,"div",0),m()),2&e&&(_(4),E("ngIf",i.homeService.autoBuyLandUnlocked),_(1),E("ngIf",i.homeService.autoFieldUnlocked),_(1),E("ngIf",i.homeService.autoBuyHomeUnlocked),_(1),E("ngIf",i.inventoryService.useSpiritGemUnlocked),_(1),E("ngIf",i.inventoryService.useSpiritGemUnlocked),_(1),E("ngIf",i.inventoryService.autoSellUnlocked),_(1),E("ngIf",i.inventoryService.autoUseUnlocked),_(1),E("ngIf",i.inventoryService.autoBalanceUnlocked))},directives:[tn,jt,ID,OD],pipes:[ti],styles:[".inputBox[_ngcontent-%COMP%]{width:70px}.optionField[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:2px}.scrollingDiv[_ngcontent-%COMP%]{max-height:200px;overflow:auto}"]}),n})();function Yj(n,t){if(1&n&&(g(0,"span"),S(1),J(2,"number"),m()),2&n){const e=M();_(1),Ln(" Next rank requires ",De(2,2,e.characterService.characterState.condenseSoulCoreCost)," spirituality and a grade ",e.storeService.soulCoreRank+12," monster core. ")}}function Kj(n,t){1&n&&(g(0,"span"),S(1," Max Rank "),m())}function Zj(n,t){if(1&n&&(g(0,"span"),S(1),J(2,"number"),m()),2&n){const e=M();_(1),Ln(" Next rank requires ",De(2,2,e.characterService.characterState.reinforceMeridiansCost)," spirituality and a grade ",e.storeService.meridianRank+16," monster core. ")}}function Xj(n,t){1&n&&(g(0,"span"),S(1," Max Rank "),m())}function Qj(n,t){if(1&n&&(g(0,"span"),S(1),J(2,"number"),m()),2&n){const e=M();_(1),Ln(" Next rank requires ",De(2,2,e.characterService.characterState.bloodlineCost)," spirituality and a ",e.storeService.bloodLineHomeRequirement.name,". ")}}function Jj(n,t){1&n&&(g(0,"span"),S(1," Max Rank "),m())}let eU=(()=>{class n{constructor(e,i,r,o,s){this.storeService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=s}}return n.\u0275fac=function(e){return new(e||n)(b(jo),b(Ue),b(dt),b(K),b(Hn))},n.\u0275cmp=He({type:n,selectors:[["app-ascension-store-modal"]],decls:38,vars:14,consts:[[3,"disabled","click"],[4,"ngIf"]],template:function(e,i){1&e&&(g(0,"div")(1,"span"),S(2,"Ascension Shop"),m(),ie(3,"hr"),g(4,"table")(5,"tr")(6,"td")(7,"button",0),x("click",function(){return i.storeService.condenseSoulCore()}),S(8,"Condense Soul Core"),m()(),g(9,"td"),S(10," End your current life, sacrifice all attributes and aptitudes, and permanently increase the amount of aptitude gained on each reincarnation. "),ie(11,"br"),S(12),ie(13,"br"),I(14,Yj,3,4,"span",1),I(15,Kj,2,0,"span",1),m()(),g(16,"tr")(17,"td")(18,"button",0),x("click",function(){return i.storeService.reinforceMeridians()}),S(19,"Reinforce Meridians"),m()(),g(20,"td"),S(21," End your current life, sacrifice all attributes and aptitudes, and permanently increase the power of your aptitudes when gaining attributes. "),ie(22,"br"),S(23),ie(24,"br"),I(25,Zj,3,4,"span",1),I(26,Xj,2,0,"span",1),m()(),g(27,"tr")(28,"td")(29,"button",0),x("click",function(){return i.storeService.upgradeBloodline()}),S(30),m()(),g(31,"td"),S(32),ie(33,"br"),S(34),ie(35,"br"),I(36,Qj,3,4,"span",1),I(37,Jj,2,0,"span",1),m()()()()),2&e&&(_(7),E("disabled",i.storeService.soulCoreRank>8),_(5),we(" Current Rank: ",i.storeService.soulCoreRank," "),_(2),E("ngIf",i.storeService.soulCoreRank<9),_(1),E("ngIf",i.storeService.soulCoreRank>=9),_(3),E("disabled",i.storeService.meridianRank>8),_(5),we(" Current Rank: ",i.storeService.meridianRank," "),_(2),E("ngIf",i.storeService.meridianRank<9),_(1),E("ngIf",i.storeService.meridianRank>=9),_(3),E("disabled",i.characterService.characterState.bloodlineRank>=4),_(1),Ne(i.storeService.bloodlineLabel),_(2),we(" ",i.storeService.bloodlineDescription," "),_(2),we(" Current Rank: ",i.characterService.characterState.bloodlineRank," "),_(2),E("ngIf",i.characterService.characterState.bloodlineRank<4),_(1),E("ngIf",i.characterService.characterState.bloodlineRank>=4))},directives:[tn],pipes:[Bi],styles:["table[_ngcontent-%COMP%]{border-spacing:8px}td[_ngcontent-%COMP%]{border-bottom:1px #cfaf88 solid}button[_ngcontent-%COMP%]{margin-top:2px}"]}),n})();const em="immortalityIdleGameState";let tm=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h,d,f){this.characterService=e,this.homeService=i,this.inventoryService=r,this.logService=o,this.reincarnationService=s,this.activityService=a,this.itemRepoService=l,this.battleService=c,this.followersService=u,this.mainLoopService=h,this.achievementService=d,this.impossibleTaskService=f,this.lastSaved=0,window.setInterval(this.savetoLocalStorage.bind(this),1e4)}savetoLocalStorage(){const e={achievements:this.achievementService.getProperties(),impossibleTasks:this.impossibleTaskService.getProperties(),character:this.characterService.characterState.getProperties(),inventory:this.inventoryService.getProperties(),home:this.homeService.getProperties(),activities:this.activityService.getProperties(),battles:this.battleService.getProperties(),followers:this.followersService.getProperties(),logs:this.logService.getProperties(),mainLoop:this.mainLoopService.getProperties()};window.localStorage.setItem(em,JSON.stringify(e)),this.lastSaved=(new Date).getTime(),this.logService.addLogMessage("Game saved","STANDARD","EVENT")}loadFromLocalStorage(){const e=window.localStorage.getItem(em);if(!e)return;const i=JSON.parse(e);this.achievementService.setProperties(i.achievements),this.impossibleTaskService.setProperties(i.impossibleTasks),this.characterService.characterState.setProperties(i.character),this.homeService.setProperties(i.home),this.inventoryService.setProperties(i.inventory);for(const r of this.inventoryService.itemStacks){if(null==r)continue;const o=this.itemRepoService.getItemById(r.item.id);o&&(r.item=o)}this.activityService.setProperties(i.activities),this.battleService.setProperties(i.battles),this.followersService.setProperties(i.followers),this.logService.setProperties(i.logs),this.mainLoopService.setProperties(i.mainLoop),this.logService.addLogMessage("Game loaded","STANDARD","EVENT")}hardReset(){window.localStorage.removeItem(em),this.characterService.characterState.reincarnate(),this.reincarnationService.reincarnate(),this.logService.reset()}rebirth(){this.characterService.forceRebirth=!0,this.mainLoopService.pause=!1}cheat(){this.logService.addLogMessage("You dirty cheater! You pressed the cheat button!","STANDARD","EVENT"),this.characterService.characterState.money+=1e10;for(let i in this.itemRepoService.items){let r=this.itemRepoService.items[i];"manual"==r.type&&r.use&&r.use()}const e=Object.keys(this.characterService.characterState.attributes);for(const i in e){let r=this.characterService.characterState.attributes[e[i]];r.aptitude+=1e7,r.value+=1e7}for(this.inventoryService.addItem(this.inventoryService.generateSpiritGem(25)),this.homeService.upgradeToNextHome();this.homeService.upgrading;)this.homeService.upgradeTick()}}return n.\u0275fac=function(e){return new(e||n)(y(Ue),y(dt),y(K),y(on),y(ji),y(ri),y(Hn),y(yr),y(cc),y(Cn),y(nm),y(ia))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nm=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h,d,f){this.mainLoopService=e,this.injector=i,this.logService=r,this.characterService=o,this.inventoryService=s,this.itemRepoService=a,this.storeService=l,this.battleService=c,this.homeService=u,this.activityService=h,this.followerService=d,this.impossibleTaskService=f,this.unlockedAchievements=[],this.achievements=[{name:"Bookworm",description:"You opened the manuals shop and unlocked the "+this.itemRepoService.items.restartActivityManual.name,check:()=>this.storeService.storeOpened,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.restartActivityManual)},unlocked:!1},{name:"Played a Bit",description:"You worked toward immortality for ten years across your lifetimes and unlocked the "+this.itemRepoService.items.fastPlayManual.name,check:()=>this.mainLoopService.totalTicks>3650,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fastPlayManual)},unlocked:!1},{name:"Basically an Expert",description:"You worked toward immortality for one hundred years across your lifetimes and unlocked the "+this.itemRepoService.items.fasterPlayManual.name,check:()=>this.mainLoopService.totalTicks>36500,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fasterPlayManual)},unlocked:!1},{name:"Persitent Reincarnator",description:"You lived 88 lives and unlocked the "+this.itemRepoService.items.fastestPlayManual.name,check:()=>this.characterService.characterState.totalLives>=88&&this.mainLoopService.totalTicks>36500,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fastestPlayManual)},unlocked:!1},{name:"Clang! Clang! Clang!",description:"You reached proficiency in blacksmithing and can now work as a Blacksmith without going through an apprenticeship (you still need the attributes for the Blacksmithing activity).",check:()=>this.activityService.completedApprenticeships.includes(oe.Blacksmithing),effect:()=>{},unlocked:!1},{name:"Bubble, Bubble",description:"You reached proficiency in alchemy and can now work as a Alchemist without going through an apprenticeship (you still need the attributes for the Alchemy activity).",check:()=>this.activityService.completedApprenticeships.includes(oe.Alchemy),effect:()=>{},unlocked:!1},{name:"Tanner",description:"You reached proficiency in leatherworking and can now work as a Leatherworker without going through an apprenticeship (you still need the attributes for the Leatherworking activity).",check:()=>this.activityService.completedApprenticeships.includes(oe.Leatherworking),effect:()=>{},unlocked:!1},{name:"Carpenter",description:"You reached proficiency in woodworking and can now work as a Woodworker without going through an apprenticeship (you still need the attributes for the Woodworking activity).",check:()=>this.activityService.completedApprenticeships.includes(oe.Woodworking),effect:()=>{},unlocked:!1},{name:"This Sparks Joy",description:"You used 888 items and unlocked the "+this.itemRepoService.items.autoUseManual.name,check:()=>this.inventoryService.lifetimeUsedItems>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoUseManual)},unlocked:!1},{name:"This Does Not Spark Joy",description:"You filled your entire inventory and unlocked the "+this.itemRepoService.items.autoSellManual.name,check:()=>0==this.inventoryService.openInventorySlots(),effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoSellManual)},unlocked:!1},{name:"Waster",description:"You throw away 10,000 items and unlocked the "+this.itemRepoService.items.betterStorageManual.name,check:()=>this.inventoryService.thrownAwayItems>=1e4,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.betterStorageManual)},unlocked:!1},{name:"Landfill",description:"You throw away 100,000 items and unlocked the "+this.itemRepoService.items.evenBetterStorageManual.name,check:()=>this.inventoryService.maxStackSize>=1e3&&this.inventoryService.thrownAwayItems>=1e5,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.evenBetterStorageManual)},unlocked:!1},{name:"Hoarder",description:"You really love holding vast amounts of materials and unlocked the "+this.itemRepoService.items.bestStorageManual.name,check:()=>this.inventoryService.maxStackSize>=1e4,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestStorageManual)},unlocked:!1},{name:"All Things In Moderation",description:"You sold and used 8888 items and unlocked the "+this.itemRepoService.items.autoBalanceManual.name,check:()=>this.inventoryService.lifetimeUsedItems>=8888&&this.inventoryService.lifetimeSoldItems>=8888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBalanceManual)},unlocked:!1},{name:"Land Rush",description:"You owned 520 plots of land and unlocked the "+this.itemRepoService.items.autoBuyLandManual.name,check:()=>this.homeService.land>=520,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyLandManual)},unlocked:!1},{name:"Real Housewives of Immortality",description:"You acquired a very fine home and unlocked the "+this.itemRepoService.items.autoBuyHomeManual.name,check:()=>this.homeService.homeValue>=Fe.CourtyardHouse,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyHomeManual)},unlocked:!1},{name:"Off to Ikea",description:"You filled all your furniture slots and unlocked the "+this.itemRepoService.items.autoBuyFurnitureManual.name,check:()=>null!=this.homeService.furniture.bathtub&&null!=this.homeService.furniture.bed&&null!=this.homeService.furniture.kitchen&&null!=this.homeService.furniture.workbench,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyFurnitureManual)},unlocked:!1},{name:"Time to Buy a Tractor",description:"You plowed 888 fields and unlocked the "+this.itemRepoService.items.autoFieldManual.name,check:()=>this.homeService.fields.length>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoFieldManual)},unlocked:!1},{name:"Guzzler",description:"You drank 88 potions and unlocked the "+this.itemRepoService.items.autoPotionManual.name,check:()=>this.inventoryService.lifetimePotionsUsed>=88,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoPotionManual)},unlocked:!1},{name:"Junkie",description:"You took 131 pills and unlocked the "+this.itemRepoService.items.autoPillManual.name,check:()=>this.inventoryService.lifetimePillsUsed>=131,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoPillManual)},unlocked:!1},{name:"Monster Slayer",description:"You killed 131 monsters and unlocked the "+this.itemRepoService.items.autoTroubleManual.name,check:()=>this.battleService.troubleKills>=131,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoTroubleManual)},unlocked:!1},{name:"Weapons Master",description:"You wielded powerful weapons of both metal and wood and unlocked the "+this.itemRepoService.items.autoWeaponMergeManual.name,check:()=>{var p,v,w,D,C,T,P,V;return!!((null===(v=null===(p=this.characterService.characterState.equipment)||void 0===p?void 0:p.rightHand)||void 0===v?void 0:v.weaponStats)&&(null===(D=null===(w=this.characterService.characterState.equipment)||void 0===w?void 0:w.rightHand)||void 0===D?void 0:D.weaponStats.baseDamage)>=131&&(null===(T=null===(C=this.characterService.characterState.equipment)||void 0===C?void 0:C.leftHand)||void 0===T?void 0:T.weaponStats)&&(null===(V=null===(P=this.characterService.characterState.equipment)||void 0===P?void 0:P.leftHand)||void 0===V?void 0:V.weaponStats.baseDamage)>=131)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoWeaponMergeManual)},unlocked:!1},{name:"Practically Invincible",description:"You equipped yourself with powerful armor and unlocked the "+this.itemRepoService.items.autoArmorMergeManual.name,check:()=>{var p,v,w,D,C,T,P,V,ve,_e,Xe,Qe,Je,qt,wt,ft;return!!((null===(v=null===(p=this.characterService.characterState.equipment)||void 0===p?void 0:p.head)||void 0===v?void 0:v.armorStats)&&(null===(D=null===(w=this.characterService.characterState.equipment)||void 0===w?void 0:w.head)||void 0===D?void 0:D.armorStats.defense)>=131&&(null===(T=null===(C=this.characterService.characterState.equipment)||void 0===C?void 0:C.body)||void 0===T?void 0:T.armorStats)&&(null===(V=null===(P=this.characterService.characterState.equipment)||void 0===P?void 0:P.body)||void 0===V?void 0:V.armorStats.defense)>=131&&(null===(_e=null===(ve=this.characterService.characterState.equipment)||void 0===ve?void 0:ve.legs)||void 0===_e?void 0:_e.armorStats)&&(null===(Qe=null===(Xe=this.characterService.characterState.equipment)||void 0===Xe?void 0:Xe.legs)||void 0===Qe?void 0:Qe.armorStats.defense)>=131&&(null===(qt=null===(Je=this.characterService.characterState.equipment)||void 0===Je?void 0:Je.feet)||void 0===qt?void 0:qt.armorStats)&&(null===(ft=null===(wt=this.characterService.characterState.equipment)||void 0===wt?void 0:wt.feet)||void 0===ft?void 0:ft.armorStats.defense)>=131)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoArmorMergeManual)},unlocked:!1},{name:"Gemologist",description:"You acquired 88 gems and unlocked the "+this.itemRepoService.items.useSpiritGemManual.name,check:()=>this.battleService.troubleKills>88,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.useSpiritGemManual)},unlocked:!1},{name:"Ingredient Snob",description:"You achieved a deep understanding of herbs and unlocked the "+this.itemRepoService.items.bestHerbsManual.name,check:()=>this.characterService.characterState.attributes.woodLore.value>1024&&this.characterService.characterState.attributes.waterLore.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestHerbsManual)},unlocked:!1},{name:"Wood Snob",description:"You achieved a deep understanding of wood and unlocked the "+this.itemRepoService.items.bestWoodManual.name,check:()=>this.characterService.characterState.attributes.woodLore.value>1024&&this.characterService.characterState.attributes.intelligence.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestWoodManual)},unlocked:!1},{name:"Ore Snob",description:"You achieved a deep understanding of metal ore and unlocked the "+this.itemRepoService.items.bestOreManual.name,check:()=>this.characterService.characterState.attributes.metalLore.value>1024&&this.characterService.characterState.attributes.earthLore.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestOreManual)},unlocked:!1},{name:"Grandpa's Old Tent",description:"You've gone through eight cycles of reincarnation and come to understand the value of grandfathers.",check:()=>this.characterService.characterState.totalLives>8,effect:()=>{this.homeService.grandfatherTent=!0},unlocked:!1},{name:"Paternal Pride",description:"You've worked 888 days of odd jobs and come to understand the value of fathers.",check:()=>this.activityService.oddJobDays>888,effect:()=>{this.characterService.fatherGift=!0},unlocked:!1},{name:"Maternal Love",description:"You've done 888 days of begging and come to understand the value of mothers.",check:()=>this.activityService.beggingDays>888,effect:()=>{this.inventoryService.motherGift=!0},unlocked:!1},{name:"Grandma's Stick",description:"You've developed spirituality and come to understand the value of grandmothers.",check:()=>this.characterService.characterState.attributes.spirituality.value>0,effect:()=>{this.inventoryService.grandmotherGift=!0},unlocked:!1},{name:"Weapons Grandmaster",description:"You wielded epic weapons of both metal and wood and unlocked the "+this.itemRepoService.items.bestWeaponManual.name,check:()=>{var p,v,w,D,C,T,P,V;return!!((null===(v=null===(p=this.characterService.characterState.equipment)||void 0===p?void 0:p.rightHand)||void 0===v?void 0:v.weaponStats)&&(null===(D=null===(w=this.characterService.characterState.equipment)||void 0===w?void 0:w.rightHand)||void 0===D?void 0:D.weaponStats.baseDamage)>=8888&&(null===(T=null===(C=this.characterService.characterState.equipment)||void 0===C?void 0:C.leftHand)||void 0===T?void 0:T.weaponStats)&&(null===(V=null===(P=this.characterService.characterState.equipment)||void 0===P?void 0:P.leftHand)||void 0===V?void 0:V.weaponStats.baseDamage)>=8888)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestWeaponManual)},unlocked:!1},{name:"Tank!",description:"You armored yourself with epic defenses and unlocked the "+this.itemRepoService.items.bestArmorManual.name,check:()=>{var p,v,w,D,C,T,P,V,ve,_e,Xe,Qe,Je,qt,wt,ft;return!!((null===(v=null===(p=this.characterService.characterState.equipment)||void 0===p?void 0:p.head)||void 0===v?void 0:v.armorStats)&&(null===(D=null===(w=this.characterService.characterState.equipment)||void 0===w?void 0:w.head)||void 0===D?void 0:D.armorStats.defense)>=8888&&(null===(T=null===(C=this.characterService.characterState.equipment)||void 0===C?void 0:C.body)||void 0===T?void 0:T.armorStats)&&(null===(V=null===(P=this.characterService.characterState.equipment)||void 0===P?void 0:P.body)||void 0===V?void 0:V.armorStats.defense)>=8888&&(null===(_e=null===(ve=this.characterService.characterState.equipment)||void 0===ve?void 0:ve.legs)||void 0===_e?void 0:_e.armorStats)&&(null===(Qe=null===(Xe=this.characterService.characterState.equipment)||void 0===Xe?void 0:Xe.legs)||void 0===Qe?void 0:Qe.armorStats.defense)>=8888&&(null===(qt=null===(Je=this.characterService.characterState.equipment)||void 0===Je?void 0:Je.feet)||void 0===qt?void 0:qt.armorStats)&&(null===(ft=null===(wt=this.characterService.characterState.equipment)||void 0===wt?void 0:wt.feet)||void 0===ft?void 0:ft.armorStats.defense)>=8888)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestArmorManual)},unlocked:!1},{name:"You're a wizard now.",description:"Enlightenment! You found a deep understanding of the dao with a high, balanced levels of lore in each of the five elements. Mana is now unlocked.",check:()=>{let p=.9*this.characterService.characterState.attributes.metalLore.value,v=1.1*this.characterService.characterState.attributes.metalLore.value;return p>1e3&&this.characterService.characterState.attributes.fireLore.value>=p&&this.characterService.characterState.attributes.fireLore.value<=v&&this.characterService.characterState.attributes.earthLore.value>=p&&this.characterService.characterState.attributes.earthLore.value<=v&&this.characterService.characterState.attributes.woodLore.value>=p&&this.characterService.characterState.attributes.woodLore.value<=v&&this.characterService.characterState.attributes.waterLore.value>=p&&this.characterService.characterState.attributes.waterLore.value<=v},effect:()=>{this.characterService.characterState.manaUnlocked=!0},unlocked:!1},{name:"Sect Leader",description:"You have become powerful enough that you may now start attracting followers.",check:()=>this.characterService.soulCoreRank()>=1&&this.characterService.meridianRank()>=1&&this.characterService.characterState.bloodlineRank>=1,effect:()=>{this.followerService.followersUnlocked=!0},unlocked:!1},{name:"Impossible",description:"You have achieved incredible power and are ready to begin taking on impossible tasks.",check:()=>this.characterService.soulCoreRank()>=4&&this.characterService.meridianRank()>=4&&this.characterService.characterState.bloodlineRank>=4,effect:()=>{this.impossibleTaskService.impossibleTasksUnlocked=!0},unlocked:!1},{name:"Harmony of Mind and Body",description:"You have balanced your powerful mind and body and unlocked the ability to use your mana to strike down your enemies.",check:()=>{let p=.9*this.characterService.characterState.attributes.strength.value,v=1.1*this.characterService.characterState.attributes.strength.value;return this.characterService.characterState.manaUnlocked&&p>1e6&&this.characterService.characterState.attributes.speed.value>=p&&this.characterService.characterState.attributes.speed.value<=v&&this.characterService.characterState.attributes.toughness.value>=p&&this.characterService.characterState.attributes.toughness.value<=v&&this.characterService.characterState.attributes.charisma.value>=p&&this.characterService.characterState.attributes.charisma.value<=v&&this.characterService.characterState.attributes.intelligence.value>=p&&this.characterService.characterState.attributes.intelligence.value<=v},effect:()=>{this.battleService.manaAttackUnlocked=!0},unlocked:!1},{name:"Unity of Spirit, Mind, and Body",description:"You have balanced your powerful spirit with your mind and body. You unlocked the ability to use your mana to protect yourself.",check:()=>{let p=.9*this.characterService.characterState.attributes.strength.value,v=1.1*this.characterService.characterState.attributes.strength.value;return this.characterService.characterState.manaUnlocked&&p>1e6&&this.characterService.characterState.attributes.spirituality.value>=p&&this.characterService.characterState.attributes.spirituality.value<=v&&this.characterService.characterState.attributes.speed.value>=p&&this.characterService.characterState.attributes.speed.value<=v&&this.characterService.characterState.attributes.toughness.value>=p&&this.characterService.characterState.attributes.toughness.value<=v&&this.characterService.characterState.attributes.charisma.value>=p&&this.characterService.characterState.attributes.charisma.value<=v&&this.characterService.characterState.attributes.intelligence.value>=p&&this.characterService.characterState.attributes.intelligence.value<=v},effect:()=>{this.battleService.manaShieldUnlocked=!0},unlocked:!1}],this.mainLoopService.longTickSubject.subscribe(()=>{for(let p of this.achievements)this.unlockedAchievements.includes(p.name)||p.check()&&this.unlockAchievement(p,!0)})}unlockAchievement(e,i){i&&(this.unlockedAchievements.push(e.name),this.logService.addLogMessage(e.description,"STANDARD","STORY"),this.gameStateService||(this.gameStateService=this.injector.get(tm)),this.gameStateService.savetoLocalStorage()),e.effect(),e.unlocked=!0}getProperties(){return{unlockedAchievements:this.unlockedAchievements}}setProperties(e){this.unlockedAchievements=e.unlockedAchievements||[];for(let i of this.achievements)this.unlockedAchievements.includes(i.name)&&this.unlockAchievement(i,!1)}}return n.\u0275fac=function(e){return new(e||n)(y(Cn),y(Ie),y(on),y(Ue),y(K),y(Hn),y(jo),y(yr),y(dt),y(ri),y(cc),y(ia))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tU(n,t){1&n&&ie(0,"div",3)}function nU(n,t){1&n&&Yh(0)}function iU(n,t){if(1&n&&(g(0,"div"),I(1,nU,1,0,"ng-container",4),m()),2&n){const e=M();_(1),E("ngTemplateOutlet",e.value)}}function rU(n,t){1&n&&ie(0,"div",5),2&n&&E("innerHTML",M().value,qg)}let oU=(()=>{class n{constructor(e,i){this.elementRef=e,this.renderer=i,this._show=!1,this.events=new Ae}transitionEnd(e){this.show&&this.events.emit({type:"shown"})}set show(e){e&&this.setPosition(),this._show=this.hostClassShow=e}get show(){return this._show}get placement(){return this.data.options.placement}get autoPlacement(){return this.data.options.autoPlacement}get element(){return this.data.element}get elementPosition(){return this.data.elementPosition}get options(){return this.data.options}get value(){return this.data.value}get tooltipOffset(){return Number(this.data.options.offset)}get isThemeLight(){return"light"===this.options.theme}ngOnInit(){this.setCustomClass(),this.setStyles()}setPosition(){if(this.setHostStyle(this.placement))this.setPlacementClass(this.placement);else{const e=["top","right","bottom","left"];let i;for(const r of e)if(this.setHostStyle(r))return this.setPlacementClass(r),void(i=!0);i||(this.setHostStyle(this.placement,!0),this.setPlacementClass(this.placement))}}setPlacementClass(e){this.renderer.addClass(this.elementRef.nativeElement,"tooltip-"+e)}setHostStyle(e,i=!1){const r=this.element instanceof SVGElement,o=this.elementRef.nativeElement,s=!this.elementPosition.right;let a=r?this.element.getBoundingClientRect().height:this.element.offsetHeight,l=r?this.element.getBoundingClientRect().width:this.element.offsetWidth;const c=o.clientHeight,u=o.clientWidth,h=window.pageYOffset;let d,f;if(s&&(a=0,l=0),"top"===e&&(d=this.elementPosition.top+h-(c+this.tooltipOffset)),"bottom"===e&&(d=this.elementPosition.top+h+a+this.tooltipOffset),("top"===e||"bottom"===e)&&(f=this.elementPosition.left+l/2-u/2),"left"===e&&(f=this.elementPosition.left-u-this.tooltipOffset),"right"===e&&(f=this.elementPosition.left+l+this.tooltipOffset),("left"===e||"right"===e)&&(d=this.elementPosition.top+h+a/2-o.clientHeight/2),this.autoPlacement&&!i){const v=d+c,w=f,D=f+u,C=window.innerHeight+h,T=document.body.clientWidth;if(d<0||v>C||w<0||D>T)return!1}return this.hostStyleTop=d+"px",this.hostStyleLeft=f+"px",!0}setZIndex(){0!==this.options.zIndex&&(this.hostStyleZIndex=this.options.zIndex)}setPointerEvents(){this.options.pointerEvents&&(this.hostStylePointerEvents=this.options.pointerEvents)}setCustomClass(){this.options.tooltipClass&&this.options.tooltipClass.split(" ").forEach(e=>{this.renderer.addClass(this.elementRef.nativeElement,e)})}setAnimationDuration(){Number(this.options.animationDuration)!=this.options.animationDurationDefault&&(this.hostStyleTransition="opacity "+this.options.animationDuration+"ms")}setStyles(){this.setZIndex(),this.setPointerEvents(),this.setAnimationDuration(),this.hostClassShadow=this.options.shadow,this.hostClassLight=this.isThemeLight,this.hostStyleMaxWidth=this.options.maxWidth,this.hostStyleWidth=this.options.width?this.options.width:""}}return n.\u0275fac=function(e){return new(e||n)(b(it),b(Qn))},n.\u0275cmp=He({type:n,selectors:[["tooltip"]],hostAttrs:[1,"tooltip"],hostVars:20,hostBindings:function(e,i){1&e&&x("transitionend",function(o){return i.transitionEnd(o)}),2&e&&(ed("top",i.hostStyleTop)("left",i.hostStyleLeft)("z-index",i.hostStyleZIndex)("transition",i.hostStyleTransition)("width",i.hostStyleWidth)("max-width",i.hostStyleMaxWidth)("pointer-events",i.hostStylePointerEvents),So("tooltip-show",i.hostClassShow)("tooltip-shadow",i.hostClassShadow)("tooltip-light",i.hostClassLight))},inputs:{data:"data",show:"show"},decls:4,vars:3,consts:[["class","tooltip-arrow",4,"ngIf"],[4,"ngIf","ngIfElse"],["htmlOrStringTemplate",""],[1,"tooltip-arrow"],[4,"ngTemplateOutlet"],[3,"innerHTML"]],template:function(e,i){if(1&e&&(I(0,tU,1,0,"div",0),I(1,iU,2,1,"div",1),I(2,rU,1,1,"ng-template",null,2,_S)),2&e){const r=function Ay(n){return Nr(function kM(){return Y.lFrame.contextLView}(),20+n)}(3);E("ngIf",i.isThemeLight),_(1),E("ngIf","template"===i.options.contentType)("ngIfElse",r)}},directives:[tn,bb],styles:['[_nghost-%COMP%]{max-width:200px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 8px;position:absolute;pointer-events:none;z-index:1000;display:block;opacity:0;transition:opacity .3s;top:0;left:0}.tooltip-show[_nghost-%COMP%]{opacity:1}.tooltip-shadow[_nghost-%COMP%]{box-shadow:0 7px 15px -5px #0006}.tooltip-light.tooltip-shadow[_nghost-%COMP%]{box-shadow:0 5px 15px -5px #0006}.tooltip[_nghost-%COMP%]:after{content:"";position:absolute;border-style:solid}.tooltip-top[_nghost-%COMP%]:after{top:100%;left:50%;margin-left:-5px;border-width:5px;border-color:#000 #0000 #0000}.tooltip-bottom[_nghost-%COMP%]:after{bottom:100%;left:50%;margin-left:-5px;border-width:5px;border-color:#0000 #0000 #000}.tooltip-left[_nghost-%COMP%]:after{top:50%;left:100%;margin-top:-5px;border-width:5px;border-color:#0000 #0000 #0000 #000}.tooltip-right[_nghost-%COMP%]:after{top:50%;right:100%;margin-top:-5px;border-width:5px;border-color:#0000 #000 #0000 #0000}.tooltip-light[_nghost-%COMP%]:after{display:none}.tooltip-light[_nghost-%COMP%]{border:1px solid #0000000f;background-color:#fff;color:#000}.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;transform:rotate(135deg);background-color:#00000012}.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{background-color:#fff;content:"";display:block;position:absolute;width:10px;height:10px}.tooltip-top.tooltip-light[_nghost-%COMP%]{margin-top:-2px}.tooltip-top.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:100%;left:50%;margin-top:-4px;margin-left:-5px;background:linear-gradient(to bottom left,#00000012 50%,#0000 0)}.tooltip-top.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:1px;right:1px}.tooltip-bottom.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{bottom:100%;left:50%;margin-bottom:-4px;margin-left:-5px;background:linear-gradient(to top right,#0000001a 50%,#0000 0)}.tooltip-bottom.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:-1px;right:-1px}.tooltip-left.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:50%;left:100%;margin-top:-5px;margin-left:-4px;background:linear-gradient(to bottom right,#00000012 50%,#0000 0)}.tooltip-left.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:1px;right:-1px}.tooltip-right.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:50%;right:100%;margin-top:-5px;margin-right:-4px;background:linear-gradient(to top left,#00000012 50%,#0000 0)}.tooltip-right.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:-1px;right:1px}']}),n})();const qD=new B("TooltipOptions"),$D={placement:"top",autoPlacement:!0,contentType:"string",showDelay:0,hideDelay:300,hideDelayMobile:0,hideDelayTouchscreen:0,zIndex:0,animationDuration:300,animationDurationDefault:300,trigger:"hover",tooltipClass:"",display:!0,displayMobile:!0,displayTouchscreen:!0,shadow:!0,theme:"dark",offset:8,maxWidth:"",id:!1,hideDelayAfterClick:2e3},zD={delay:"showDelay","show-delay":"showDelay","hide-delay":"hideDelay","hide-delay-mobile":"hideDelayTouchscreen",hideDelayMobile:"hideDelayTouchscreen","z-index":"zIndex","animation-duration":"animationDuration","animation-duration-default":"animationDurationDefault","tooltip-class":"tooltipClass","display-mobile":"displayTouchscreen",displayMobile:"displayTouchscreen","max-width":"maxWidth"};let Ut=(()=>{class n{constructor(e,i,r,o,s){this.initOptions=e,this.elementRef=i,this.componentFactoryResolver=r,this.appRef=o,this.injector=s,this._options={},this._contentType="string",this.events=new Ae}set options(e){e&&$D&&(this._options=e)}get options(){return this._options}set contentTypeBackwardCompatibility(e){e&&(this._contentType=e)}set contentType(e){e&&(this._contentType=e)}get contentType(){return this._contentType}set zIndexBackwardCompatibility(e){e&&(this._zIndex=e)}set zIndex(e){e&&(this._zIndex=e)}get zIndex(){return this._zIndex}set animationDurationBackwardCompatibility(e){e&&(this._animationDuration=e)}set animationDuration(e){e&&(this._animationDuration=e)}get animationDuration(){return this._animationDuration}set tooltipClassBackwardCompatibility(e){e&&(this._tooltipClass=e)}set tooltipClass(e){e&&(this._tooltipClass=e)}get tooltipClass(){return this._tooltipClass}set maxWidthBackwardCompatibility(e){e&&(this._maxWidth=e)}set maxWidth(e){e&&(this._maxWidth=e)}get maxWidth(){return this._maxWidth}set showDelayBackwardCompatibility(e){e&&(this._showDelay=e)}set showDelay(e){e&&(this._showDelay=e)}get showDelay(){return this._showDelay}set hideDelayBackwardCompatibility(e){e&&(this._hideDelay=e)}set hideDelay(e){e&&(this._hideDelay=e)}get hideDelay(){return this._hideDelay}get isTooltipDestroyed(){return this.componentRef&&this.componentRef.hostView.destroyed}get destroyDelay(){return this._destroyDelay?this._destroyDelay:Number(this.getHideDelay())+Number(this.options.animationDuration)}set destroyDelay(e){this._destroyDelay=e}get tooltipPosition(){return this.options.position?this.options.position:this.elementPosition}onMouseEnter(){0!=this.isDisplayOnHover&&this.show()}onMouseLeave(){"hover"===this.options.trigger&&this.destroyTooltip()}onClick(){0!=this.isDisplayOnClick&&(this.show(),this.hideAfterClickTimeoutId=window.setTimeout(()=>{this.destroyTooltip()},this.options.hideDelayAfterClick))}ngOnInit(){}ngOnChanges(e){this.initOptions=this.renameProperties(this.initOptions);let i=this.getProperties(e);i=this.renameProperties(i),this.applyOptionsDefault($D,i)}ngOnDestroy(){this.destroyTooltip({fast:!0}),this.componentSubscribe&&this.componentSubscribe.unsubscribe()}getShowDelay(){return this.options.showDelay}getHideDelay(){return this.isTouchScreen?this.options.hideDelayTouchscreen:this.options.hideDelay}getProperties(e){let i={},r={},o={};for(var s in e)"options"!==s&&"tooltipValue"!==s&&(i[s]=e[s].currentValue),"options"===s&&(r=e[s].currentValue);return o=Object.assign({},r,i),o}renameProperties(e){for(var i in e)zD[i]&&(e[zD[i]]=e[i],delete e[i]);return e}getElementPosition(){this.elementPosition=this.elementRef.nativeElement.getBoundingClientRect()}createTooltip(){this.clearTimeouts(),this.getElementPosition(),this.createTimeoutId=window.setTimeout(()=>{this.appendComponentToBody(oU)},this.getShowDelay()),this.showTimeoutId=window.setTimeout(()=>{this.showTooltipElem()},this.getShowDelay())}destroyTooltip(e={fast:!1}){this.clearTimeouts(),0==this.isTooltipDestroyed&&(this.hideTimeoutId=window.setTimeout(()=>{this.hideTooltip()},e.fast?0:this.getHideDelay()),this.destroyTimeoutId=window.setTimeout(()=>{!this.componentRef||this.isTooltipDestroyed||(this.appRef.detachView(this.componentRef.hostView),this.componentRef.destroy(),this.events.emit({type:"hidden",position:this.tooltipPosition}))},e.fast?0:this.destroyDelay))}showTooltipElem(){this.clearTimeouts(),this.componentRef.instance.show=!0,this.events.emit({type:"show",position:this.tooltipPosition})}hideTooltip(){!this.componentRef||this.isTooltipDestroyed||(this.componentRef.instance.show=!1,this.events.emit({type:"hide",position:this.tooltipPosition}))}appendComponentToBody(e,i={}){this.componentRef=this.componentFactoryResolver.resolveComponentFactory(e).create(this.injector),this.componentRef.instance.data={value:this.tooltipValue,element:this.elementRef.nativeElement,elementPosition:this.tooltipPosition,options:this.options},this.appRef.attachView(this.componentRef.hostView),document.body.appendChild(this.componentRef.hostView.rootNodes[0]),this.componentSubscribe=this.componentRef.instance.events.subscribe(o=>{this.handleEvents(o)})}clearTimeouts(){this.createTimeoutId&&clearTimeout(this.createTimeoutId),this.showTimeoutId&&clearTimeout(this.showTimeoutId),this.hideTimeoutId&&clearTimeout(this.hideTimeoutId),this.destroyTimeoutId&&clearTimeout(this.destroyTimeoutId)}get isDisplayOnHover(){return!(0==this.options.display||0==this.options.displayTouchscreen&&this.isTouchScreen||"hover"!==this.options.trigger)}get isDisplayOnClick(){return!(0==this.options.display||0==this.options.displayTouchscreen&&this.isTouchScreen||"click"!=this.options.trigger)}get isTouchScreen(){var e=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window)return!0;var r=["(",e.join("touch-enabled),("),"heartz",")"].join("");return window.matchMedia(r).matches}applyOptionsDefault(e,i){this.options=Object.assign({},e,this.initOptions||{},this.options,i)}handleEvents(e){"shown"===e.type&&this.events.emit({type:"shown",position:this.tooltipPosition})}show(){!this.tooltipValue||(!this.componentRef||this.isTooltipDestroyed?this.createTooltip():this.isTooltipDestroyed||this.showTooltipElem())}hide(){this.destroyTooltip()}}return n.\u0275fac=function(e){return new(e||n)(b(qD,8),b(it),b(Li),b(Fs),b(Ie))},n.\u0275dir=U({type:n,selectors:[["","tooltip",""]],hostBindings:function(e,i){1&e&&x("focusin",function(){return i.onMouseEnter()})("mouseenter",function(){return i.onMouseEnter()})("focusout",function(){return i.onMouseLeave()})("mouseleave",function(){return i.onMouseLeave()})("click",function(){return i.onClick()})},inputs:{options:"options",tooltipValue:["tooltip","tooltipValue"],placement:"placement",autoPlacement:"autoPlacement",contentTypeBackwardCompatibility:["content-type","contentTypeBackwardCompatibility"],contentType:"contentType",hideDelayMobile:["hide-delay-mobile","hideDelayMobile"],hideDelayTouchscreen:"hideDelayTouchscreen",zIndexBackwardCompatibility:["z-index","zIndexBackwardCompatibility"],zIndex:"zIndex",animationDurationBackwardCompatibility:["animation-duration","animationDurationBackwardCompatibility"],animationDuration:"animationDuration",trigger:"trigger",tooltipClassBackwardCompatibility:["tooltip-class","tooltipClassBackwardCompatibility"],tooltipClass:"tooltipClass",display:"display",displayMobile:["display-mobile","displayMobile"],displayTouchscreen:"displayTouchscreen",shadow:"shadow",theme:"theme",offset:"offset",width:"width",maxWidthBackwardCompatibility:["max-width","maxWidthBackwardCompatibility"],maxWidth:"maxWidth",id:"id",showDelayBackwardCompatibility:["show-delay","showDelayBackwardCompatibility"],showDelay:"showDelay",hideDelayBackwardCompatibility:["hide-delay","hideDelayBackwardCompatibility"],hideDelay:"hideDelay",hideDelayAfterClick:"hideDelayAfterClick",pointerEvents:"pointerEvents",position:"position"},outputs:{events:"events"},exportAs:["tooltip"],features:[Yt]}),n})(),sU=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:qD,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=Ye({imports:[[rf]]}),n})();function aU(n,t){if(1&n&&(g(0,"div",4),S(1),m()),2&n){const e=M().$implicit;Re("tooltip",e.description),_(1),we(" ",e.name," ")}}function lU(n,t){1&n&&(g(0,"div",5),S(1," ? "),m())}function cU(n,t){if(1&n&&(g(0,"div"),I(1,aU,2,2,"div",2),I(2,lU,2,0,"div",3),m()),2&n){const e=t.$implicit;_(1),E("ngIf",e.unlocked),_(1),E("ngIf",!e.unlocked)}}let uU=(()=>{class n{constructor(e){this.achievementService=e}}return n.\u0275fac=function(e){return new(e||n)(b(nm))},n.\u0275cmp=He({type:n,selectors:[["app-achievement-panel"]],decls:6,vars:1,consts:[[1,"achievementGrid"],[4,"ngFor","ngForOf"],["class","itemSlot",3,"tooltip",4,"ngIf"],["class","itemSlot",4,"ngIf"],[1,"itemSlot",3,"tooltip"],[1,"itemSlot"]],template:function(e,i){1&e&&(g(0,"div")(1,"h3"),S(2,"Achievements"),m(),ie(3,"hr"),g(4,"div",0),I(5,cU,3,2,"div",1),m()()),2&e&&(_(5),E("ngForOf",i.achievementService.achievements))},directives:[jt,tn,Ut],styles:[".itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;font-size:small;display:table-cell;vertical-align:middle;cursor:default}.achievementGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;border-spacing:4px;max-height:600px}.itemSlot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{line-height:12px}.iconButton[_ngcontent-%COMP%]{float:right}"]}),n})();class hU{}class Wi{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Wi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Wi;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Wi?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class dU{encodeKey(t){return GD(t)}encodeValue(t){return GD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const pU=/%(\d[a-f0-9])/gi,mU={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function GD(n){return encodeURIComponent(n).replace(pU,(t,e)=>{var i;return null!==(i=mU[e])&&void 0!==i?i:t})}function WD(n){return`${n}`}class Yi{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new dU,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function fU(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Yi({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(WD(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(WD(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class gU{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function YD(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function KD(n){return"undefined"!=typeof Blob&&n instanceof Blob}function ZD(n){return"undefined"!=typeof FormData&&n instanceof FormData}class ga{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function vU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Wi),this.context||(this.context=new gU),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Yi,this.urlWithParams=e}serializeBody(){return null===this.body?null:YD(this.body)||KD(this.body)||ZD(this.body)||function yU(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Yi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ZD(this.body)?null:KD(this.body)?this.body.type||null:YD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Yi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,u=t.params||this.params;const h=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((d,f)=>d.set(f,t.setHeaders[f]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((d,f)=>d.set(f,t.setParams[f]),u)),new ga(i,r,s,{params:u,headers:c,context:h,reportProgress:l,responseType:o,withCredentials:a})}}var Ct=(()=>((Ct=Ct||{})[Ct.Sent=0]="Sent",Ct[Ct.UploadProgress=1]="UploadProgress",Ct[Ct.ResponseHeader=2]="ResponseHeader",Ct[Ct.DownloadProgress=3]="DownloadProgress",Ct[Ct.Response=4]="Response",Ct[Ct.User=5]="User",Ct))();class im extends class _U{constructor(t,e=200,i="OK"){this.headers=t.headers||new Wi,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=Ct.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new im({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function rm(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let QD=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof ga)o=e;else{let l,c;l=r.headers instanceof Wi?r.headers:new Wi(r.headers),r.params&&(c=r.params instanceof Yi?r.params:new Yi({fromObject:r.params})),o=new ga(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=$(o).pipe(ko(l=>this.handler.handle(l)));if(e instanceof ga||"events"===r.observe)return s;const a=s.pipe(nn(l=>l instanceof im));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(de(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(de(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(de(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(de(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Yi).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,rm(r,i))}post(e,i,r={}){return this.request("POST",e,rm(r,i))}put(e,i,r={}){return this.request("PUT",e,rm(r,i))}}return n.\u0275fac=function(e){return new(e||n)(y(hU))},n.\u0275prov=O({token:n,factory:n.\u0275fac}),n})();const bU=["*"];let Wc;function va(n){var t;return(null===(t=function CU(){if(void 0===Wc&&(Wc=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(Wc=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Wc}())||void 0===t?void 0:t.createHTML(n))||n}function JD(n){return Error(`Unable to find icon with the name "${n}"`)}function eE(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function tE(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Ar{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let Yc=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Ar(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const s=this._sanitizer.sanitize(ye.HTML,r);if(!s)throw tE(r);const a=va(s);return this._addSvgIconConfig(e,i,new Ar("",a,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Ar(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(ye.HTML,i);if(!o)throw tE(i);const s=va(o);return this._addSvgIconSetConfig(e,new Ar("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(ye.RESOURCE_URL,e);if(!i)throw eE(e);const r=this._cachedIconsByUrl.get(i);return r?$(Kc(r)):this._loadSvgIconFromConfig(new Ar(e,null)).pipe(At(o=>this._cachedIconsByUrl.set(i,o)),de(o=>Kc(o)))}getNamedSvgIcon(e,i=""){const r=nE(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):qs(JD(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?$(Kc(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(de(i=>Kc(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?$(r):function Rw(...n){const t=km(n),{args:e,keys:i}=jb(n),r=new Ve(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let h=!1;$t(e[u]).subscribe($e(o,d=>{h||(h=!0,c--),a[u]=d},()=>l--,void 0,()=>{(!l||!h)&&(c||o.next(i?Ub(i,a):a),o.complete())}))}});return t?r.pipe(ff(t)):r}(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Si(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(ye.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),$(null)})))).pipe(de(()=>{const s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw JD(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(At(i=>e.svgText=i),de(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?$(null):this._fetchIcon(e).pipe(At(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(va("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(va("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:o}=e,s=null!==(i=null==o?void 0:o.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function wU(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const a=this._sanitizer.sanitize(ye.RESOURCE_URL,r);if(!a)throw eE(r);const l=this._inProgressUrlFetches.get(a);if(l)return l;const c=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(de(u=>va(u)),Kb(()=>this._inProgressUrlFetches.delete(a)),Pm());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(nE(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return EU(o)?new Ar(o.url,null,o.options):new Ar(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(y(QD,8),y(df),y(ce,8),y(Pi))},n.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Kc(n){return n.cloneNode(!0)}function nE(n,t){return n+":"+t}function EU(n){return!(!n.url||!n.options)}const MU=vV(class{constructor(n){this._elementRef=n}}),kU=new B("mat-icon-location",{providedIn:"root",factory:function AU(){const n=Ka(ce),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),iE=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],TU=iE.map(n=>`[${n}]`).join(", "),xU=/^url\(['"]?#(.*?)['"]?\)$/;let ln=(()=>{class n extends MU{constructor(e,i,r,o,s){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._currentIconFetch=yt.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=function NN(n){return null!=n&&"false"!=`${n}`}(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(TU),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)iE.forEach(s=>{const a=i[o],l=a.getAttribute(s),c=l?l.match(xU):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:s,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(jn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(b(it),b(Yc),Ur("aria-hidden"),b(kU),b(Pi))},n.\u0275cmp=He({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(gn("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),So("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[me],ngContentSelectors:bU,decls:1,vars:0,template:function(e,i){1&e&&(function Uy(n){const t=k()[16][6];if(!t.projection){const i=t.projection=as(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?P1(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}(),function qy(n,t=0,e){const i=k(),r=fe(),o=Jr(r,20+n,16,null,e||null);null===o.projection&&(o.projection=t),ku(),64!=(64&o.flags)&&function PA(n,t,e){gv(t[11],0,t,e,sv(n,e,t),uv(e.parent||t[6],e,t))}(r,i,o)}(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),rE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n}),n.\u0275inj=Ye({imports:[[vc],vc]}),n})();function IU(n,t){if(1&n&&(g(0,"span")(1,"mat-icon",3),S(2," help "),m(),S(3),m()),2&n){const e=M().$implicit;_(1),Re("tooltip",e.description),_(2),we(" ",e.name," ")}}function PU(n,t){1&n&&(g(0,"span"),S(1," ???????????? "),m())}function OU(n,t){if(1&n){const e=re();g(0,"span")(1,"button",4),x("click",function(){return H(e),M(2).impossibleTaskService.stopTask()}),S(2,"Stop"),m()()}}function RU(n,t){if(1&n){const e=re();g(0,"span")(1,"button",4),x("click",function(){return H(e),M(2).impossibleTaskService.startTask()}),S(2,"Start"),m()()}}function FU(n,t){if(1&n&&(g(0,"tr")(1,"td"),I(2,IU,4,2,"span",1),I(3,PU,2,0,"span",1),m(),g(4,"td")(5,"progress",2),ie(6,"div"),m()(),g(7,"td"),I(8,OU,3,0,"span",1),I(9,RU,3,0,"span",1),m()()),2&n){const e=t.$implicit,i=M();_(2),E("ngIf",i.impossibleTaskService.nextTask<=e.taskType),_(1),E("ngIf",i.impossibleTaskService.nextTask>e.taskType),_(2),E("value",e.progress)("max",e.progressRequired),_(3),E("ngIf",i.impossibleTaskService.activeTaskIndex==e.taskType),_(1),E("ngIf",-1==i.impossibleTaskService.activeTaskIndex&&i.impossibleTaskService.nextTask==e.taskType)}}let LU=(()=>{class n{constructor(e){this.impossibleTaskService=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(b(ia))},n.\u0275cmp=He({type:n,selectors:[["app-impossible-task-panel"]],decls:7,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"status-progress",3,"value","max"],[3,"tooltip"],[3,"click"]],template:function(e,i){1&e&&(g(0,"div")(1,"h3"),S(2,"Impossible Tasks"),m(),ie(3,"hr"),g(4,"div")(5,"table"),I(6,FU,10,6,"tr",0),m()()()),2&e&&(_(6),E("ngForOf",i.impossibleTaskService.tasks))},directives:[jt,tn,ln,Ut],styles:[""]}),n})();const ya=function(n){return{iconActive:n}};function NU(n,t){if(1&n){const e=re();g(0,"mat-icon",13),x("click",function(){return H(e),M().fastClick()}),S(1," fast_forward "),m()}if(2&n){const e=M();E("ngClass",en(1,ya,5===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function BU(n,t){if(1&n){const e=re();g(0,"mat-icon",14),x("click",function(){return H(e),M().fasterClick()}),S(1," skip_next "),m()}if(2&n){const e=M();E("ngClass",en(1,ya,2===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function VU(n,t){if(1&n){const e=re();g(0,"mat-icon",15),x("click",function(){return H(e),M().fastestClick()}),S(1," bolt "),m()}if(2&n){const e=M();E("ngClass",en(1,ya,1===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function HU(n,t){if(1&n){const e=re();g(0,"input",16),x("change",function(r){return H(e),M().pauseOnDeath(r)}),m()}2&n&&E("checked",M().activityService.pauseOnDeath)}function jU(n,t){1&n&&(g(0,"label",17),S(1,"Pause on Death"),m())}function UU(n,t){if(1&n&&(g(0,"h6"),S(1),J(2,"number"),m()),2&n){const e=M();_(1),we("Your perception of time is accelerated by your offline time. ",Vt(2,1,e.mainLoopService.bankedTicks,"1.0-0")," time ticks left.")}}function qU(n,t){if(1&n){const e=re();g(0,"tr",18),x("dragover",function(r){return H(e),M().allowDrop(r)})("drop",function(r){const s=H(e).index;return M().drop(s,r)})("dragstart",function(r){const s=H(e).index;return M().drag(s,r)}),g(1,"td"),S(2),m(),g(3,"td"),ie(4,"progress",19),m(),g(5,"td")(6,"mat-icon",20),x("click",function(){const o=H(e).$implicit;return M().onPlusClick(o)}),S(7,"add"),m(),g(8,"mat-icon",21),x("click",function(){const o=H(e).$implicit;return M().onMinusClick(o)}),S(9,"remove"),m(),g(10,"mat-icon",22),x("click",function(){const o=H(e).$implicit;return M().onRemoveClick(o)}),S(11,"clear"),m()()()}if(2&n){const e=t.$implicit,i=t.index,r=M();_(2),ml("",r.activityService.getActivityByType(e.activity).name[r.activityService.getActivityByType(e.activity).level]," (",e.repeatTimes," ",1===e.repeatTimes?"day":"days",")"),_(2),E("value",e===r.currentLoopEntry?r.currentTickCount:i<r.currentIndex?e.repeatTimes:0)("max",e.repeatTimes)}}function $U(n,t){if(1&n){const e=re();g(0,"tr")(1,"td"),S(2),m(),g(3,"td"),ie(4,"progress",25),m(),g(5,"td")(6,"mat-icon",22),x("click",function(){return H(e),M(2).removeSpiritActivity()}),S(7,"clear"),m()()()}if(2&n){const e=M(2);_(2),Ne(e.activityService.getActivityByType(e.activityService.spiritActivity).name[e.activityService.getActivityByType(e.activityService.spiritActivity).level])}}function zU(n,t){if(1&n){const e=re();g(0,"table",23),x("drop",function(r){return H(e),M().spiritActivityDrop(r)})("dragover",function(r){return H(e),M().allowDrop(r)}),g(1,"tr")(2,"td",24),S(3," Spiritual Projection "),m()(),I(4,$U,8,1,"tr",10),m()}if(2&n){const e=M();_(4),E("ngIf",e.activityService.spiritActivity)}}let GU=(()=>{class n{constructor(e,i,r,o,s){this.mainLoopService=e,this.activityService=i,this.characterService=r,this.logService=o,this.achievmentService=s,this.currentLoopEntry=void 0,this.currentIndex=0,this.currentTickCount=0,this.exhaustionDays=0,this.unlockFastSpeed=!1,this.unlockFasterSpeed=!1,this.unlockFastestSpeed=!1,this.character=r.characterState}ngOnInit(){this.mainLoopService.tickSubject.subscribe(()=>{if(!this.characterService.characterState.dead){if(this.exhaustionDays>0)return void this.exhaustionDays--;if(this.activityService.activityLoop.length>0&&this.currentIndex<this.activityService.activityLoop.length){if(this.currentLoopEntry=this.activityService.activityLoop[this.currentIndex],0==this.currentLoopEntry.repeatTimes){let i=0;for(this.currentIndex<this.activityService.activityLoop.length-1&&(i=this.currentIndex+1);i!=this.currentIndex&&0==this.activityService.activityLoop[i].repeatTimes;)i++,i>=this.activityService.activityLoop.length&&(i=0);if(i==this.currentIndex)return void(this.mainLoopService.pause=!0);this.currentIndex=i,this.currentLoopEntry=this.activityService.activityLoop[this.currentIndex],this.currentTickCount=0}let e=this.activityService.getActivityByType(this.currentLoopEntry.activity);e.consequence[e.level](),this.character.status.stamina.value<0&&(this.logService.addLogMessage("You collapse to the ground, completely exhausted. It takes you 5 days to recover enough to work again.","INJURY","EVENT"),this.exhaustionDays=5,this.character.status.stamina.value=this.character.status.stamina.max),this.currentTickCount<=this.currentLoopEntry.repeatTimes?this.currentTickCount++:(this.currentIndex++,this.currentTickCount=0,this.currentIndex==this.activityService.activityLoop.length&&(this.currentIndex=0),this.currentLoopEntry=this.activityService.activityLoop[this.currentIndex])}else 0==this.activityService.activityLoop.length?this.mainLoopService.pause=!0:this.currentIndex=0;if(this.activityService.spiritActivity&&this.characterService.characterState.status.mana.value>=5){let e=this.activityService.getActivityByType(this.activityService.spiritActivity);e.consequence[e.level](),this.characterService.characterState.status.mana.value-=5}}})}pauseClick(){this.mainLoopService.pause=!0}standardClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=10}fastClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=5}fasterClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=2}fastestClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=1}onPlusClick(e){e.repeatTimes++}onMinusClick(e){e.repeatTimes>0&&e.repeatTimes--}onRemoveClick(e){let i=this.activityService.activityLoop.indexOf(e);this.currentIndex>=this.activityService.activityLoop.length-1&&(this.currentIndex=0),this.activityService.activityLoop.splice(i,1)}removeSpiritActivity(){this.activityService.spiritActivity=null}pauseOnDeath(e){e.target instanceof HTMLInputElement&&(this.activityService.pauseOnDeath=e.target.checked)}allowDrop(e){var i,r;("activityloop"==(null===(i=e.dataTransfer)||void 0===i?void 0:i.types[0])||"activity"==(null===(r=e.dataTransfer)||void 0===r?void 0:r.types[0]))&&e.preventDefault()}drag(e,i){var r;null===(r=i.dataTransfer)||void 0===r||r.setData("activityloop",""+e)}drop(e,i){var r,o;i.preventDefault(),i.stopPropagation();let s=(null===(r=i.dataTransfer)||void 0===r?void 0:r.getData("activityloop"))+"";if(""==s){if(s=(null===(o=i.dataTransfer)||void 0===o?void 0:o.getData("activity"))+"",""==s)return;let l={activity:parseInt(s),repeatTimes:1};e>=this.activityService.activityLoop.length?this.activityService.activityLoop.push(l):this.activityService.activityLoop.splice(e,0,l)}else{let a=parseInt(s);if(a>=0&&a<this.activityService.activityLoop.length){let l=this.activityService.activityLoop.splice(a,1);e>=this.activityService.activityLoop.length?this.activityService.activityLoop.push(l[0]):this.activityService.activityLoop.splice(e,0,l[0])}}}spiritActivityDrop(e){var i,r;e.preventDefault();let o=(null===(i=e.dataTransfer)||void 0===i?void 0:i.getData("activityloop"))+"";if(""==o){if(o=(null===(r=e.dataTransfer)||void 0===r?void 0:r.getData("activity"))+"",""==o)return;let s=parseInt(o);this.activityService.spiritActivity=s}else{let s=parseInt(o);s>=0&&s<this.activityService.activityLoop.length&&(this.activityService.spiritActivity=this.activityService.activityLoop[s].activity)}}}return n.\u0275fac=function(e){return new(e||n)(b(Cn),b(ri),b(Ue),b(on),b(nm))},n.\u0275cmp=He({type:n,selectors:[["app-time-panel"]],decls:19,vars:14,consts:[[1,"dropAccepter",3,"dragover","drop"],[1,"panelHeader"],["tooltip","Achieving immortality doesn't happen overnight. It takes lifetimes of hard work. Choose how to schedule your days to take care of your basic needs and develop your immortal potential. Add activities from the activities panel. Repeat them if you want to, or rearrange them by dragging them where you want them to go."],["tooltip","Pause the game (spacebar)",1,"iconButton",3,"ngClass","click"],["tooltip","Standard Game Speed",1,"iconButton",3,"ngClass","click"],["tooltip","Fast Game Speed","class","iconButton",3,"ngClass","click",4,"ngIf"],["tooltip","Faster Game Speed","class","iconButton",3,"ngClass","click",4,"ngIf"],["tooltip","Fastest Game Speed","class","iconButton",3,"ngClass","click",4,"ngIf"],["type","checkbox","id","pauseOnDeath",3,"checked","change",4,"ngIf"],["for","pauseOnDeath",4,"ngIf"],[4,"ngIf"],["draggable","true",3,"dragover","drop","dragstart",4,"ngFor","ngForOf"],["class","spiritActivityPanel",3,"drop","dragover",4,"ngIf"],["tooltip","Fast Game Speed",1,"iconButton",3,"ngClass","click"],["tooltip","Faster Game Speed",1,"iconButton",3,"ngClass","click"],["tooltip","Fastest Game Speed",1,"iconButton",3,"ngClass","click"],["type","checkbox","id","pauseOnDeath",3,"checked","change"],["for","pauseOnDeath"],["draggable","true",3,"dragover","drop","dragstart"],[1,"activity-progress",3,"value","max"],["tooltip","Spend more days on this.",1,"iconButton",3,"click"],["tooltip","Spend fewer days on this.",1,"iconButton",3,"click"],["tooltip","Remove this activity from the schedule.",1,"iconButton",3,"click"],[1,"spiritActivityPanel",3,"drop","dragover"],["tooltip","You can project your spiritual self to take on a second activity while your phyisical body continues its work. Whatever activity you drop here will be completed each day as long as you have enough mana to support the effort. Requires 5 mana.",1,"spiritProjectionLabel"],[1,"spiritual-activity-progress","activity-progress"]],template:function(e,i){1&e&&(g(0,"div",0),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop(i.activityService.activityLoop.length,o)}),g(1,"h3",1)(2,"span",2)(3,"mat-icon"),S(4," calendar_month "),m(),S(5," How will you spend your days? "),m(),g(6,"mat-icon",3),x("click",function(){return i.pauseClick()}),S(7," pause "),m(),g(8,"mat-icon",4),x("click",function(){return i.standardClick()}),S(9," play_arrow "),m(),I(10,NU,2,3,"mat-icon",5),I(11,BU,2,3,"mat-icon",6),I(12,VU,2,3,"mat-icon",7),I(13,HU,1,1,"input",8),I(14,jU,2,0,"label",9),I(15,UU,3,4,"h6",10),m(),g(16,"table"),I(17,qU,12,5,"tr",11),m(),I(18,zU,5,1,"table",12),m()),2&e&&(_(6),E("ngClass",en(10,ya,i.mainLoopService.pause)),_(2),E("ngClass",en(12,ya,10===i.mainLoopService.tickDivider&&!i.mainLoopService.pause)),_(2),E("ngIf",i.mainLoopService.unlockFastSpeed),_(1),E("ngIf",i.mainLoopService.unlockFasterSpeed),_(1),E("ngIf",i.mainLoopService.unlockFastestSpeed),_(1),E("ngIf",i.activityService.autoRestart),_(1),E("ngIf",i.activityService.autoRestart),_(1),E("ngIf",i.mainLoopService.bankedTicks>0),_(2),E("ngForOf",i.activityService.activityLoop),_(1),E("ngIf",i.characterService.characterState.manaUnlocked))},directives:[Ut,ln,dr,tn,jt],pipes:[Bi],styles:[".dropAccepter[_ngcontent-%COMP%]{width:100%;height:100%}table[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%]{border-bottom:1px #cfaf88 solid;white-space:nowrap;font-size:12px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){text-align:end}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}.iconButton[_ngcontent-%COMP%]{border:1px #7f6b00 solid}.activity-progress[_ngcontent-%COMP%]{width:60px}.spriritual-activity-progress[_ngcontent-%COMP%]:indeterminate{width:60px}label[_ngcontent-%COMP%]{font-size:10px;vertical-align:top}.iconActive[_ngcontent-%COMP%]{background-color:#d8deff}.panelHeader[_ngcontent-%COMP%]{white-space:nowrap}h6[_ngcontent-%COMP%]{margin-bottom:0;margin-top:-8px}.spiritActivityPanel[_ngcontent-%COMP%]{border:1px solid #d8deff;width:100%;background-color:#add8e6}.spiritProjectionLabel[_ngcontent-%COMP%]{font-size:x-small;border-bottom:none}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#e0dec6;display:flex;flex-direction:column;flex-grow:1}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column}.rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:360px;max-width:320px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:300px}.attributesPanel[_ngcontent-%COMP%]{overflow:auto}.activityPanel[_ngcontent-%COMP%]{flex-grow:3;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{flex-grow:1;height:160px;min-height:160px;max-height:160px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.cheat[_ngcontent-%COMP%]{font-size:3px}.panel[_ngcontent-%COMP%]{background-color:#fffaaa;margin:4px;border:3px solid #7f6b00;border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid #7f6b00;color:#000;font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}"]}),n})();function WU(n,t){if(1&n&&(g(0,"span",5),J(1,"number"),J(2,"number"),g(3,"mat-icon"),S(4),m(),S(5),J(6,"camelToTitle"),J(7,"number"),J(8,"number"),m()),2&n){const e=M().$implicit,i=M();Qh("tooltip","",e.value.description," Your aptitude of ",Vt(1,6,e.value.aptitude,"1.0-2")," multiplies your gains by ",Vt(2,9,i.characterService.characterState.getAptitudeMultipier(e.value.aptitude),"1.0-2"),"."),_(4),Ne(e.value.icon),_(1),Ln(" ",De(6,12,e.key),": ",e.value.value>1e3?Vt(7,14,e.value.value,"1.0-0"):Vt(8,17,e.value.value,"1.0-1")," ")}}function YU(n,t){if(1&n&&(g(0,"div"),I(1,WU,9,20,"span",4),m()),2&n){const e=t.$implicit;_(1),E("ngIf",0!==e.value.value)}}function KU(n,t){if(1&n){const e=re();g(0,"div")(1,"span",8),J(2,"number"),J(3,"number"),S(4),J(5,"titlecase"),J(6,"titlecase"),m(),g(7,"mat-icon",9),x("click",function(){const o=H(e).$implicit;return M(2).followerService.dismissFollower(o)}),S(8," cancel "),m()()}if(2&n){const e=t.$implicit,i=M(2);_(1),Jh("tooltip","",i.followerService.jobs[e.job].description,"<br/>",e.name," has followed you for ",Vt(2,6,e.age/365,"1.0-1")," years and will serve for another ",Vt(3,9,(e.lifespan-e.age)/365,"1.0-1")," more years."),_(3),Ln(" ",De(5,12,e.name)," the ",De(6,14,e.job)," ")}}function ZU(n,t){if(1&n&&(g(0,"td")(1,"h3",0)(2,"mat-icon",6),S(3," person "),m(),S(4," Followers "),m(),g(5,"div",7),I(6,KU,9,16,"div",2),m()()),2&n){const e=M();_(6),E("ngForOf",e.followerService.followers)}}let oE=(()=>{class n{constructor(e,i){this.characterService=e,this.followerService=i,this.originalOrder=()=>0,this.character=e.characterState}}return n.\u0275fac=function(e){return new(e||n)(b(Ue),b(cc))},n.\u0275cmp=He({type:n,selectors:[["app-attributes-panel"]],decls:10,vars:5,consts:[[1,"panelHeader"],["placement","right","tooltip","Your attributes define your growing immortal characteristics. You can grow your attributes through the activities that you choose. Aptitudes that you developed in your past lives can make it easier to develop attributes in your current life."],[4,"ngFor","ngForOf"],[4,"ngIf"],["placement","right",3,"tooltip",4,"ngIf"],["placement","right",3,"tooltip"],["placement","right","tooltip","Your followers can aid you in many ways. Each has a specific skill that they will use to your benefit. Followers must be taken care of, so having them will cost you some money each day, and more powerful followers will have more expensive needs you will have to take care of."],[1,"followerPanel"],[3,"tooltip"],["tooltip","Dismiss this follower.",1,"smallerIcon",3,"click"]],template:function(e,i){1&e&&(g(0,"table")(1,"tr")(2,"td")(3,"h3",0)(4,"mat-icon",1),S(5," bar_chart "),m(),S(6," Attributes "),m(),I(7,YU,2,1,"div",2),J(8,"keyvalue"),m(),I(9,ZU,7,1,"td",3),m()()),2&e&&(_(7),E("ngForOf",Vt(8,2,i.character.attributes,i.originalOrder)),_(2),E("ngIf",i.followerService.followersUnlocked))},styles:["mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:2px;vertical-align:middle}td[_ngcontent-%COMP%]{vertical-align:top;width:200px}span[_ngcontent-%COMP%]{font-size:14px}.followerPanel[_ngcontent-%COMP%]{max-height:200px}.smallerIcon[_ngcontent-%COMP%]{float:right;height:12px;width:12px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#e0dec6;display:flex;flex-direction:column;flex-grow:1}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column}.rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:360px;max-width:320px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:300px}.attributesPanel[_ngcontent-%COMP%]{overflow:auto}.activityPanel[_ngcontent-%COMP%]{flex-grow:3;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{flex-grow:1;height:160px;min-height:160px;max-height:160px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.cheat[_ngcontent-%COMP%]{font-size:3px}.panel[_ngcontent-%COMP%]{background-color:#fffaaa;margin:4px;border:3px solid #7f6b00;border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid #7f6b00;color:#000;font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}"]}),n})(),sE=(()=>{class n{constructor(e){this.characterService=e,this.Math=Math}}return n.\u0275fac=function(e){return new(e||n)(b(Ue))},n.\u0275cmp=He({type:n,selectors:[["app-health-panel"]],decls:36,vars:24,consts:[[1,"panelHeader"],[1,"headerCell"],[3,"tooltip"],["placement","right",3,"tooltip"],[1,"health"],[1,"status-progress",3,"value","max"],[1,"stamina"],[1,"nourishment"],[1,"mana"]],template:function(e,i){1&e&&(g(0,"h3",0)(1,"table")(2,"tr")(3,"td",1),S(4),J(5,"floor"),J(6,"number"),m(),g(7,"td",1),S(8),J(9,"number"),m(),g(10,"td")(11,"mat-icon",2),S(12,"timer"),m()()()()(),g(13,"table")(14,"tr")(15,"td",3),S(16,"Health"),m(),g(17,"td",4)(18,"progress",5),ie(19,"div"),m()(),g(20,"td",3),S(21,"Stamina"),m(),g(22,"td",6)(23,"progress",5),ie(24,"div"),m()()(),g(25,"tr")(26,"td",3),S(27,"Nutrition"),m(),g(28,"td",7)(29,"progress",5),ie(30,"div"),m()(),g(31,"td",3),S(32,"Mana"),m(),g(33,"td",8)(34,"progress",5),ie(35,"div"),m()()()()),2&e&&(_(4),Ln(" You are ",De(5,16,i.characterService.characterState.age/365)," years, ",Vt(6,18,i.characterService.characterState.age%365,"1.0-0")," days old. "),_(4),we(" You expect to live ",Vt(9,21,i.characterService.characterState.lifespan/365,"1.0-1")," years. "),_(3),Re("tooltip",i.characterService.lifespanTooltip),_(4),Re("tooltip",i.characterService.characterState.status.health.description),_(3),E("value",i.Math.floor(i.characterService.characterState.status.health.value))("max",i.Math.floor(i.characterService.characterState.status.health.max)),_(2),Re("tooltip",i.characterService.characterState.status.stamina.description),_(3),E("value",i.characterService.characterState.status.stamina.value)("max",i.characterService.characterState.status.stamina.max),_(3),Re("tooltip",i.characterService.characterState.status.nourishment.description),_(3),E("value",i.characterService.characterState.status.nourishment.value)("max",i.characterService.characterState.status.nourishment.max),_(2),Re("tooltip",i.characterService.characterState.status.mana.description),_(3),E("value",i.characterService.characterState.status.mana.value)("max",i.characterService.characterState.status.mana.max))},styles:["progress[_ngcontent-%COMP%]{text-align:center;height:-moz-fit-content;height:fit-content;width:130px}progress[_ngcontent-%COMP%]:after{content:attr(value);line-height:30px}.panelHeader[_ngcontent-%COMP%]{white-space:nowrap}.health[_ngcontent-%COMP%] > progress[_ngcontent-%COMP%]{accent-color:red}.stamina[_ngcontent-%COMP%] > progress[_ngcontent-%COMP%]{accent-color:lightgreen}.nourishment[_ngcontent-%COMP%] > progress[_ngcontent-%COMP%]{accent-color:yellow}.mana[_ngcontent-%COMP%] > progress[_ngcontent-%COMP%]{accent-color:lightblue}.status-progress[_ngcontent-%COMP%]{height:30px}.headerCell[_ngcontent-%COMP%]{width:210px}td[_ngcontent-%COMP%]{font-size:12px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#e0dec6;display:flex;flex-direction:column;flex-grow:1}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column}.rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:360px;max-width:320px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:300px}.attributesPanel[_ngcontent-%COMP%]{overflow:auto}.activityPanel[_ngcontent-%COMP%]{flex-grow:3;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{flex-grow:1;height:160px;min-height:160px;max-height:160px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.cheat[_ngcontent-%COMP%]{font-size:3px}.panel[_ngcontent-%COMP%]{background-color:#fffaaa;margin:4px;border:3px solid #7f6b00;border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid #7f6b00;color:#000;font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}"]}),n})();function XU(n,t){1&n&&(g(0,"mat-icon",9),S(1," model_training "),m())}function QU(n,t){if(1&n){const e=re();g(0,"tr",5),x("dragstart",function(r){H(e);const o=M().$implicit;return M().drag(o,r)}),g(1,"td")(2,"span",6)(3,"button",7),x("click",function(){H(e);const r=M().$implicit;return M().onClick(r)}),S(4),m(),I(5,XU,2,0,"mat-icon",8),m()(),g(6,"td"),S(7),ie(8,"br"),S(9),m()()}if(2&n){const e=M().$implicit;_(4),Ne(e.name[e.level]),_(1),E("ngIf",e.skipApprenticeshipLevel>0),_(2),we(" ",e.description[e.level]," "),_(2),we(" ",e.consequenceDescription[e.level]," ")}}function JU(n,t){if(1&n&&(go(0),I(1,QU,10,4,"tr",4),vo()),2&n){const e=t.$implicit;_(1),E("ngIf",e.unlocked)}}let e3=(()=>{class n{constructor(e,i,r){this.gameStateService=e,this.activityService=i,this.character=r.characterState}onClick(e){this.activityService.activityLoop.push({activity:e.activityType,repeatTimes:1})}drag(e,i){var r;null===(r=i.dataTransfer)||void 0===r||r.setData("activity",""+e.activityType)}}return n.\u0275fac=function(e){return new(e||n)(b(tm),b(ri),b(Ue))},n.\u0275cmp=He({type:n,selectors:[["app-activity-panel"]],decls:7,vars:1,consts:[[1,"panelHeader"],["tooltip","Choose activities to add to your schedule. At first you'll only know how to do a few things, but as you develop your attributes more options will become available. Click the button or drag and drop the activity you want to put on your schedule."],[1,"activitiesContainer"],[4,"ngFor","ngForOf"],["draggable","true",3,"dragstart",4,"ngIf"],["draggable","true",3,"dragstart"],[1,"noWrap"],[3,"click"],["tooltip","This activity requires that you go through an apprenticeship. You can only do one apprenticeship in each lifetime, so choose carefully what trade you want to learn. Once you've started, other trades may be closed off until your next life.",4,"ngIf"],["tooltip","This activity requires that you go through an apprenticeship. You can only do one apprenticeship in each lifetime, so choose carefully what trade you want to learn. Once you've started, other trades may be closed off until your next life."]],template:function(e,i){1&e&&(g(0,"h3",0)(1,"mat-icon",1),S(2," help "),m(),S(3," Activities\n"),m(),g(4,"div",2)(5,"table"),I(6,JU,2,1,"ng-container",3),m()()),2&e&&(_(6),E("ngForOf",i.activityService.activities))},directives:[ln,Ut,jt,tn],styles:["td[_ngcontent-%COMP%]{border-bottom:1px #cfaf88 solid;font-size:12px}.activitiesContainer[_ngcontent-%COMP%]{min-width:400px}button[_ngcontent-%COMP%]{font-size:12px;min-width:130px}.noWrap[_ngcontent-%COMP%]{white-space:nowrap;width:100%}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#e0dec6;display:flex;flex-direction:column;flex-grow:1}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column}.rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:360px;max-width:320px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:300px}.attributesPanel[_ngcontent-%COMP%]{overflow:auto}.activityPanel[_ngcontent-%COMP%]{flex-grow:3;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{flex-grow:1;height:160px;min-height:160px;max-height:160px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.cheat[_ngcontent-%COMP%]{font-size:3px}.panel[_ngcontent-%COMP%]{background-color:#fffaaa;margin:4px;border:3px solid #7f6b00;border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid #7f6b00;color:#000;font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}"]}),n})();function t3(n,t){if(1&n){const e=re();g(0,"span",10)(1,"input",11),x("change",function(r){return H(e),M(2).manaShieldToggle(r)}),m(),g(2,"label",12),S(3,"Activate Mana Shield"),m()()}if(2&n){const e=M(2);_(1),E("checked",e.battleService.enableManaShield)}}function n3(n,t){if(1&n){const e=re();g(0,"span",13)(1,"input",11),x("change",function(r){return H(e),M(2).manaAttackToggle(r)}),m(),g(2,"label",12),S(3,"Activate Mana Strike"),m()()}if(2&n){const e=M(2);_(1),E("checked",e.battleService.enableManaAttack)}}function r3(n,t){if(1&n&&(g(0,"span"),I(1,t3,4,1,"span",8),I(2,n3,4,1,"span",9),m()),2&n){const e=M();_(1),E("ngIf",e.battleService.manaShieldUnlocked),_(1),E("ngIf",e.battleService.manaAttackUnlocked)}}function o3(n,t){if(1&n){const e=re();g(0,"button",14),x("click",function(){return H(e),M().battleService.trouble()}),S(1,"Look for Trouble"),m()}}function s3(n,t){if(1&n){const e=re();g(0,"input",15),x("change",function(r){return H(e),M().autoTroubleChange(r)}),m()}2&n&&E("checked",M().battleService.autoTroubleEnabled)}function a3(n,t){1&n&&(g(0,"label",16),S(1,"Look for Trouble"),m())}function l3(n,t){if(1&n){const e=re();g(0,"button",14),x("click",function(){H(e);const r=M().$implicit;return M().battleService.fight(r)}),S(1,"Fight"),m()}}function c3(n,t){1&n&&(g(0,"span"),S(1,"Fighting"),m())}function u3(n,t){if(1&n&&(go(0),g(1,"tr")(2,"td"),I(3,l3,2,0,"button",3),I(4,c3,2,0,"span",1),m(),g(5,"td"),S(6),J(7,"titlecase"),m(),g(8,"td",17)(9,"progress",18),ie(10,"div"),m()(),g(11,"td",19)(12,"mat-icon"),S(13,"manage_accounts"),m(),S(14),J(15,"percent"),m(),g(16,"td",20)(17,"mat-icon"),S(18,"flare"),m(),S(19),m(),g(20,"td",21)(21,"mat-icon"),S(22,"shield"),m(),S(23),m()(),vo()),2&n){const e=t.$implicit,i=M();_(3),E("ngIf",i.battleService.currentEnemy!==e),_(1),E("ngIf",i.battleService.currentEnemy===e),_(2),Ln("",De(7,9,e.enemy.name)," ",e.quantity>1?"("+e.quantity+")":"",""),_(3),E("value",e.enemy.health)("max",e.enemy.maxHealth),_(5),Ne(De(15,11,e.enemy.accuracy)),_(5),Ne(e.enemy.attack),_(4),Ne(e.enemy.defense)}}let h3=(()=>{class n{constructor(e,i){this.battleService=e,this.characterService=i}ngOnInit(){}autoTroubleChange(e){e.target instanceof HTMLInputElement&&(this.battleService.autoTroubleEnabled=e.target.checked)}manaShieldToggle(e){e.target instanceof HTMLInputElement&&this.characterService.characterState.manaUnlocked&&(this.battleService.enableManaShield=e.target.checked)}manaAttackToggle(e){e.target instanceof HTMLInputElement&&this.characterService.characterState.manaUnlocked&&(this.battleService.enableManaAttack=e.target.checked)}}return n.\u0275fac=function(e){return new(e||n)(b(yr),b(Ue))},n.\u0275cmp=He({type:n,selectors:[["app-battle-panel"]],decls:12,vars:5,consts:[["tooltip","Monsters come out at night. You'll need to be strong enough to fight them off if you want to become an immortal."],[4,"ngIf"],[1,"rightAligned"],[3,"click",4,"ngIf"],["type","checkbox","id","autoTroubleCheckbox",3,"checked","change",4,"ngIf"],["for","autoTroubleCheckbox",4,"ngIf"],[1,"battleContainer"],[4,"ngFor","ngForOf"],["class","battleOption","tooltip","Your mana can form a protective shroud around your body, protecting you and decreasing the damage that you take. It requires 10 mana each time the mana shield protects you.",4,"ngIf"],["class","battleOption","tooltip","You can focus your mana around your weapon or fist to project greater power into your attacks. Doing this will double the damage that you inflict. Each use of this ability requires 10 mana.",4,"ngIf"],["tooltip","Your mana can form a protective shroud around your body, protecting you and decreasing the damage that you take. It requires 10 mana each time the mana shield protects you.",1,"battleOption"],["type","checkbox","id","manaShield",3,"checked","change"],["for","manaShield"],["tooltip","You can focus your mana around your weapon or fist to project greater power into your attacks. Doing this will double the damage that you inflict. Each use of this ability requires 10 mana.",1,"battleOption"],[3,"click"],["type","checkbox","id","autoTroubleCheckbox",3,"checked","change"],["for","autoTroubleCheckbox"],[1,"health"],[1,"status-progress",3,"value","max"],["tooltip","Accuracy"],["tooltip","Attack Power"],["tooltip","Defense"]],template:function(e,i){1&e&&(g(0,"h3")(1,"mat-icon",0),S(2,"fort"),m(),S(3," Battles "),I(4,r3,3,2,"span",1),g(5,"span",2),I(6,o3,2,0,"button",3),I(7,s3,1,1,"input",4),I(8,a3,2,0,"label",5),m()(),g(9,"div",6)(10,"table"),I(11,u3,24,13,"ng-container",7),m()()),2&e&&(_(4),E("ngIf",i.characterService.characterState.manaUnlocked),_(2),E("ngIf",!i.battleService.autoTroubleUnlocked),_(1),E("ngIf",i.battleService.autoTroubleUnlocked),_(1),E("ngIf",i.battleService.autoTroubleUnlocked),_(3),E("ngForOf",i.battleService.enemies))},directives:[ln,Ut,tn,jt],pipes:[ti,jl],styles:["progress[_ngcontent-%COMP%]{text-align:center;height:-moz-fit-content;height:fit-content;width:130px}progress[_ngcontent-%COMP%]:after{content:attr(value);line-height:30px}.panelHeader[_ngcontent-%COMP%]{white-space:nowrap}.health[_ngcontent-%COMP%] > progress[_ngcontent-%COMP%]{accent-color:red}.status-progress[_ngcontent-%COMP%]{height:30px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:2px;vertical-align:middle}.rightAligned[_ngcontent-%COMP%]{float:right;margin-right:6px}.battleOption[_ngcontent-%COMP%]{margin-left:10px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#e0dec6;display:flex;flex-direction:column;flex-grow:1}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column}.rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:360px;max-width:320px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:300px}.attributesPanel[_ngcontent-%COMP%]{overflow:auto}.activityPanel[_ngcontent-%COMP%]{flex-grow:3;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{flex-grow:1;height:160px;min-height:160px;max-height:160px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.cheat[_ngcontent-%COMP%]{font-size:3px}.panel[_ngcontent-%COMP%]{background-color:#fffaaa;margin:4px;border:3px solid #7f6b00;border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid #7f6b00;color:#000;font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}"]}),n})();const qo=function(n){return{highlightSlot:n}};let d3=(()=>{class n{constructor(e,i){this.inventoryService=i,this.character=e.characterState}getSelectedItemSlot(){var e;const i=null===(e=this.inventoryService.selectedItem)||void 0===e?void 0:e.item;return i&&Fo(i)?null==i?void 0:i.slot:null}allowDrop(e){var i;"inventory"==(null===(i=e.dataTransfer)||void 0===i?void 0:i.types[0])&&e.preventDefault()}drag(e,i){var r;null===(r=i.dataTransfer)||void 0===r||r.setData("equipment",e)}drop(e,i){var r;i.preventDefault();let o=(null===(r=i.dataTransfer)||void 0===r?void 0:r.getData("inventory"))+"",s=parseInt(o);if(s>=0&&s<this.inventoryService.itemStacks.length){let a=this.inventoryService.itemStacks[s];a&&(this.inventoryService.equip(a),this.inventoryService.selectedItem=null)}}}return n.\u0275fac=function(e){return new(e||n)(b(Ue),b(K))},n.\u0275cmp=He({type:n,selectors:[["app-equipment-panel"]],decls:45,vars:47,consts:[[1,"panelHeader"],["draggable","true","placement","left",1,"itemSlot",3,"ngClass","tooltip","dragover","drop","dragstart"],["rowspan","2"],["tooltip","Accuracy. Your chance to hit monsters when you attack them. Based on your speed."],["tooltip","Attack Power. The damage you will do when you hit a monster. Based on your strength and weapons."],["tooltip","Defense. Reduces damage when a monster hits you. Based on your toughness and armor."]],template:function(e,i){1&e&&(g(0,"h3",0),S(1,"Equipment"),m(),g(2,"table")(3,"tr"),ie(4,"td"),g(5,"td",1),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("head",o)})("dragstart",function(o){return i.drag("head",o)}),S(6),J(7,"titlecase"),m(),ie(8,"td"),m(),g(9,"tr")(10,"td",1),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("rightHand",o)})("dragstart",function(o){return i.drag("rightHand",o)}),S(11),J(12,"titlecase"),m(),g(13,"td",1),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("body",o)})("dragstart",function(o){return i.drag("body",o)}),S(14),J(15,"titlecase"),m(),g(16,"td",1),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("leftHand",o)})("dragstart",function(o){return i.drag("leftHand",o)}),S(17),J(18,"titlecase"),m()(),g(19,"tr")(20,"td",2)(21,"span",3)(22,"mat-icon"),S(23,"manage_accounts"),m(),S(24),J(25,"percent"),m(),ie(26,"br"),g(27,"span",4)(28,"mat-icon"),S(29,"flare"),m(),S(30),m(),ie(31,"br"),g(32,"span",5)(33,"mat-icon"),S(34,"shield"),m(),S(35),m()(),g(36,"td",1),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("legs",o)})("dragstart",function(o){return i.drag("legs",o)}),S(37),J(38,"titlecase"),m(),ie(39,"td"),m(),g(40,"tr")(41,"td",1),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("feet",o)})("dragstart",function(o){return i.drag("feet",o)}),S(42),J(43,"titlecase"),m(),ie(44,"td"),m()()),2&e&&(_(5),Re("tooltip",null==i.character.equipment.head?null:i.character.equipment.head.description),E("ngClass",en(35,qo,"head"===i.getSelectedItemSlot())),_(1),we(" ",De(7,21,null==i.character.equipment.head?null:i.character.equipment.head.name)," "),_(4),Re("tooltip",null==i.character.equipment.rightHand?null:i.character.equipment.rightHand.description),E("ngClass",en(37,qo,"rightHand"===i.getSelectedItemSlot())),_(1),we(" ",De(12,23,null==i.character.equipment.rightHand?null:i.character.equipment.rightHand.name)," "),_(2),Re("tooltip",null==i.character.equipment.body?null:i.character.equipment.body.description),E("ngClass",en(39,qo,"body"===i.getSelectedItemSlot())),_(1),we(" ",De(15,25,null==i.character.equipment.body?null:i.character.equipment.body.name)," "),_(2),Re("tooltip",null==i.character.equipment.leftHand?null:i.character.equipment.leftHand.description),E("ngClass",en(41,qo,"leftHand"===i.getSelectedItemSlot())),_(1),we(" ",De(18,27,null==i.character.equipment.leftHand?null:i.character.equipment.leftHand.name)," "),_(7),Ne(De(25,29,i.character.accuracy)),_(6),Ne(i.character.attackPower),_(5),Ne(i.character.defense),_(1),Re("tooltip",null==i.character.equipment.legs?null:i.character.equipment.legs.description),E("ngClass",en(43,qo,"legs"===i.getSelectedItemSlot())),_(1),we(" ",De(38,31,null==i.character.equipment.legs?null:i.character.equipment.legs.name)," "),_(4),Re("tooltip",null==i.character.equipment.feet?null:i.character.equipment.feet.description),E("ngClass",en(45,qo,"feet"===i.getSelectedItemSlot())),_(1),we(" ",De(43,33,null==i.character.equipment.feet?null:i.character.equipment.feet.name)," "))},directives:[dr,Ut,ln],pipes:[ti,jl],styles:[".itemSlot[_ngcontent-%COMP%]{width:80px;height:32px;line-height:12px}.highlightSlot[_ngcontent-%COMP%]{background-color:#d8deff}table[_ngcontent-%COMP%]{margin:auto}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#e0dec6;display:flex;flex-direction:column;flex-grow:1}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column}.rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:360px;max-width:320px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:300px}.attributesPanel[_ngcontent-%COMP%]{overflow:auto}.activityPanel[_ngcontent-%COMP%]{flex-grow:3;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{flex-grow:1;height:160px;min-height:160px;max-height:160px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.cheat[_ngcontent-%COMP%]{font-size:3px}.panel[_ngcontent-%COMP%]{background-color:#fffaaa;margin:4px;border:3px solid #7f6b00;border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid #7f6b00;color:#000;font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}"]}),n})();const f3=function(n,t){return{selectedItem:n,ownedItem:t}};function p3(n,t){if(1&n){const e=re();g(0,"div")(1,"table",3),x("click",function(){const o=H(e).$implicit;return M().slotClicked(o)}),g(2,"tr")(3,"mat-icon"),S(4),m()(),g(5,"tr"),S(6),J(7,"titlecase"),m()(),g(8,"div",4),S(9),J(10,"number"),m()()}if(2&n){const e=t.$implicit,i=M();_(1),Re("tooltip",e.description),E("ngClass",fd(10,f3,e===i.storeService.selectedItem,i.homeService.furniture[e.slot]===e)),_(3),Ne(e.slot),_(2),Ne(De(7,5,e.name)),_(3),Ne(Vt(10,7,e.value,"1.0-0"))}}let m3=(()=>{class n{constructor(e,i,r,o,s){this.storeService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=s,this.buyDisabled=!0}slotClicked(e){this.storeService.selectedItem==e?(this.storeService.selectedItem=null,this.buyDisabled=!0):(this.storeService.selectedItem=e,this.buyDisabled=!(!e.owned||!e.owned()))}}return n.\u0275fac=function(e){return new(e||n)(b(jo),b(Ue),b(dt),b(K),b(Hn))},n.\u0275cmp=He({type:n,selectors:[["app-furniture-store-modal"]],decls:8,vars:2,consts:[[1,"inventoryGrid"],[4,"ngFor","ngForOf"],[3,"disabled","click"],["placement","left",1,"itemSlot",3,"ngClass","tooltip","click"],[1,"priceLabel"]],template:function(e,i){1&e&&(g(0,"div")(1,"span"),S(2,"Furniture Shop"),m(),ie(3,"hr"),g(4,"div",0),I(5,p3,11,13,"div",1),m(),g(6,"button",2),x("click",function(){return i.storeService.buyFurniture()}),S(7," Buy "),m()()),2&e&&(_(5),E("ngForOf",i.storeService.furniture),_(1),E("disabled",i.buyDisabled))},directives:[jt,dr,Ut,ln],pipes:[ti,Bi],styles:[".inventoryContainer[_ngcontent-%COMP%]{position:relative;height:100%}.itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;background-color:#fffaaa}.priceLabel[_ngcontent-%COMP%]{width:60px;text-align:center}.selectedItem[_ngcontent-%COMP%]{background-color:#d8deff}.ownedItem[_ngcontent-%COMP%]{background-color:#a9a9a9!important;border:1px solid darkgray!important}.itemSlot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{line-height:12px}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}table[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{margin-top:2px}"]}),n})();function g3(n,t){if(1&n&&(g(0,"div")(1,"table",3)(2,"tr"),S(3),J(4,"titlecase"),m(),g(5,"tr"),S(6),m(),g(7,"tr"),S(8),J(9,"percent"),m()()()),2&n){const e=t.$implicit;_(1),Fi("tooltip","You will harvest ",e.yield," in ",e.daysToHarvest," days"),_(2),Ne(De(4,5,e.cropName)),_(3),Ne(e.yield),_(2),Ne(De(9,7,(e.originalDaysToHarvest-e.daysToHarvest)/e.originalDaysToHarvest))}}let v3=(()=>{class n{constructor(e){this.homeService=e}clearClicked(e){if(e.preventDefault(),e.shiftKey)for(let i=0;i<10;i++)this.homeService.clearField();else if(e.ctrlKey)for(;this.homeService.fields.length>0;)this.homeService.clearField();else this.homeService.clearField()}}return n.\u0275fac=function(e){return new(e||n)(b(dt))},n.\u0275cmp=He({type:n,selectors:[["app-farm-panel"]],decls:12,vars:10,consts:[["placement","bottom","tooltip","Clear a field. Converts a the field back into an open plot of land. Shift-click to clear 10 fields, Ctrl-click to clear all your fields.",1,"iconButton","rightFloat",3,"click"],[1,"farmGrid"],[4,"ngFor","ngForOf"],[1,"itemSlot",3,"tooltip"]],template:function(e,i){1&e&&(g(0,"div")(1,"h3"),S(2,"Your Farm"),m(),ie(3,"hr"),g(4,"div"),S(5),J(6,"number"),g(7,"mat-icon",0),x("click",function(o){return i.clearClicked(o)}),S(8," delete_sweep "),m()(),g(9,"div",1),I(10,g3,10,9,"div",2),J(11,"slice"),m()()),2&e&&(_(5),Ln(" Your ",i.homeService.fields.length," fields produced an average of ",Vt(6,3,i.homeService.averageYield,"1.0-2")," food per day over the last year. "),_(5),E("ngForOf",cS(11,6,i.homeService.fields,0,300)))},directives:[ln,Ut,jt],pipes:[Bi,Db,ti,jl],styles:[".itemSlot[_ngcontent-%COMP%]{width:10px;height:10px}.farmGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.itemSlot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{line-height:12px}.iconButton[_ngcontent-%COMP%]{float:right}"]}),n})();function y3(n,t){1&n&&ie(0,"div",15),2&n&&yo("tooltip","You don't own a ",M().$implicit,", but your home could hold one.")}function _3(n,t){if(1&n&&(g(0,"div",15),S(1),J(2,"titlecase"),m()),2&n){const e=M().$implicit,i=M();Re("tooltip",null==i.homeService.furniture[e]?null:i.homeService.furniture[e].description),_(1),Ne(De(2,2,null==i.homeService.furniture[e]?null:i.homeService.furniture[e].name))}}function S3(n,t){if(1&n&&(g(0,"div"),I(1,y3,1,1,"div",14),I(2,_3,3,4,"div",14),m()),2&n){const e=t.$implicit,i=M();_(1),E("ngIf",!i.homeService.furniture[e]),_(1),E("ngIf",i.homeService.furniture[e])}}function b3(n,t){if(1&n){const e=re();g(0,"mat-icon",8),x("click",function(){return H(e),M().homeService.upgradeToNextHome()}),J(1,"number"),S(2," add_business "),m()}if(2&n){const e=M();Fi("tooltip","Get a better house. A better home will cost ",Vt(1,2,e.homeService.nextHomeCost,"1.0-0")," taels and take up ",e.homeService.nextHome.landRequired," land.")}}function C3(n,t){if(1&n){const e=re();g(0,"mat-icon",16),x("click",function(){return H(e),M().storeClicked()}),S(1," shopping_cart "),m()}}function w3(n,t){1&n&&(g(0,"progress",17),ie(1,"div"),m()),2&n&&E("value",M().homeService.houseBuildingProgress)("max",1)}let D3=(()=>{class n{constructor(e,i,r,o){this.characterService=e,this.homeService=i,this.dialog=r,this.storeService=o,this.character=e.characterState}storeClicked(){this.storeService.setStoreInventory(),this.dialog.open(m3,{width:"510px",data:{someField:"foo"}})}farmClicked(){this.storeService.setStoreInventory(),this.dialog.open(v3,{width:"800px",data:{someField:"foo"}})}buyClicked(e){if(e.preventDefault(),e.shiftKey)for(let i=0;i<10;i++)this.homeService.buyLand();else if(e.ctrlKey)for(;this.character.money>this.homeService.landPrice;)this.homeService.buyLand();else this.homeService.buyLand()}plowClicked(e){if(e.shiftKey)for(let i=0;i<10;i++)this.homeService.addField();else if(e.ctrlKey)for(;this.homeService.land>0;)this.homeService.addField();else this.homeService.addField()}}return n.\u0275fac=function(e){return new(e||n)(b(Ue),b(dt),b(Nc),b(jo))},n.\u0275cmp=He({type:n,selectors:[["app-home-panel"]],decls:22,vars:12,consts:[[1,"homeContainer"],[1,"panelHeader"],["tooltip","Your home is an essential part of your life. A better home allows you to recover and has room for furniture that can aid your immortal development."],[3,"tooltip"],[1,"homeInfo"],[1,"furnitureSlots"],[4,"ngFor","ngForOf"],[1,"buttonSpan"],["placement","bottom",1,"iconButton",3,"tooltip","click"],["placement","bottom","class","iconButton",3,"tooltip","click",4,"ngIf"],["class","iconButton","tooltip","Buy Furniture",3,"click",4,"ngIf"],["class","status-progress","tooltip","Upgrading your home.",3,"value","max",4,"ngIf"],["tooltip","View your farm.",1,"iconButton","rightFloat",3,"click"],["placement","bottom","tooltip","Plow a field. Converts a plot of land to a field. You'll need to work at farming it to make it produce much food. Once the harvest is over, you will get the food you've grown and the land will be available again. Shift-click to plow 10 fields, Ctrl-click to plow all your land.",1,"iconButton","rightFloat",3,"click"],["class","itemSlot",3,"tooltip",4,"ngIf"],[1,"itemSlot",3,"tooltip"],["tooltip","Buy Furniture",1,"iconButton",3,"click"],["tooltip","Upgrading your home.",1,"status-progress",3,"value","max"]],template:function(e,i){1&e&&(g(0,"div",0)(1,"h3",1)(2,"mat-icon",2),S(3,"home"),m(),g(4,"span",3),S(5),m()(),g(6,"div",4),S(7),m(),g(8,"div",4),S(9),m(),g(10,"div",5),I(11,S3,3,2,"div",6),m(),g(12,"span",7)(13,"mat-icon",8),x("click",function(o){return i.buyClicked(o)}),S(14," add "),m(),I(15,b3,3,5,"mat-icon",9),I(16,C3,2,0,"mat-icon",10),I(17,w3,2,2,"progress",11),g(18,"mat-icon",12),x("click",function(){return i.farmClicked()}),S(19,"grass"),m(),g(20,"mat-icon",13),x("click",function(o){return i.plowClicked(o)}),S(21," waves "),m()()()),2&e&&(_(4),Re("tooltip",i.homeService.home.description),_(1),we(" You live in a ",i.homeService.home.name," "),_(2),Ln("It costs ",i.homeService.home.costPerDay," ",1===i.homeService.home.costPerDay?"tael":"taels"," per day to maintain your home"),_(2),ml("You own ",i.homeService.land," open ",1===i.homeService.land?"plot":"plots"," of land and ",i.homeService.fields.length," fields"),_(2),E("ngForOf",i.homeService.home.furnitureSlots),_(2),yo("tooltip","Buy a plot of land for ",i.homeService.landPrice," taels. Shift-click to buy 10 plots, Ctrl-click to buy all the land you can afford."),_(2),E("ngIf",i.homeService.home.name!==i.homeService.nextHome.name),_(1),E("ngIf",i.homeService.home.furnitureSlots.length),_(1),E("ngIf",i.homeService.upgrading))},directives:[ln,Ut,jt,tn],pipes:[ti,Bi],styles:[".homeContainer[_ngcontent-%COMP%]{position:relative;height:100%;padding-left:2px}.homeInfo[_ngcontent-%COMP%]{font-size:12px;margin-top:-2px;margin-bottom:-4px}.buttonSpan[_ngcontent-%COMP%]{position:absolute;bottom:1px;left:1px;width:100%}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin-top:2px;margin-bottom:2px;vertical-align:middle}.furnitureSlots[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.itemSlot[_ngcontent-%COMP%]{width:50px;height:36px}.rightFloat[_ngcontent-%COMP%]{float:right;margin-right:4px}.status-progress[_ngcontent-%COMP%]{width:100px;margin-left:4px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#e0dec6;display:flex;flex-direction:column;flex-grow:1}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column}.rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:360px;max-width:320px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:300px}.attributesPanel[_ngcontent-%COMP%]{overflow:auto}.activityPanel[_ngcontent-%COMP%]{flex-grow:3;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{flex-grow:1;height:160px;min-height:160px;max-height:160px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.cheat[_ngcontent-%COMP%]{font-size:3px}.panel[_ngcontent-%COMP%]{background-color:#fffaaa;margin:4px;border:3px solid #7f6b00;border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid #7f6b00;color:#000;font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}"]}),n})();function E3(n,t){1&n&&(g(0,"mat-icon",9),S(1," soup_kitchen "),m())}function M3(n,t){if(1&n&&(g(0,"tr"),S(1),m()),2&n){const e=M().$implicit;_(1),Ne(null==e?null:e.quantity)}}const k3=function(n){return{selectedItem:n}};function A3(n,t){if(1&n){const e=re();g(0,"div")(1,"table",10),x("click",function(r){const s=H(e).$implicit;return M().slotClicked(s,r)})("contextmenu",function(r){const s=H(e).$implicit;return M().slotRightClicked(s,r)})("dragover",function(r){return H(e),M().allowDrop(r)})("drop",function(r){const s=H(e).index;return M().drop(s,r)})("dragstart",function(r){const s=H(e).index;return M().drag(s,r)}),g(2,"tr"),S(3),J(4,"titlecase"),m(),I(5,M3,2,1,"tr",11),m()()}if(2&n){const e=t.$implicit,i=M();_(1),Re("tooltip",null==e||null==e.item?null:e.item.description),E("ngClass",en(6,k3,null!==e&&e===i.inventoryService.selectedItem)),_(2),Ne(De(4,4,null==e||null==e.item?null:e.item.name)),_(2),E("ngIf",((null==e?null:e.quantity)||0)>1)}}function T3(n,t){if(1&n){const e=re();g(0,"mat-icon",20),x("click",function(){return H(e),M(2).autoSell()}),S(1," currency_exchange "),m()}}function x3(n,t){if(1&n){const e=re();g(0,"mat-icon",13),x("click",function(){return H(e),M(2).use()}),S(1," auto_awesome "),m()}if(2&n){const e=M(2);Fi("tooltip","",e.inventoryService.selectedItem.item.useLabel,". ",e.inventoryService.selectedItem.item.useDescription," Shift-click items to use.")}}function I3(n,t){if(1&n){const e=re();g(0,"mat-icon",13),x("click",function(){return H(e),M(2).autoUse()}),S(1," auto_mode "),m()}if(2&n){const e=M(2);Fi("tooltip","Auto-",e.inventoryService.selectedItem.item.useLabel,". ",e.inventoryService.selectedItem.item.useDescription," Ctrl-click items to auto-use.")}}function P3(n,t){if(1&n){const e=re();g(0,"mat-icon",21),x("click",function(){return H(e),M(2).autoBalance()}),S(1," balance "),m()}}function O3(n,t){if(1&n){const e=re();g(0,"mat-icon",22),x("click",function(){return H(e),M(2).equip()}),S(1," shield "),m()}}function R3(n,t){if(1&n){const e=re();g(0,"mat-icon",23),x("click",function(){return H(e),M(2).mergeSpiritGem()}),S(1," diamond "),m()}}function F3(n,t){if(1&n){const e=re();g(0,"div",12)(1,"mat-icon",13),x("click",function(){return H(e),M().sell(1)}),S(2," attach_money "),m(),g(3,"mat-icon",13),x("click",function(){return H(e),M().sellStack()}),S(4," paid "),m(),g(5,"mat-icon",13),x("click",function(){return H(e),M().sellAll()}),S(6," shopping_basket "),m(),I(7,T3,2,0,"mat-icon",14),I(8,x3,2,2,"mat-icon",15),I(9,I3,2,2,"mat-icon",16),I(10,P3,2,0,"mat-icon",17),I(11,O3,2,0,"mat-icon",18),I(12,R3,2,0,"mat-icon",19),m()}if(2&n){const e=M();_(1),Fi("tooltip","Sell one ",e.inventoryService.selectedItem.item.name," for ",e.inventoryService.selectedItem.item.value," taels. Right-click items to sell."),_(2),Fi("tooltip","Sell all the ",e.inventoryService.selectedItem.item.name," in this inventory slot for ",e.inventoryService.selectedItem.item.value*e.inventoryService.selectedItem.quantity," taels.  Shift-right-click items to sell the stack."),_(2),yo("tooltip","Sell all the ",e.inventoryService.selectedItem.item.name," in the whole inventory."),_(2),E("ngIf",e.inventoryService.autoSellUnlocked),_(1),E("ngIf",void 0!==e.inventoryService.selectedItem.item.useLabel),_(1),E("ngIf",void 0!==e.inventoryService.selectedItem.item.useLabel&&e.inventoryService.autoUseUnlocked),_(1),E("ngIf",void 0!==e.inventoryService.selectedItem.item.useLabel&&e.inventoryService.autoBalanceUnlocked),_(1),E("ngIf","equipment"===e.inventoryService.selectedItem.item.type),_(1),E("ngIf","spiritGem"===e.inventoryService.selectedItem.item.type)}}let aE=(()=>{class n{constructor(e,i){this.inventoryService=e,this.characterService=i,this.equipmentSlots=Object.keys(this.characterService.characterState.equipment)}slotClicked(e,i){if(i.preventDefault(),i.shiftKey){let r=null;r!=e&&(r=this.inventoryService.selectedItem),this.inventoryService.selectedItem=e,this.use(),this.inventoryService.selectedItem=r}else i.ctrlKey?(this.inventoryService.selectedItem=e,this.autoUse()):this.inventoryService.selectedItem=this.inventoryService.selectedItem==e?null:e}slotRightClicked(e,i){i.preventDefault(),this.inventoryService.selectedItem=e,i.ctrlKey?this.autoSell():i.shiftKey?this.sellStack():this.sell(1)}sellAll(){this.inventoryService.selectedItem&&this.inventoryService.sellAll(this.inventoryService.selectedItem.item)}sellStack(){this.inventoryService.selectedItem&&this.sell(this.inventoryService.selectedItem.quantity)}sell(e){this.inventoryService.selectedItem&&this.inventoryService.sell(this.inventoryService.selectedItem,e)}autoSell(){this.inventoryService.selectedItem&&this.inventoryService.autoSell(this.inventoryService.selectedItem.item)}use(){this.inventoryService.selectedItem&&this.inventoryService.useItemStack(this.inventoryService.selectedItem)}autoUse(){this.inventoryService.selectedItem&&this.inventoryService.autoUse(this.inventoryService.selectedItem.item)}autoBalance(){this.inventoryService.selectedItem&&this.inventoryService.autoBalance(this.inventoryService.selectedItem.item)}equip(){this.inventoryService.selectedItem&&(this.inventoryService.equip(this.inventoryService.selectedItem),this.inventoryService.selectedItem=null)}mergeSpiritGem(){this.inventoryService.selectedItem&&(this.inventoryService.mergeSpiritGem(this.inventoryService.selectedItem),0==this.inventoryService.selectedItem.quantity&&(this.inventoryService.selectedItem=null))}allowDrop(e){var i,r;("inventory"==(null===(i=e.dataTransfer)||void 0===i?void 0:i.types[0])||"equipment"==(null===(r=e.dataTransfer)||void 0===r?void 0:r.types[0]))&&e.preventDefault()}drag(e,i){var r;this.inventoryService.selectedItem=this.inventoryService.itemStacks[e],null===(r=i.dataTransfer)||void 0===r||r.setData("inventory",e+"")}drop(e,i){var r,o,s,a;if(i.preventDefault(),"inventory"==(null===(r=i.dataTransfer)||void 0===r?void 0:r.types[0])){let l=(null===(o=i.dataTransfer)||void 0===o?void 0:o.getData("inventory"))+"",c=parseInt(l);if(c==e)return;if(c>=0&&c<this.inventoryService.itemStacks.length){let u=this.inventoryService.itemStacks[c],h=this.inventoryService.itemStacks[e],d=null==u?void 0:u.item,f=null==h?void 0:h.item;if(d&&f&&Fo(d)&&Fo(f)&&d.slot==f.slot)return this.inventoryService.itemStacks[e]=null,this.inventoryService.itemStacks[c]=null,this.inventoryService.selectedItem=null,void this.inventoryService.mergeEquipment(d,f,e);this.inventoryService.itemStacks[e]=u,this.inventoryService.itemStacks[c]=h}}else if("equipment"==(null===(s=i.dataTransfer)||void 0===s?void 0:s.types[0])){let l=(null===(a=i.dataTransfer)||void 0===a?void 0:a.getData("equipment"))+"",c=this.characterService.characterState.equipment[l];c&&this.inventoryService.openInventorySlots()>0&&(this.inventoryService.addItem(c),this.characterService.characterState.equipment[l]=null,this.inventoryService.selectedItem=null)}}}return n.\u0275fac=function(e){return new(e||n)(b(K),b(Ue))},n.\u0275cmp=He({type:n,selectors:[["app-inventory-panel"]],decls:16,vars:6,consts:[[1,"inventoryContainer"],[1,"panelHeader"],[1,"inventoryLabelColumn"],[1,"moneyLabelColumn"],[1,"moneyColumn"],["class","noFood","placement","left","tooltip","You have no food in your inventory. You will spend money on food each day to avoid starvation.",4,"ngIf"],[1,"inventoryGrid"],[4,"ngFor","ngForOf"],["class","inventoryButtons",4,"ngIf"],["placement","left","tooltip","You have no food in your inventory. You will spend money on food each day to avoid starvation.",1,"noFood"],["draggable","true","placement","bottom",1,"itemSlot",3,"ngClass","tooltip","click","contextmenu","dragover","drop","dragstart"],[4,"ngIf"],[1,"inventoryButtons"],["placement","left",1,"iconButton",3,"tooltip","click"],["class","iconButton","placement","left","tooltip","Automatically sell this kind of item whenever you get one. Ctrl-right-click items to autosell.",3,"click",4,"ngIf"],["class","iconButton","placement","left",3,"tooltip","click",4,"ngIf"],["placement","left","class","iconButton",3,"tooltip","click",4,"ngIf"],["class","iconButton","placement","left","tooltip","Balance between automatically using and selling this item.",3,"click",4,"ngIf"],["class","iconButton","placement","left","tooltip","Equip this.",3,"click",4,"ngIf"],["class","iconButton","placement","left","tooltip","Merge 10 of these into a higher grade gem.",3,"click",4,"ngIf"],["placement","left","tooltip","Automatically sell this kind of item whenever you get one. Ctrl-right-click items to autosell.",1,"iconButton",3,"click"],["placement","left","tooltip","Balance between automatically using and selling this item.",1,"iconButton",3,"click"],["placement","left","tooltip","Equip this.",1,"iconButton",3,"click"],["placement","left","tooltip","Merge 10 of these into a higher grade gem.",1,"iconButton",3,"click"]],template:function(e,i){1&e&&(g(0,"div",0)(1,"h3",1)(2,"table")(3,"tr")(4,"td",2),S(5,"Inventory"),m(),g(6,"td",3),S(7,"Money: "),m(),g(8,"td",4),S(9),J(10,"bigNumber"),m(),g(11,"td"),I(12,E3,2,0,"mat-icon",5),m()()()(),g(13,"div",6),I(14,A3,6,8,"div",7),m(),I(15,F3,13,11,"div",8),m()),2&e&&(_(9),we("",De(10,4,i.characterService.characterState.money)," Taels"),_(3),E("ngIf",i.inventoryService.noFood),_(2),E("ngForOf",i.inventoryService.itemStacks),_(1),E("ngIf",i.inventoryService.selectedItem))},styles:[".inventoryContainer[_ngcontent-%COMP%]{position:relative;height:100%}.itemSlot[_ngcontent-%COMP%]{width:52px;height:52px}.selectedItem[_ngcontent-%COMP%]{background-color:#d8deff}.itemSlot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{line-height:12px}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;height:calc(100% - 64px);overflow:auto;margin-top:2px;margin-left:2px;border-bottom:1px solid #7f6b00}.inventoryButtons[_ngcontent-%COMP%]{position:absolute;bottom:1px;left:1px}table[_ngcontent-%COMP%]{width:100%}.inventoryLabelColumn[_ngcontent-%COMP%]{width:100px}.moneyLabelColumn[_ngcontent-%COMP%]{width:50px;font-size:12px}.moneyColumn[_ngcontent-%COMP%]{width:140px;font-size:12px}.noFood[_ngcontent-%COMP%]{font-size:16px;float:right;margin-top:4px;vertical-align:middle;color:red}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#e0dec6;display:flex;flex-direction:column;flex-grow:1}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column}.rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:360px;max-width:320px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:300px}.attributesPanel[_ngcontent-%COMP%]{overflow:auto}.activityPanel[_ngcontent-%COMP%]{flex-grow:3;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{flex-grow:1;height:160px;min-height:160px;max-height:160px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.cheat[_ngcontent-%COMP%]{font-size:3px}.panel[_ngcontent-%COMP%]{background-color:#fffaaa;margin:4px;border:3px solid #7f6b00;border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid #7f6b00;color:#000;font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}"]}),n})();function L3(n,t){if(1&n&&(go(0),g(1,"div",16),S(2),m(),vo()),2&n){const e=t.$implicit;_(1),E("ngClass",e.type),_(1),we(" ",e.message," ")}}let N3=(()=>{class n{constructor(e){this.logService=e}topicFilterCombat(e){e.target instanceof HTMLInputElement&&this.logService.updateLogTopic("COMBAT")}topicFilterStory(e){e.target instanceof HTMLInputElement&&this.logService.updateLogTopic("STORY")}topicFilterEvent(e){e.target instanceof HTMLInputElement&&this.logService.updateLogTopic("EVENT")}}return n.\u0275fac=function(e){return new(e||n)(b(on))},n.\u0275cmp=He({type:n,selectors:[["app-log-panel"]],decls:25,vars:7,consts:[[1,"log"],[1,"panelHeader"],[1,"headerNote"],[1,"filters"],["type","radio","id","filterStory",3,"checked","change"],["for","filterStory"],[1,"highlightText"],["type","radio","id","filterEvent",3,"checked","change"],["for","filterEvent"],["type","radio","id","filterCombat",3,"checked","change"],["for","filterCombat"],[1,"logContainer"],[4,"ngFor","ngForOf"],[1,"disclaimer"],[1,"disclaimerLeft"],[1,"disclaimerRight"],[1,"logEntryDiv",3,"ngClass"]],template:function(e,i){1&e&&(g(0,"div",0)(1,"h3",1)(2,"span"),S(3,"Log"),m(),g(4,"span",2),S(5,"Newest messages appear at the top"),m(),g(6,"span",3)(7,"input",4),x("change",function(o){return i.topicFilterStory(o)}),m(),g(8,"label",5),S(9,"Show Story Messages "),g(10,"span",6),S(11),m()(),g(12,"input",7),x("change",function(o){return i.topicFilterEvent(o)}),m(),g(13,"label",8),S(14),m(),g(15,"input",9),x("change",function(o){return i.topicFilterCombat(o)}),m(),g(16,"label",10),S(17),m()()(),g(18,"div",11),I(19,L3,3,2,"ng-container",12),m(),g(20,"div",13)(21,"span",14),S(22," Alpha development version, expect a lot of changes. If things look broken, use Ctrl-F5 to force a refresh and/or do a Hard Reset. "),m(),g(23,"span",15),S(24," This game should be hosted on immortalityidle.github.io. If you see it somewhere else, it's stolen. "),m()()()),2&e&&(_(7),E("checked","STORY"===i.logService.logTopic),_(4),Ne(i.logService.newStory),_(1),E("checked","EVENT"===i.logService.logTopic),_(2),we("Show Event Messages ",i.logService.newEvents,""),_(1),E("checked","COMBAT"===i.logService.logTopic),_(2),we("Show Combat Messages ",i.logService.newCombat,""),_(2),E("ngForOf",i.logService.currentLog))},directives:[jt,dr],styles:[".log[_ngcontent-%COMP%]{height:100%}.STANDARD[_ngcontent-%COMP%]{color:#000}.INJURY[_ngcontent-%COMP%]{color:red}.logEntryDiv[_ngcontent-%COMP%]{border-top:1px #cfaf88 dotted;white-space:nowrap;font-size:12px;line-height:12px;margin-left:2px;margin-top:1px}.filters[_ngcontent-%COMP%]{float:right}.logContainer[_ngcontent-%COMP%]{margin-top:-18px;height:100px;width:100%;overflow:auto}.disclaimer[_ngcontent-%COMP%]{bottom:1px;font-size:x-small;margin:10px}.disclaimerRight[_ngcontent-%COMP%]{float:right}.headerNote[_ngcontent-%COMP%]{margin-left:100px;font-size:x-small}.panelHeader[_ngcontent-%COMP%]{white-space:nowrap}.highlightText[_ngcontent-%COMP%]{color:red}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#e0dec6;display:flex;flex-direction:column;flex-grow:1}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column}.rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:360px;max-width:320px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:300px}.attributesPanel[_ngcontent-%COMP%]{overflow:auto}.activityPanel[_ngcontent-%COMP%]{flex-grow:3;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{flex-grow:1;height:160px;min-height:160px;max-height:160px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.cheat[_ngcontent-%COMP%]{font-size:3px}.panel[_ngcontent-%COMP%]{background-color:#fffaaa;margin:4px;border:3px solid #7f6b00;border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid #7f6b00;color:#000;font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}"]}),n})();function B3(n,t){if(1&n){const e=re();g(0,"mat-icon",26),x("click",function(){return H(e),M().impossibleTasksClicked()}),S(1," priority_high "),m()}}function V3(n,t){if(1&n){const e=re();g(0,"span")(1,"mat-icon",27),x("click",function(){return H(e),M().ascensionStoreClicked()}),S(2," keyboard_double_arrow_up "),m()()}}let H3=(()=>{class n{transform(e){return Math.floor(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=_t({name:"floor",type:n,pure:!0}),n})(),j3=(()=>{class n{transform(e){return(e=e.split(/(?=[A-Z])/).join(" "))[0].toUpperCase()+e.slice(1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=_t({name:"camelToTitle",type:n,pure:!0}),n})(),lE=(()=>{class n{transform(e){return e<1e4?Ni(e,"en-US","1.0-0"):e<1e6?Ni(e/1e3,"en-US","1.0-2")+"K":e<1e9?Ni(e/1e6,"en-US","1.0-2")+"M":e<1e12?Ni(e/1e9,"en-US","1.0-2")+"B":Ni(e/1e12,"en-US","1.0-2")+"T"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=_t({name:"bigNumber",type:n,pure:!0}),n})(),U3=(()=>{class n{constructor(e,i,r,o,s,a){this.mainLoopService=e,this.gameStateService=i,this.storeService=r,this.characterService=o,this.impossibleTaskService=s,this.dialog=a,this.title="immortalityidle"}handleKeyboardEvent(e){"Space"==e.code&&(this.mainLoopService.pause=!this.mainLoopService.pause,e.preventDefault())}ngOnInit(){this.gameStateService.loadFromLocalStorage(),this.mainLoopService.start()}hardResetClicked(){confirm("This will reset everything, are you sure?")&&this.gameStateService.hardReset()}saveClicked(e){e.preventDefault(),this.gameStateService.savetoLocalStorage()}storeClicked(){this.dialog.open(Ow,{width:"510px",data:{someField:"foo"}})}storeOptionsClicked(){this.dialog.open(Wj,{width:"500px",data:{someField:"foo"}})}cheat(e){e.preventDefault(),this.gameStateService.cheat()}rebirthClicked(e){e.preventDefault(),this.gameStateService.rebirth()}ascensionStoreClicked(){this.storeService.updateAscensions(),this.dialog.open(eU,{width:"500px",data:{someField:"foo"}})}achievementsClicked(){this.dialog.open(uU,{width:"500px",data:{someField:"foo"}})}impossibleTasksClicked(){this.dialog.open(LU,{width:"500px",data:{someField:"foo"}})}}return n.\u0275fac=function(e){return new(e||n)(b(Cn),b(tm),b(jo),b(Ue),b(ia),b(Nc))},n.\u0275cmp=He({type:n,selectors:[["app-root"]],hostBindings:function(e,i){1&e&&x("keydown",function(o){return i.handleKeyboardEvent(o)},!1,Xg)},decls:36,vars:2,consts:[[1,"wrapper"],[1,"mainContainer"],[1,"top-line"],[1,"gameTitle"],["tooltip","A store that sells special manuals for aspiring immortals.",1,"iconButton",3,"click"],["tooltip","Configuration options for purchased items.",1,"iconButton",3,"click"],["tooltip","Achievements!",1,"iconButton",3,"click"],["tooltip","Impossible Tasks","class","iconButton",3,"click",4,"ngIf"],[4,"ngIf"],["href","","tooltip","Voluntarily end this life, allowing your current attributes to strengthen your aptitudes in the next life.",3,"click"],["href","",1,"cheat",3,"click"],["tooltip","Autosaves fire every couple of minutes, but sometimes an immortal needs to save right now.",1,"iconButton",3,"click"],["href","","tooltip","Completely restart your journey toward immortality.","placement","left",3,"click"],[1,"panelContainer"],[1,"leftPanel"],[1,"timePanel","panel"],[1,"attributesPanel","panel"],[1,"healthPanel","panel"],[1,"centerPanel"],[1,"activityPanel","panel"],[1,"battlePanel","panel"],[1,"rightPanel"],[1,"equipmentPanel","panel"],[1,"homePanel","panel"],[1,"inventoryPanel","panel"],[1,"logPanel","panel"],["tooltip","Impossible Tasks",1,"iconButton",3,"click"],["tooltip","Ascension Store.",1,"iconButton",3,"click"]],template:function(e,i){1&e&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),S(4," Immortality Idle - Can you become an immortal? "),m(),g(5,"span")(6,"mat-icon",4),x("click",function(){return i.storeClicked()}),S(7," local_library "),m(),g(8,"mat-icon",5),x("click",function(){return i.storeOptionsClicked()}),S(9," settings "),m()(),g(10,"mat-icon",6),x("click",function(){return i.achievementsClicked()}),S(11," military_tech "),m(),I(12,B3,2,0,"mat-icon",7),I(13,V3,3,0,"span",8),g(14,"span")(15,"a",9),x("click",function(o){return i.rebirthClicked(o)}),S(16,"Reincarnate"),m(),g(17,"a",10),x("click",function(o){return i.cheat(o)}),S(18,"."),m()(),g(19,"mat-icon",11),x("click",function(o){return i.saveClicked(o)}),S(20," save "),m(),g(21,"a",12),x("click",function(){return i.hardResetClicked()}),S(22,"Hard Reset"),m()(),g(23,"div",13)(24,"div",14),ie(25,"app-time-panel",15)(26,"app-attributes-panel",16)(27,"app-health-panel",17),m(),g(28,"div",18),ie(29,"app-activity-panel",19)(30,"app-battle-panel",20),m(),g(31,"div",21),ie(32,"app-equipment-panel",22)(33,"app-home-panel",23)(34,"app-inventory-panel",24),m()(),ie(35,"app-log-panel",25),m()()),2&e&&(_(12),E("ngIf",i.impossibleTaskService.impossibleTasksUnlocked),_(1),E("ngIf",i.characterService.characterState.attributes.spirituality.value>10))},directives:[ln,Ut,tn,GU,oE,sE,e3,h3,d3,D3,aE,N3],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#e0dec6;display:flex;flex-direction:column;flex-grow:1}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column}.rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:360px;max-width:320px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:300px}.attributesPanel[_ngcontent-%COMP%]{overflow:auto}.activityPanel[_ngcontent-%COMP%]{flex-grow:3;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{flex-grow:1;height:160px;min-height:160px;max-height:160px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.cheat[_ngcontent-%COMP%]{font-size:3px}.panel[_ngcontent-%COMP%]{background-color:#fffaaa;margin:4px;border:3px solid #7f6b00;border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid #7f6b00;color:#000;font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}"]}),n})();const q3=[Pw,rE];let $3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=tt({type:n,bootstrap:[U3]}),n.\u0275inj=Ye({providers:[],imports:[[Nb,kN,CH,Rj,rf,sU.forRoot({"show-delay":500,hideDelay:50}),...q3],Pw,rE]}),n})();Zo(oE,[ln,Ut,jt,tn],[Cb,Bi,j3,ti]),Zo(sE,[ln,Ut],[H3,Bi]),Zo(aE,[tn,ln,Ut,jt,dr],[lE,ti]),Zo(Ow,[jt,dr,Ut,ln],[ti,lE]),function UP(){YS=!1}(),ZR().bootstrapModule($3).catch(n=>console.error(n))}},pe=>{pe(pe.s=894)}]);