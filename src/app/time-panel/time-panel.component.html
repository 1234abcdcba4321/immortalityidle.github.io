<h3 class="panelHeader">
  How will you spend your days?
  <mat-icon (click)="pauseClick()" [ngClass]="{'iconActive': this.mainLoopService.pause}"
    tooltip="Pause the game (spacebar)">
    pause
  </mat-icon>
  <mat-icon (click)="standardClick()" [ngClass]="{'iconActive': (mainLoopService.tickDivider === 10 && !this.mainLoopService.pause)}"
    tooltip="Standard Game Speed">
    play_arrow
  </mat-icon>
  <mat-icon *ngIf="mainLoopService.unlockFastSpeed" [ngClass]="{'iconActive': (mainLoopService.tickDivider === 5 && !this.mainLoopService.pause)}"
    (click)="fastClick()" tooltip="Fast Game Speed">
    fast_forward
  </mat-icon>
  <mat-icon *ngIf="mainLoopService.unlockFasterSpeed" [ngClass]="{'iconActive': (mainLoopService.tickDivider === 2 && !this.mainLoopService.pause)}"
    (click)="fasterClick()" tooltip="Faster Game Speed">
    skip_next
  </mat-icon>
  <mat-icon *ngIf="mainLoopService.unlockFastestSpeed" [ngClass]="{'iconActive': (mainLoopService.tickDivider === 1 && !this.mainLoopService.pause)}"
    (click)="fastestClick()" tooltip="Fastest Game Speed">
    bolt
  </mat-icon>
  <input *ngIf="activityService.autoRestart" type="checkbox" (change)="pauseOnDeath($event)" id="pauseOnDeath"
    [checked]="activityService.pauseOnDeath"/>
  <label *ngIf="activityService.autoRestart" for="pauseOnDeath">Pause on Death</label>
</h3>
<table>
  <tr *ngFor="let entry of activityService.activityLoop; let indexOfelement=index;"
    draggable="true" (dragover)="allowDrop($event)" (drop)="drop(indexOfelement, $event)" (dragstart)="drag(indexOfelement, $event)">
    <td>{{activityService.getActivityByType(entry.activity).name[activityService.getActivityByType(entry.activity).level]}} ({{entry.repeatTimes}} {{(entry.repeatTimes === 1) ? "day" : "days"}})</td>
    <td>
      <progress class="activity-progress"
        [value]="entry === currentLoopEntry ? currentTickCount : (indexOfelement < currentIndex ? entry.repeatTimes : 0)"
        [max]="entry.repeatTimes">
      </progress>
    </td>
    <td>
      <mat-icon tooltip="Spend more days on this." (click)="onPlusClick(entry)">add</mat-icon>
      <mat-icon tooltip="Spend fewer days on this." (click)="onMinusClick(entry)">remove</mat-icon>
      <mat-icon tooltip="Move this activity up in the schedule." (click)="onUpClick(entry)">arrow_upward</mat-icon>
      <mat-icon tooltip="Move this activity down in the schedule." (click)="onDownClick(entry)">arrow_downward</mat-icon>
      <mat-icon tooltip="Remove this activity from the schedule." (click)="onRemoveClick(entry)">clear</mat-icon>
    </td>
  </tr>
</table>
